var za=t=>{throw TypeError(t)};var Wi=(t,e,r)=>e.has(t)||za("Cannot "+r);var A=(t,e,r)=>(Wi(t,e,"read from private field"),r?r.call(t):e.get(t)),Ee=(t,e,r)=>e.has(t)?za("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),me=(t,e,r,n)=>(Wi(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),_e=(t,e,r)=>(Wi(t,e,"access private method"),r);import{S as nu,p as Ya,r as It,s as Zs,a as Gs,n as Ch,i as bo,b as Va,t as kh,f as Dh,c as Ph,d as Ga,e as di,h as Ka,g as Mh,j as p,u as jn,k as kt,R as j,l as Fr,m as Rh,o as _,q as Pe,v as su,w as fi,P as He,x as Ah,y as hi,z as jh,A as wo,B as iu,C as ou,D as pi,E as Ih,F as yt,G as la,H as Ce,I as _r,J as au,K as $h,L as cu,M as lu,N as uu,O as du,Q as fu,T as hu,U as pu,V as mu,W as Nh,X as gu,Y as ls,Z as vu,_ as yu,$ as Fh,a0 as _s,a1 as Ss,a2 as ir,a3 as Wh}from"./index-d6gWBnTf.js";var rt,se,bs,Je,Lr,En,pr,mr,ws,Cn,kn,Ur,Br,gr,Dn,le,Qn,_o,So,xo,Oo,To,Eo,Co,bu,tu,Lh=(tu=class extends nu{constructor(e,r){super();Ee(this,le);Ee(this,rt);Ee(this,se);Ee(this,bs);Ee(this,Je);Ee(this,Lr);Ee(this,En);Ee(this,pr);Ee(this,mr);Ee(this,ws);Ee(this,Cn);Ee(this,kn);Ee(this,Ur);Ee(this,Br);Ee(this,gr);Ee(this,Dn,new Set);this.options=r,me(this,rt,e),me(this,mr,null),me(this,pr,Ya()),this.options.experimental_prefetchInRender||A(this,pr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(A(this,se).addObserver(this),Qa(A(this,se),this.options)?_e(this,le,Qn).call(this):this.updateResult(),_e(this,le,Oo).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ko(A(this,se),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ko(A(this,se),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_e(this,le,To).call(this),_e(this,le,Eo).call(this),A(this,se).removeObserver(this)}setOptions(e){const r=this.options,n=A(this,se);if(this.options=A(this,rt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof It(this.options.enabled,A(this,se))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_e(this,le,Co).call(this),A(this,se).setOptions(this.options),r._defaulted&&!Zs(this.options,r)&&A(this,rt).getQueryCache().notify({type:"observerOptionsUpdated",query:A(this,se),observer:this});const s=this.hasListeners();s&&Ja(A(this,se),n,this.options,r)&&_e(this,le,Qn).call(this),this.updateResult(),s&&(A(this,se)!==n||It(this.options.enabled,A(this,se))!==It(r.enabled,A(this,se))||Gs(this.options.staleTime,A(this,se))!==Gs(r.staleTime,A(this,se)))&&_e(this,le,_o).call(this);const i=_e(this,le,So).call(this);s&&(A(this,se)!==n||It(this.options.enabled,A(this,se))!==It(r.enabled,A(this,se))||i!==A(this,gr))&&_e(this,le,xo).call(this,i)}getOptimisticResult(e){const r=A(this,rt).getQueryCache().build(A(this,rt),e),n=this.createResult(r,e);return Bh(this,n)&&(me(this,Je,n),me(this,En,this.options),me(this,Lr,A(this,se).state)),n}getCurrentResult(){return A(this,Je)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(e){A(this,Dn).add(e)}getCurrentQuery(){return A(this,se)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=A(this,rt).defaultQueryOptions(e),n=A(this,rt).getQueryCache().build(A(this,rt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return _e(this,le,Qn).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),A(this,Je)))}createResult(e,r){var $;const n=A(this,se),s=this.options,i=A(this,Je),o=A(this,Lr),a=A(this,En),l=e!==n?e.state:A(this,bs),{state:u}=e;let d={...u},f=!1,h;if(r._optimisticResults){const N=this.hasListeners(),k=!N&&Qa(e,r),R=N&&Ja(e,n,r,s);(k||R)&&(d={...d,...Ph(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:y}=d;h=d.data;let w=!1;if(r.placeholderData!==void 0&&h===void 0&&y==="pending"){let N;i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(N=i.data,w=!0):N=typeof r.placeholderData=="function"?r.placeholderData(($=A(this,kn))==null?void 0:$.state.data,A(this,kn)):r.placeholderData,N!==void 0&&(y="success",h=Ga(i==null?void 0:i.data,N,r),f=!0)}if(r.select&&h!==void 0&&!w)if(i&&h===(o==null?void 0:o.data)&&r.select===A(this,ws))h=A(this,Cn);else try{me(this,ws,r.select),h=r.select(h),h=Ga(i==null?void 0:i.data,h,r),me(this,Cn,h),me(this,mr,null)}catch(N){me(this,mr,N)}A(this,mr)&&(v=A(this,mr),h=A(this,Cn),m=Date.now(),y="error");const g=d.fetchStatus==="fetching",b=y==="pending",E=y==="error",S=b&&g,x=h!==void 0,P={status:y,fetchStatus:d.fetchStatus,isPending:b,isSuccess:y==="success",isError:E,isInitialLoading:S,isLoading:S,data:h,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:g,isRefetching:g&&!b,isLoadingError:E&&!x,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:E&&x,isStale:ua(e,r),refetch:this.refetch,promise:A(this,pr)};if(this.options.experimental_prefetchInRender){const N=I=>{P.status==="error"?I.reject(P.error):P.data!==void 0&&I.resolve(P.data)},k=()=>{const I=me(this,pr,P.promise=Ya());N(I)},R=A(this,pr);switch(R.status){case"pending":e.queryHash===n.queryHash&&N(R);break;case"fulfilled":(P.status==="error"||P.data!==R.value)&&k();break;case"rejected":(P.status!=="error"||P.error!==R.reason)&&k();break}}return P}updateResult(){const e=A(this,Je),r=this.createResult(A(this,se),this.options);if(me(this,Lr,A(this,se).state),me(this,En,this.options),A(this,Lr).data!==void 0&&me(this,kn,A(this,se)),Zs(r,e))return;me(this,Je,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!A(this,Dn).size)return!0;const o=new Set(i??A(this,Dn));return this.options.throwOnError&&o.add("error"),Object.keys(A(this,Je)).some(a=>{const c=a;return A(this,Je)[c]!==e[c]&&o.has(c)})};_e(this,le,bu).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_e(this,le,Oo).call(this)}},rt=new WeakMap,se=new WeakMap,bs=new WeakMap,Je=new WeakMap,Lr=new WeakMap,En=new WeakMap,pr=new WeakMap,mr=new WeakMap,ws=new WeakMap,Cn=new WeakMap,kn=new WeakMap,Ur=new WeakMap,Br=new WeakMap,gr=new WeakMap,Dn=new WeakMap,le=new WeakSet,Qn=function(e){_e(this,le,Co).call(this);let r=A(this,se).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Ch)),r},_o=function(){_e(this,le,To).call(this);const e=Gs(this.options.staleTime,A(this,se));if(bo||A(this,Je).isStale||!Va(e))return;const n=kh(A(this,Je).dataUpdatedAt,e)+1;me(this,Ur,setTimeout(()=>{A(this,Je).isStale||this.updateResult()},n))},So=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(A(this,se)):this.options.refetchInterval)??!1},xo=function(e){_e(this,le,Eo).call(this),me(this,gr,e),!(bo||It(this.options.enabled,A(this,se))===!1||!Va(A(this,gr))||A(this,gr)===0)&&me(this,Br,setInterval(()=>{(this.options.refetchIntervalInBackground||Dh.isFocused())&&_e(this,le,Qn).call(this)},A(this,gr)))},Oo=function(){_e(this,le,_o).call(this),_e(this,le,xo).call(this,_e(this,le,So).call(this))},To=function(){A(this,Ur)&&(clearTimeout(A(this,Ur)),me(this,Ur,void 0))},Eo=function(){A(this,Br)&&(clearInterval(A(this,Br)),me(this,Br,void 0))},Co=function(){const e=A(this,rt).getQueryCache().build(A(this,rt),this.options);if(e===A(this,se))return;const r=A(this,se);me(this,se,e),me(this,bs,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},bu=function(e){di.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(A(this,Je))}),A(this,rt).getQueryCache().notify({query:A(this,se),type:"observerResultsUpdated"})})},tu);function Uh(t,e){return It(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Qa(t,e){return Uh(t,e)||t.state.data!==void 0&&ko(t,e,e.refetchOnMount)}function ko(t,e,r){if(It(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&ua(t,e)}return!1}function Ja(t,e,r,n){return(t!==e||It(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&ua(t,r)}function ua(t,e){return It(e.enabled,t)!==!1&&t.isStaleByTime(Gs(e.staleTime,t))}function Bh(t,e){return!Zs(t.getCurrentResult(),e)}var vr,yr,nt,Gt,Jt,Ks,Do,ru,qh=(ru=class extends nu{constructor(e,r){super();Ee(this,Jt);Ee(this,vr);Ee(this,yr);Ee(this,nt);Ee(this,Gt);me(this,vr,e),this.setOptions(r),this.bindMethods(),_e(this,Jt,Ks).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=A(this,vr).defaultMutationOptions(e),Zs(this.options,r)||A(this,vr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:A(this,nt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ka(r.mutationKey)!==Ka(this.options.mutationKey)?this.reset():((n=A(this,nt))==null?void 0:n.state.status)==="pending"&&A(this,nt).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=A(this,nt))==null||e.removeObserver(this)}onMutationUpdate(e){_e(this,Jt,Ks).call(this),_e(this,Jt,Do).call(this,e)}getCurrentResult(){return A(this,yr)}reset(){var e;(e=A(this,nt))==null||e.removeObserver(this),me(this,nt,void 0),_e(this,Jt,Ks).call(this),_e(this,Jt,Do).call(this)}mutate(e,r){var n;return me(this,Gt,r),(n=A(this,nt))==null||n.removeObserver(this),me(this,nt,A(this,vr).getMutationCache().build(A(this,vr),this.options)),A(this,nt).addObserver(this),A(this,nt).execute(e)}},vr=new WeakMap,yr=new WeakMap,nt=new WeakMap,Gt=new WeakMap,Jt=new WeakSet,Ks=function(){var r;const e=((r=A(this,nt))==null?void 0:r.state)??Mh();me(this,yr,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Do=function(e){di.batch(()=>{var r,n,s,i,o,a,c,l;if(A(this,Gt)&&this.hasListeners()){const u=A(this,yr).variables,d=A(this,yr).context;(e==null?void 0:e.type)==="success"?((n=(r=A(this,Gt)).onSuccess)==null||n.call(r,e.data,u,d),(i=(s=A(this,Gt)).onSettled)==null||i.call(s,e.data,null,u,d)):(e==null?void 0:e.type)==="error"&&((a=(o=A(this,Gt)).onError)==null||a.call(o,e.error,u,d),(l=(c=A(this,Gt)).onSettled)==null||l.call(c,void 0,e.error,u,d))}this.listeners.forEach(u=>{u(A(this,yr))})})},ru),wu=p.createContext(!1),Hh=()=>p.useContext(wu);wu.Provider;function zh(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Yh=p.createContext(zh()),Vh=()=>p.useContext(Yh);function _u(t,e){return typeof t=="function"?t(...e):!!t}function Po(){}var Gh=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Kh=t=>{p.useEffect(()=>{t.clearReset()},[t])},Qh=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||_u(r,[t.error,n])),Jh=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...r)=>Math.max(e(...r),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Xh=(t,e)=>t.isLoading&&t.isFetching&&!e,Zh=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Xa=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function ep(t,e,r){var d,f,h,v,m;const n=jn(),s=Hh(),i=Vh(),o=n.defaultQueryOptions(t);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",Jh(o),Gh(o,i),Kh(i);const a=!n.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new e(n,o)),l=c.getOptimisticResult(o),u=!s&&t.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(y=>{const w=u?c.subscribe(di.batchCalls(y)):Po;return c.updateResult(),w},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o)},[o,c]),Zh(o,l))throw Xa(o,c,i);if(Qh({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((v=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||v.call(h,o,l),o.experimental_prefetchInRender&&!bo&&Xh(l,s)){const y=a?Xa(o,c,i):(m=n.getQueryCache().get(o.queryHash))==null?void 0:m.promise;y==null||y.catch(Po).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function Su(t,e){return ep(t,Lh)}function mi(t,e){const r=jn(),[n]=p.useState(()=>new qh(r,t));p.useEffect(()=>{n.setOptions(t)},[n,t]);const s=p.useSyncExternalStore(p.useCallback(o=>n.subscribe(di.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=p.useCallback((o,a)=>{n.mutate(o,a).catch(Po)},[n]);if(s.error&&_u(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],rp=kt("arrow-left",tp);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sp=kt("calendar",np);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],op=kt("check",ip);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gi=kt("chevron-down",ap);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],lp=kt("chevron-left",cp);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dp=kt("chevron-right",up);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],da=kt("chevron-up",fp);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],pp=kt("chevrons-up",hp);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],gp=kt("image",mp);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yp=kt("loader-circle",vp);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wp=kt("x",bp);function _p(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return p.useMemo(()=>n=>{e.forEach(s=>s(n))},e)}const vi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function In(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function fa(t){return"nodeType"in t}function it(t){var e,r;return t?In(t)?t:fa(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function ha(t){const{Document:e}=it(t);return t instanceof e}function xs(t){return In(t)?!1:t instanceof it(t).HTMLElement}function xu(t){return t instanceof it(t).SVGElement}function $n(t){return t?In(t)?t.document:fa(t)?ha(t)?t:xs(t)||xu(t)?t.ownerDocument:document:document:document}const Wt=vi?p.useLayoutEffect:p.useEffect;function pa(t){const e=p.useRef(t);return Wt(()=>{e.current=t}),p.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function Sp(){const t=p.useRef(null),e=p.useCallback((n,s)=>{t.current=setInterval(n,s)},[]),r=p.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function us(t,e){e===void 0&&(e=[t]);const r=p.useRef(t);return Wt(()=>{r.current!==t&&(r.current=t)},e),r}function Os(t,e){const r=p.useRef();return p.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function ei(t){const e=pa(t),r=p.useRef(null),n=p.useCallback(s=>{s!==r.current&&(e==null||e(s,r.current)),r.current=s},[]);return[r,n]}function Mo(t){const e=p.useRef();return p.useEffect(()=>{e.current=t},[t]),e.current}let Li={};function Ts(t,e){return p.useMemo(()=>{if(e)return e;const r=Li[t]==null?0:Li[t]+1;return Li[t]=r,t+"-"+r},[t,e])}function Ou(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((i,o)=>{const a=Object.entries(o);for(const[c,l]of a){const u=i[c];u!=null&&(i[c]=u+t*l)}return i},{...e})}}const On=Ou(1),ti=Ou(-1);function xp(t){return"clientX"in t&&"clientY"in t}function ma(t){if(!t)return!1;const{KeyboardEvent:e}=it(t.target);return e&&t instanceof e}function Op(t){if(!t)return!1;const{TouchEvent:e}=it(t.target);return e&&t instanceof e}function Ro(t){if(Op(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return xp(t)?{x:t.clientX,y:t.clientY}:null}const ds=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[ds.Translate.toString(t),ds.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),Za="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Tp(t){return t.matches(Za)?t:t.querySelector(Za)}const Ep={display:"none"};function Cp(t){let{id:e,value:r}=t;return j.createElement("div",{id:e,style:Ep},r)}function kp(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return j.createElement("div",{id:e,style:s,role:"status","aria-live":n,"aria-atomic":!0},r)}function Dp(){const[t,e]=p.useState("");return{announce:p.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const Tu=p.createContext(null);function Pp(t){const e=p.useContext(Tu);p.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Mp(){const[t]=p.useState(()=>new Set),e=p.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[p.useCallback(n=>{let{type:s,event:i}=n;t.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[t]),e]}const Rp={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Ap={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function jp(t){let{announcements:e=Ap,container:r,hiddenTextDescribedById:n,screenReaderInstructions:s=Rp}=t;const{announce:i,announcement:o}=Dp(),a=Ts("DndLiveRegion"),[c,l]=p.useState(!1);if(p.useEffect(()=>{l(!0)},[]),Pp(p.useMemo(()=>({onDragStart(d){let{active:f}=d;i(e.onDragStart({active:f}))},onDragMove(d){let{active:f,over:h}=d;e.onDragMove&&i(e.onDragMove({active:f,over:h}))},onDragOver(d){let{active:f,over:h}=d;i(e.onDragOver({active:f,over:h}))},onDragEnd(d){let{active:f,over:h}=d;i(e.onDragEnd({active:f,over:h}))},onDragCancel(d){let{active:f,over:h}=d;i(e.onDragCancel({active:f,over:h}))}}),[i,e])),!c)return null;const u=j.createElement(j.Fragment,null,j.createElement(Cp,{id:n,value:s.draggable}),j.createElement(kp,{id:a,announcement:o}));return r?Fr.createPortal(u,r):u}var je;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(je||(je={}));function ri(){}function Ip(t,e){return p.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function $p(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return p.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const Ct=Object.freeze({x:0,y:0});function Np(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function Fp(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function Wp(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=s-n,a=i-r;if(n<s&&r<i){const c=e.width*e.height,l=t.width*t.height,u=o*a,d=u/(c+l-u);return Number(d.toFixed(4))}return 0}const Lp=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const s=[];for(const i of n){const{id:o}=i,a=r.get(o);if(a){const c=Wp(a,e);c>0&&s.push({id:o,data:{droppableContainer:i,value:c}})}}return s.sort(Np)};function Up(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function Eu(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Ct}function Bp(t){return function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...r})}}const qp=Bp(1);function Hp(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function zp(t,e,r){const n=Hp(e);if(!n)return t;const{scaleX:s,scaleY:i,x:o,y:a}=n,c=t.left-o-(1-s)*parseFloat(r),l=t.top-a-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),u=s?t.width/s:t.width,d=i?t.height/i:t.height;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c}}const Yp={ignoreTransform:!1};function Nn(t,e){e===void 0&&(e=Yp);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:l,transformOrigin:u}=it(t).getComputedStyle(t);l&&(r=zp(r,l,u))}const{top:n,left:s,width:i,height:o,bottom:a,right:c}=r;return{top:n,left:s,width:i,height:o,bottom:a,right:c}}function ec(t){return Nn(t,{ignoreTransform:!0})}function Vp(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function Gp(t,e){return e===void 0&&(e=it(t).getComputedStyle(t)),e.position==="fixed"}function Kp(t,e){e===void 0&&(e=it(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?r.test(i):!1})}function ga(t,e){const r=[];function n(s){if(e!=null&&r.length>=e||!s)return r;if(ha(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!xs(s)||xu(s)||r.includes(s))return r;const i=it(t).getComputedStyle(s);return s!==t&&Kp(s,i)&&r.push(s),Gp(s,i)?r:n(s.parentNode)}return t?n(t):r}function Cu(t){const[e]=ga(t,1);return e??null}function Ui(t){return!vi||!t?null:In(t)?t:fa(t)?ha(t)||t===$n(t).scrollingElement?window:xs(t)?t:null:null}function ku(t){return In(t)?t.scrollX:t.scrollLeft}function Du(t){return In(t)?t.scrollY:t.scrollTop}function Ao(t){return{x:ku(t),y:Du(t)}}var Le;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Le||(Le={}));function Pu(t){return!vi||!t?!1:t===document.scrollingElement}function Mu(t){const e={x:0,y:0},r=Pu(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},s=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=n.y,a=t.scrollLeft>=n.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:n,minScroll:e}}const Qp={x:.2,y:.2};function Jp(t,e,r,n,s){let{top:i,left:o,right:a,bottom:c}=r;n===void 0&&(n=10),s===void 0&&(s=Qp);const{isTop:l,isBottom:u,isLeft:d,isRight:f}=Mu(t),h={x:0,y:0},v={x:0,y:0},m={height:e.height*s.y,width:e.width*s.x};return!l&&i<=e.top+m.height?(h.y=Le.Backward,v.y=n*Math.abs((e.top+m.height-i)/m.height)):!u&&c>=e.bottom-m.height&&(h.y=Le.Forward,v.y=n*Math.abs((e.bottom-m.height-c)/m.height)),!f&&a>=e.right-m.width?(h.x=Le.Forward,v.x=n*Math.abs((e.right-m.width-a)/m.width)):!d&&o<=e.left+m.width&&(h.x=Le.Backward,v.x=n*Math.abs((e.left+m.width-o)/m.width)),{direction:h,speed:v}}function Xp(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:r,right:n,bottom:s}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:s,width:t.clientWidth,height:t.clientHeight}}function Ru(t){return t.reduce((e,r)=>On(e,Ao(r)),Ct)}function Zp(t){return t.reduce((e,r)=>e+ku(r),0)}function em(t){return t.reduce((e,r)=>e+Du(r),0)}function tm(t,e){if(e===void 0&&(e=Nn),!t)return;const{top:r,left:n,bottom:s,right:i}=e(t);Cu(t)&&(s<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const rm=[["x",["left","right"],Zp],["y",["top","bottom"],em]];class va{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=ga(r),s=Ru(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of rm)for(const c of o)Object.defineProperty(this,c,{get:()=>{const l=a(n),u=s[i]-l;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class es{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var s;(s=this.target)==null||s.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function nm(t){const{EventTarget:e}=it(t);return t instanceof e?t:$n(t)}function Bi(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var gt;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(gt||(gt={}));function tc(t){t.preventDefault()}function sm(t){t.stopPropagation()}var oe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(oe||(oe={}));const Au={start:[oe.Space,oe.Enter],cancel:[oe.Esc],end:[oe.Space,oe.Enter,oe.Tab]},im=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case oe.Right:return{...r,x:r.x+25};case oe.Left:return{...r,x:r.x-25};case oe.Down:return{...r,y:r.y+25};case oe.Up:return{...r,y:r.y-25}}};class ju{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new es($n(r)),this.windowListeners=new es(it(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(gt.Resize,this.handleCancel),this.windowListeners.add(gt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(gt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&tm(n),r(Ct)}handleKeyDown(e){if(ma(e)){const{active:r,context:n,options:s}=this.props,{keyboardCodes:i=Au,coordinateGetter:o=im,scrollBehavior:a="smooth"}=s,{code:c}=e;if(i.end.includes(c)){this.handleEnd(e);return}if(i.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:l}=n.current,u=l?{x:l.left,y:l.top}:Ct;this.referenceCoordinates||(this.referenceCoordinates=u);const d=o(e,{active:r,context:n.current,currentCoordinates:u});if(d){const f=ti(d,u),h={x:0,y:0},{scrollableAncestors:v}=n.current;for(const m of v){const y=e.code,{isTop:w,isRight:g,isLeft:b,isBottom:E,maxScroll:S,minScroll:x}=Mu(m),O=Xp(m),P={x:Math.min(y===oe.Right?O.right-O.width/2:O.right,Math.max(y===oe.Right?O.left:O.left+O.width/2,d.x)),y:Math.min(y===oe.Down?O.bottom-O.height/2:O.bottom,Math.max(y===oe.Down?O.top:O.top+O.height/2,d.y))},$=y===oe.Right&&!g||y===oe.Left&&!b,N=y===oe.Down&&!E||y===oe.Up&&!w;if($&&P.x!==d.x){const k=m.scrollLeft+f.x,R=y===oe.Right&&k<=S.x||y===oe.Left&&k>=x.x;if(R&&!f.y){m.scrollTo({left:k,behavior:a});return}R?h.x=m.scrollLeft-k:h.x=y===oe.Right?m.scrollLeft-S.x:m.scrollLeft-x.x,h.x&&m.scrollBy({left:-h.x,behavior:a});break}else if(N&&P.y!==d.y){const k=m.scrollTop+f.y,R=y===oe.Down&&k<=S.y||y===oe.Up&&k>=x.y;if(R&&!f.x){m.scrollTo({top:k,behavior:a});return}R?h.y=m.scrollTop-k:h.y=y===oe.Down?m.scrollTop-S.y:m.scrollTop-x.y,h.y&&m.scrollBy({top:-h.y,behavior:a});break}}this.handleMove(e,On(ti(d,this.referenceCoordinates),h))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ju.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=Au,onActivation:s}=e,{active:i}=r;const{code:o}=t.nativeEvent;if(n.start.includes(o)){const a=i.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function rc(t){return!!(t&&"distance"in t)}function nc(t){return!!(t&&"delay"in t)}class ya{constructor(e,r,n){var s;n===void 0&&(n=nm(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:i}=e,{target:o}=i;this.props=e,this.events=r,this.document=$n(o),this.documentListeners=new es(this.document),this.listeners=new es(n),this.windowListeners=new es(it(o)),this.initialCoordinates=(s=Ro(i))!=null?s:Ct,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(gt.Resize,this.handleCancel),this.windowListeners.add(gt.DragStart,tc),this.windowListeners.add(gt.VisibilityChange,this.handleCancel),this.windowListeners.add(gt.ContextMenu,tc),this.documentListeners.add(gt.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(nc(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(rc(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:s}=this.props;s(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(gt.Click,sm,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(gt.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const c=(r=Ro(e))!=null?r:Ct,l=ti(s,c);if(!n&&a){if(rc(a)){if(a.tolerance!=null&&Bi(l,a.tolerance))return this.handleCancel();if(Bi(l,a.distance))return this.handleStart()}if(nc(a)&&Bi(l,a.tolerance))return this.handleCancel();this.handlePending(a,l);return}e.cancelable&&e.preventDefault(),o(c)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===oe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const om={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ba extends ya{constructor(e){const{event:r}=e,n=$n(r.target);super(e,om,n)}}ba.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const am={move:{name:"mousemove"},end:{name:"mouseup"}};var jo;(function(t){t[t.RightClick=2]="RightClick"})(jo||(jo={}));class cm extends ya{constructor(e){super(e,am,$n(e.event.target))}}cm.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===jo.RightClick?!1:(n==null||n({event:r}),!0)}}];const qi={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class lm extends ya{constructor(e){super(e,qi)}static setup(){return window.addEventListener(qi.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(qi.move.name,e)};function e(){}}}lm.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:s}=r;return s.length>1?!1:(n==null||n({event:r}),!0)}}];var ts;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(ts||(ts={}));var ni;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(ni||(ni={}));function um(t){let{acceleration:e,activator:r=ts.Pointer,canScroll:n,draggingRect:s,enabled:i,interval:o=5,order:a=ni.TreeOrder,pointerCoordinates:c,scrollableAncestors:l,scrollableAncestorRects:u,delta:d,threshold:f}=t;const h=fm({delta:d,disabled:!i}),[v,m]=Sp(),y=p.useRef({x:0,y:0}),w=p.useRef({x:0,y:0}),g=p.useMemo(()=>{switch(r){case ts.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ts.DraggableRect:return s}},[r,s,c]),b=p.useRef(null),E=p.useCallback(()=>{const x=b.current;if(!x)return;const O=y.current.x*w.current.x,P=y.current.y*w.current.y;x.scrollBy(O,P)},[]),S=p.useMemo(()=>a===ni.TreeOrder?[...l].reverse():l,[a,l]);p.useEffect(()=>{if(!i||!l.length||!g){m();return}for(const x of S){if((n==null?void 0:n(x))===!1)continue;const O=l.indexOf(x),P=u[O];if(!P)continue;const{direction:$,speed:N}=Jp(x,P,g,e,f);for(const k of["x","y"])h[k][$[k]]||(N[k]=0,$[k]=0);if(N.x>0||N.y>0){m(),b.current=x,v(E,o),y.current=N,w.current=$;return}}y.current={x:0,y:0},w.current={x:0,y:0},m()},[e,E,n,m,i,o,JSON.stringify(g),JSON.stringify(h),v,l,S,u,JSON.stringify(f)])}const dm={x:{[Le.Backward]:!1,[Le.Forward]:!1},y:{[Le.Backward]:!1,[Le.Forward]:!1}};function fm(t){let{delta:e,disabled:r}=t;const n=Mo(e);return Os(s=>{if(r||!n||!s)return dm;const i={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Le.Backward]:s.x[Le.Backward]||i.x===-1,[Le.Forward]:s.x[Le.Forward]||i.x===1},y:{[Le.Backward]:s.y[Le.Backward]||i.y===-1,[Le.Forward]:s.y[Le.Forward]||i.y===1}}},[r,e,n])}function hm(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return Os(s=>{var i;return e==null?null:(i=n??s)!=null?i:null},[n,e])}function pm(t,e){return p.useMemo(()=>t.reduce((r,n)=>{const{sensor:s}=n,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,n)}));return[...r,...i]},[]),[t,e])}var fs;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(fs||(fs={}));var Io;(function(t){t.Optimized="optimized"})(Io||(Io={}));const sc=new Map;function mm(t,e){let{dragging:r,dependencies:n,config:s}=e;const[i,o]=p.useState(null),{frequency:a,measure:c,strategy:l}=s,u=p.useRef(t),d=y(),f=us(d),h=p.useCallback(function(w){w===void 0&&(w=[]),!f.current&&o(g=>g===null?w:g.concat(w.filter(b=>!g.includes(b))))},[f]),v=p.useRef(null),m=Os(w=>{if(d&&!r)return sc;if(!w||w===sc||u.current!==t||i!=null){const g=new Map;for(let b of t){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){g.set(b.id,b.rect.current);continue}const E=b.node.current,S=E?new va(c(E),E):null;b.rect.current=S,S&&g.set(b.id,S)}return g}return w},[t,i,r,d,c]);return p.useEffect(()=>{u.current=t},[t]),p.useEffect(()=>{d||h()},[r,d]),p.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),p.useEffect(()=>{d||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{h(),v.current=null},a))},[a,d,h,...n]),{droppableRects:m,measureDroppableContainers:h,measuringScheduled:i!=null};function y(){switch(l){case fs.Always:return!1;case fs.BeforeDragging:return r;default:return!r}}}function Iu(t,e){return Os(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function gm(t,e){return Iu(t,e)}function vm(t){let{callback:e,disabled:r}=t;const n=pa(e),s=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,r]);return p.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function yi(t){let{callback:e,disabled:r}=t;const n=pa(e),s=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[r]);return p.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function ym(t){return new va(Nn(t),t)}function ic(t,e,r){e===void 0&&(e=ym);const[n,s]=p.useState(null);function i(){s(c=>{if(!t)return null;if(t.isConnected===!1){var l;return(l=c??r)!=null?l:null}const u=e(t);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const o=vm({callback(c){if(t)for(const l of c){const{type:u,target:d}=l;if(u==="childList"&&d instanceof HTMLElement&&d.contains(t)){i();break}}}}),a=yi({callback:i});return Wt(()=>{i(),t?(a==null||a.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[t]),n}function bm(t){const e=Iu(t);return Eu(t,e)}const oc=[];function wm(t){const e=p.useRef(t),r=Os(n=>t?n&&n!==oc&&t&&e.current&&t.parentNode===e.current.parentNode?n:ga(t):oc,[t]);return p.useEffect(()=>{e.current=t},[t]),r}function _m(t){const[e,r]=p.useState(null),n=p.useRef(t),s=p.useCallback(i=>{const o=Ui(i.target);o&&r(a=>a?(a.set(o,Ao(o)),new Map(a)):null)},[]);return p.useEffect(()=>{const i=n.current;if(t!==i){o(i);const a=t.map(c=>{const l=Ui(c);return l?(l.addEventListener("scroll",s,{passive:!0}),[l,Ao(l)]):null}).filter(c=>c!=null);r(a.length?new Map(a):null),n.current=t}return()=>{o(t),o(i)};function o(a){a.forEach(c=>{const l=Ui(c);l==null||l.removeEventListener("scroll",s)})}},[s,t]),p.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>On(i,o),Ct):Ru(t):Ct,[t,e])}function ac(t,e){e===void 0&&(e=[]);const r=p.useRef(null);return p.useEffect(()=>{r.current=null},e),p.useEffect(()=>{const n=t!==Ct;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?ti(t,r.current):Ct}function Sm(t){p.useEffect(()=>{if(!vi)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r==null||r()}},t.map(e=>{let{sensor:r}=e;return r}))}function xm(t,e){return p.useMemo(()=>t.reduce((r,n)=>{let{eventName:s,handler:i}=n;return r[s]=o=>{i(o,e)},r},{}),[t,e])}function $u(t){return p.useMemo(()=>t?Vp(t):null,[t])}const cc=[];function Om(t,e){e===void 0&&(e=Nn);const[r]=t,n=$u(r?it(r):null),[s,i]=p.useState(cc);function o(){i(()=>t.length?t.map(c=>Pu(c)?n:new va(e(c),c)):cc)}const a=yi({callback:o});return Wt(()=>{a==null||a.disconnect(),o(),t.forEach(c=>a==null?void 0:a.observe(c))},[t]),s}function Tm(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return xs(e)?e:t}function Em(t){let{measure:e}=t;const[r,n]=p.useState(null),s=p.useCallback(l=>{for(const{target:u}of l)if(xs(u)){n(d=>{const f=e(u);return d?{...d,width:f.width,height:f.height}:f});break}},[e]),i=yi({callback:s}),o=p.useCallback(l=>{const u=Tm(l);i==null||i.disconnect(),u&&(i==null||i.observe(u)),n(u?e(u):null)},[e,i]),[a,c]=ei(o);return p.useMemo(()=>({nodeRef:a,rect:r,setRef:c}),[r,a,c])}const Cm=[{sensor:ba,options:{}},{sensor:ju,options:{}}],km={current:{}},Qs={draggable:{measure:ec},droppable:{measure:ec,strategy:fs.WhileDragging,frequency:Io.Optimized},dragOverlay:{measure:Nn}};class rs extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const Dm={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new rs,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ri},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Qs,measureDroppableContainers:ri,windowRect:null,measuringScheduled:!1},Pm={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ri,draggableNodes:new Map,over:null,measureDroppableContainers:ri},bi=p.createContext(Pm),Nu=p.createContext(Dm);function Mm(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new rs}}}function Rm(t,e){switch(e.type){case je.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case je.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case je.DragEnd:case je.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case je.RegisterDroppable:{const{element:r}=e,{id:n}=r,s=new rs(t.droppable.containers);return s.set(n,r),{...t,droppable:{...t.droppable,containers:s}}}case je.SetDroppableDisabled:{const{id:r,key:n,disabled:s}=e,i=t.droppable.containers.get(r);if(!i||n!==i.key)return t;const o=new rs(t.droppable.containers);return o.set(r,{...i,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case je.UnregisterDroppable:{const{id:r,key:n}=e,s=t.droppable.containers.get(r);if(!s||n!==s.key)return t;const i=new rs(t.droppable.containers);return i.delete(r),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function Am(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:s}=p.useContext(bi),i=Mo(n),o=Mo(r==null?void 0:r.id);return p.useEffect(()=>{if(!e&&!n&&i&&o!=null){if(!ma(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:c,node:l}=a;if(!c.current&&!l.current)return;requestAnimationFrame(()=>{for(const u of[c.current,l.current]){if(!u)continue;const d=Tp(u);if(d){d.focus();break}}})}},[n,e,s,o,i]),null}function jm(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((s,i)=>i({transform:s,...n}),r):r}function Im(t){return p.useMemo(()=>({draggable:{...Qs.draggable,...t==null?void 0:t.draggable},droppable:{...Qs.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Qs.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function $m(t){let{activeNode:e,measure:r,initialRect:n,config:s=!0}=t;const i=p.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;Wt(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!n)return;const l=e==null?void 0:e.node.current;if(!l||l.isConnected===!1)return;const u=r(l),d=Eu(u,n);if(o||(d.x=0),a||(d.y=0),i.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const f=Cu(l);f&&f.scrollBy({top:d.y,left:d.x})}},[e,o,a,n,r])}const Fu=p.createContext({...Ct,scaleX:1,scaleY:1});var dr;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(dr||(dr={}));const Nm=p.memo(function(e){var r,n,s,i;let{id:o,accessibility:a,autoScroll:c=!0,children:l,sensors:u=Cm,collisionDetection:d=Lp,measuring:f,modifiers:h,...v}=e;const m=p.useReducer(Rm,void 0,Mm),[y,w]=m,[g,b]=Mp(),[E,S]=p.useState(dr.Uninitialized),x=E===dr.Initialized,{draggable:{active:O,nodes:P,translate:$},droppable:{containers:N}}=y,k=O!=null?P.get(O):null,R=p.useRef({initial:null,translated:null}),I=p.useMemo(()=>{var Ne;return O!=null?{id:O,data:(Ne=k==null?void 0:k.data)!=null?Ne:km,rect:R}:null},[O,k]),D=p.useRef(null),[M,L]=p.useState(null),[T,F]=p.useState(null),z=us(v,Object.values(v)),V=Ts("DndDescribedBy",o),G=p.useMemo(()=>N.getEnabled(),[N]),ee=Im(f),{droppableRects:ue,measureDroppableContainers:be,measuringScheduled:Te}=mm(G,{dragging:x,dependencies:[$.x,$.y],config:ee.droppable}),he=hm(P,O),H=p.useMemo(()=>T?Ro(T):null,[T]),ne=ie(),pe=gm(he,ee.draggable.measure);$m({activeNode:O!=null?P.get(O):null,config:ne.layoutShiftCompensation,initialRect:pe,measure:ee.draggable.measure});const B=ic(he,ee.draggable.measure,pe),te=ic(he?he.parentElement:null),J=p.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:ue,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Me=N.getNodeFor((r=J.current.over)==null?void 0:r.id),ke=Em({measure:ee.dragOverlay.measure}),Ze=(n=ke.nodeRef.current)!=null?n:he,et=x?(s=ke.rect)!=null?s:B:null,bt=!!(ke.nodeRef.current&&ke.rect),nn=bm(bt?null:B),Bt=$u(Ze?it(Ze):null),dt=wm(x?Me??he:null),tr=Om(dt),C=jm(h,{transform:{x:$.x-nn.x,y:$.y-nn.y,scaleX:1,scaleY:1},activatorEvent:T,active:I,activeNodeRect:B,containerNodeRect:te,draggingNodeRect:et,over:J.current.over,overlayNodeRect:ke.rect,scrollableAncestors:dt,scrollableAncestorRects:tr,windowRect:Bt}),W=H?On(H,$):null,U=_m(dt),q=ac(U),K=ac(U,[B]),Z=On(C,q),xe=et?qp(et,C):null,Ue=I&&xe?d({active:I,collisionRect:xe,droppableRects:ue,droppableContainers:G,pointerCoordinates:W}):null,rr=Fp(Ue,"id"),[Ye,sn]=p.useState(null),X=bt?C:On(C,K),we=Up(X,(i=Ye==null?void 0:Ye.rect)!=null?i:null,B),ae=p.useRef(null),wt=p.useCallback((Ne,Ve)=>{let{sensor:Ge,options:ht}=Ve;if(D.current==null)return;const ze=P.get(D.current);if(!ze)return;const at=Ne.nativeEvent,Dt=new Ge({active:D.current,activeNode:ze,event:at,options:ht,context:J,onAbort(Be){if(!P.get(Be))return;const{onDragAbort:Pt}=z.current,qt={id:Be};Pt==null||Pt(qt),g({type:"onDragAbort",event:qt})},onPending(Be,nr,Pt,qt){if(!P.get(Be))return;const{onDragPending:qn}=z.current,sr={id:Be,constraint:nr,initialCoordinates:Pt,offset:qt};qn==null||qn(sr),g({type:"onDragPending",event:sr})},onStart(Be){const nr=D.current;if(nr==null)return;const Pt=P.get(nr);if(!Pt)return;const{onDragStart:qt}=z.current,Bn={activatorEvent:at,active:{id:nr,data:Pt.data,rect:R}};Fr.unstable_batchedUpdates(()=>{qt==null||qt(Bn),S(dr.Initializing),w({type:je.DragStart,initialCoordinates:Be,active:nr}),g({type:"onDragStart",event:Bn}),L(ae.current),F(at)})},onMove(Be){w({type:je.DragMove,coordinates:Be})},onEnd:on(je.DragEnd),onCancel:on(je.DragCancel)});ae.current=Dt;function on(Be){return async function(){const{active:Pt,collisions:qt,over:Bn,scrollAdjustedTranslate:qn}=J.current;let sr=null;if(Pt&&qn){const{cancelDrop:Hn}=z.current;sr={activatorEvent:at,active:Pt,collisions:qt,delta:qn,over:Bn},Be===je.DragEnd&&typeof Hn=="function"&&await Promise.resolve(Hn(sr))&&(Be=je.DragCancel)}D.current=null,Fr.unstable_batchedUpdates(()=>{w({type:Be}),S(dr.Uninitialized),sn(null),L(null),F(null),ae.current=null;const Hn=Be===je.DragEnd?"onDragEnd":"onDragCancel";if(sr){const Fi=z.current[Hn];Fi==null||Fi(sr),g({type:Hn,event:sr})}})}}},[P]),ot=p.useCallback((Ne,Ve)=>(Ge,ht)=>{const ze=Ge.nativeEvent,at=P.get(ht);if(D.current!==null||!at||ze.dndKit||ze.defaultPrevented)return;const Dt={active:at};Ne(Ge,Ve.options,Dt)===!0&&(ze.dndKit={capturedBy:Ve.sensor},D.current=ht,wt(Ge,Ve))},[P,wt]),kr=pm(u,ot);Sm(u),Wt(()=>{B&&E===dr.Initializing&&S(dr.Initialized)},[B,E]),p.useEffect(()=>{const{onDragMove:Ne}=z.current,{active:Ve,activatorEvent:Ge,collisions:ht,over:ze}=J.current;if(!Ve||!Ge)return;const at={active:Ve,activatorEvent:Ge,collisions:ht,delta:{x:Z.x,y:Z.y},over:ze};Fr.unstable_batchedUpdates(()=>{Ne==null||Ne(at),g({type:"onDragMove",event:at})})},[Z.x,Z.y]),p.useEffect(()=>{const{active:Ne,activatorEvent:Ve,collisions:Ge,droppableContainers:ht,scrollAdjustedTranslate:ze}=J.current;if(!Ne||D.current==null||!Ve||!ze)return;const{onDragOver:at}=z.current,Dt=ht.get(rr),on=Dt&&Dt.rect.current?{id:Dt.id,rect:Dt.rect.current,data:Dt.data,disabled:Dt.disabled}:null,Be={active:Ne,activatorEvent:Ve,collisions:Ge,delta:{x:ze.x,y:ze.y},over:on};Fr.unstable_batchedUpdates(()=>{sn(on),at==null||at(Be),g({type:"onDragOver",event:Be})})},[rr]),Wt(()=>{J.current={activatorEvent:T,active:I,activeNode:he,collisionRect:xe,collisions:Ue,droppableRects:ue,draggableNodes:P,draggingNode:Ze,draggingNodeRect:et,droppableContainers:N,over:Ye,scrollableAncestors:dt,scrollAdjustedTranslate:Z},R.current={initial:et,translated:xe}},[I,he,Ue,xe,P,Ze,et,ue,N,Ye,dt,Z]),um({...ne,delta:$,draggingRect:xe,pointerCoordinates:W,scrollableAncestors:dt,scrollableAncestorRects:tr});const $e=p.useMemo(()=>({active:I,activeNode:he,activeNodeRect:B,activatorEvent:T,collisions:Ue,containerNodeRect:te,dragOverlay:ke,draggableNodes:P,droppableContainers:N,droppableRects:ue,over:Ye,measureDroppableContainers:be,scrollableAncestors:dt,scrollableAncestorRects:tr,measuringConfiguration:ee,measuringScheduled:Te,windowRect:Bt}),[I,he,B,T,Ue,te,ke,P,N,ue,Ye,be,dt,tr,ee,Te,Bt]),ft=p.useMemo(()=>({activatorEvent:T,activators:kr,active:I,activeNodeRect:B,ariaDescribedById:{draggable:V},dispatch:w,draggableNodes:P,over:Ye,measureDroppableContainers:be}),[T,kr,I,B,w,V,P,Ye,be]);return j.createElement(Tu.Provider,{value:b},j.createElement(bi.Provider,{value:ft},j.createElement(Nu.Provider,{value:$e},j.createElement(Fu.Provider,{value:we},l)),j.createElement(Am,{disabled:(a==null?void 0:a.restoreFocus)===!1})),j.createElement(jp,{...a,hiddenTextDescribedById:V}));function ie(){const Ne=(M==null?void 0:M.autoScrollEnabled)===!1,Ve=typeof c=="object"?c.enabled===!1:c===!1,Ge=x&&!Ne&&!Ve;return typeof c=="object"?{...c,enabled:Ge}:{enabled:Ge}}}),Fm=p.createContext(null),lc="button",Wm="Draggable";function Lm(t){let{id:e,data:r,disabled:n=!1,attributes:s}=t;const i=Ts(Wm),{activators:o,activatorEvent:a,active:c,activeNodeRect:l,ariaDescribedById:u,draggableNodes:d,over:f}=p.useContext(bi),{role:h=lc,roleDescription:v="draggable",tabIndex:m=0}=s??{},y=(c==null?void 0:c.id)===e,w=p.useContext(y?Fu:Fm),[g,b]=ei(),[E,S]=ei(),x=xm(o,e),O=us(r);Wt(()=>(d.set(e,{id:e,key:i,node:g,activatorNode:E,data:O}),()=>{const $=d.get(e);$&&$.key===i&&d.delete(e)}),[d,e]);const P=p.useMemo(()=>({role:h,tabIndex:m,"aria-disabled":n,"aria-pressed":y&&h===lc?!0:void 0,"aria-roledescription":v,"aria-describedby":u.draggable}),[n,h,m,y,v,u.draggable]);return{active:c,activatorEvent:a,activeNodeRect:l,attributes:P,isDragging:y,listeners:n?void 0:x,node:g,over:f,setNodeRef:b,setActivatorNodeRef:S,transform:w}}function Um(){return p.useContext(Nu)}const Bm="Droppable",qm={timeout:25};function Wu(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:s}=t;const i=Ts(Bm),{active:o,dispatch:a,over:c,measureDroppableContainers:l}=p.useContext(bi),u=p.useRef({disabled:r}),d=p.useRef(!1),f=p.useRef(null),h=p.useRef(null),{disabled:v,updateMeasurementsFor:m,timeout:y}={...qm,...s},w=us(m??n),g=p.useCallback(()=>{if(!d.current){d.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{l(Array.isArray(w.current)?w.current:[w.current]),h.current=null},y)},[y]),b=yi({callback:g,disabled:v||!o}),E=p.useCallback((P,$)=>{b&&($&&(b.unobserve($),d.current=!1),P&&b.observe(P))},[b]),[S,x]=ei(E),O=us(e);return p.useEffect(()=>{!b||!S.current||(b.disconnect(),d.current=!1,b.observe(S.current))},[S,b]),p.useEffect(()=>(a({type:je.RegisterDroppable,element:{id:n,key:i,disabled:r,node:S,rect:f,data:O}}),()=>a({type:je.UnregisterDroppable,key:i,id:n})),[n]),p.useEffect(()=>{r!==u.current.disabled&&(a({type:je.SetDroppableDisabled,id:n,key:i,disabled:r}),u.current.disabled=r)},[n,i,r,a]),{active:o,rect:f,isOver:(c==null?void 0:c.id)===n,node:S,over:c,setNodeRef:x}}function Lu(t,e,r){const n=t.slice();return n.splice(r<0?n.length+r:r,0,n.splice(e,1)[0]),n}function Hm(t,e){return t.reduce((r,n,s)=>{const i=e.get(n);return i&&(r[s]=i),r},Array(t.length))}function js(t){return t!==null&&t>=0}function zm(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Ym(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Uu=t=>{let{rects:e,activeIndex:r,overIndex:n,index:s}=t;const i=Lu(e,n,r),o=e[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},Bu="Sortable",qu=j.createContext({activeIndex:-1,containerId:Bu,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Uu,disabled:{draggable:!1,droppable:!1}});function Vm(t){let{children:e,id:r,items:n,strategy:s=Uu,disabled:i=!1}=t;const{active:o,dragOverlay:a,droppableRects:c,over:l,measureDroppableContainers:u}=Um(),d=Ts(Bu,r),f=a.rect!==null,h=p.useMemo(()=>n.map(x=>typeof x=="object"&&"id"in x?x.id:x),[n]),v=o!=null,m=o?h.indexOf(o.id):-1,y=l?h.indexOf(l.id):-1,w=p.useRef(h),g=!zm(h,w.current),b=y!==-1&&m===-1||g,E=Ym(i);Wt(()=>{g&&v&&u(h)},[g,h,v,u]),p.useEffect(()=>{w.current=h},[h]);const S=p.useMemo(()=>({activeIndex:m,containerId:d,disabled:E,disableTransforms:b,items:h,overIndex:y,useDragOverlay:f,sortedRects:Hm(h,c),strategy:s}),[m,d,E.draggable,E.droppable,b,h,y,c,f,s]);return j.createElement(qu.Provider,{value:S},e)}const Gm=t=>{let{id:e,items:r,activeIndex:n,overIndex:s}=t;return Lu(r,n,s).indexOf(e)},Km=t=>{let{containerId:e,isSorting:r,wasDragging:n,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:c,transition:l}=t;return!l||!n||a!==i&&s===o?!1:r?!0:o!==s&&e===c},Qm={duration:200,easing:"ease"},Hu="transform",Jm=ds.Transition.toString({property:Hu,duration:0,easing:"linear"}),Xm={roleDescription:"sortable"};function Zm(t){let{disabled:e,index:r,node:n,rect:s}=t;const[i,o]=p.useState(null),a=p.useRef(r);return Wt(()=>{if(!e&&r!==a.current&&n.current){const c=s.current;if(c){const l=Nn(n.current,{ignoreTransform:!0}),u={x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height};(u.x||u.y)&&o(u)}}r!==a.current&&(a.current=r)},[e,r,n,s]),p.useEffect(()=>{i&&o(null)},[i]),i}function eg(t){let{animateLayoutChanges:e=Km,attributes:r,disabled:n,data:s,getNewIndex:i=Gm,id:o,strategy:a,resizeObserverConfig:c,transition:l=Qm}=t;const{items:u,containerId:d,activeIndex:f,disabled:h,disableTransforms:v,sortedRects:m,overIndex:y,useDragOverlay:w,strategy:g}=p.useContext(qu),b=tg(n,h),E=u.indexOf(o),S=p.useMemo(()=>({sortable:{containerId:d,index:E,items:u},...s}),[d,s,E,u]),x=p.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:O,node:P,isOver:$,setNodeRef:N}=Wu({id:o,data:S,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:x,...c}}),{active:k,activatorEvent:R,activeNodeRect:I,attributes:D,setNodeRef:M,listeners:L,isDragging:T,over:F,setActivatorNodeRef:z,transform:V}=Lm({id:o,data:S,attributes:{...Xm,...r},disabled:b.draggable}),G=_p(N,M),ee=!!k,ue=ee&&!v&&js(f)&&js(y),be=!w&&T,Te=be&&ue?V:null,H=ue?Te??(a??g)({rects:m,activeNodeRect:I,activeIndex:f,overIndex:y,index:E}):null,ne=js(f)&&js(y)?i({id:o,items:u,activeIndex:f,overIndex:y}):E,pe=k==null?void 0:k.id,B=p.useRef({activeId:pe,items:u,newIndex:ne,containerId:d}),te=u!==B.current.items,J=e({active:k,containerId:d,isDragging:T,isSorting:ee,id:o,index:E,items:u,newIndex:B.current.newIndex,previousItems:B.current.items,previousContainerId:B.current.containerId,transition:l,wasDragging:B.current.activeId!=null}),Me=Zm({disabled:!J,index:E,node:P,rect:O});return p.useEffect(()=>{ee&&B.current.newIndex!==ne&&(B.current.newIndex=ne),d!==B.current.containerId&&(B.current.containerId=d),u!==B.current.items&&(B.current.items=u)},[ee,ne,d,u]),p.useEffect(()=>{if(pe===B.current.activeId)return;if(pe!=null&&B.current.activeId==null){B.current.activeId=pe;return}const Ze=setTimeout(()=>{B.current.activeId=pe},50);return()=>clearTimeout(Ze)},[pe]),{active:k,activeIndex:f,attributes:D,data:S,rect:O,index:E,newIndex:ne,items:u,isOver:$,isSorting:ee,isDragging:T,listeners:L,node:P,overIndex:y,over:F,setNodeRef:G,setActivatorNodeRef:z,setDroppableNodeRef:N,setDraggableNodeRef:M,transform:Me??H,transition:ke()};function ke(){if(Me||te&&B.current.newIndex===E)return Jm;if(!(be&&!ma(R)||!l)&&(ee||J))return ds.Transition.toString({...l,property:Hu})}}function tg(t,e){var r,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(r=t==null?void 0:t.draggable)!=null?r:e.draggable,droppable:(n=t==null?void 0:t.droppable)!=null?n:e.droppable}}oe.Down,oe.Right,oe.Up,oe.Left;const rg=t=>{const{count:e,children:r,title:n,description:s,withGoBack:i=!1,withTitleOverflow:o}=t,a=Rh(),c=()=>a.history.back();return _.jsx("header",{className:"sticky top-[-1px] group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 flex h-12 shrink-0 items-center gap-2 border-b pb-2 transition-[width,height] ease-linear bg-background z-20",children:_.jsxs("div",{className:"flex w-full items-center gap-1 lg:gap-2 justify-between",children:[_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsxs("div",{className:"flex gap-2",children:[i&&_.jsx(rp,{className:"cursor-pointer mt-[2px]",onClick:c}),_.jsxs("div",{children:[_.jsx("h1",{className:Pe("font-bold text-xl",{"lg:max-w-fit sm:max-w-[310px] max-w-[240px] text-ellipsis overflow-hidden whitespace-nowrap":o}),children:n}),s&&_.jsx("h3",{className:"text-m text-muted-foreground",children:s})]})]}),!!e&&_.jsx("span",{className:"font-small bg-primary text-primary-foreground rounded-full py-[2px] px-[4px] min-w-[30px] h-fit inline-flex items-center justify-center z-20",children:e})]}),_.jsx("div",{className:"flex gap-2",children:r})]})})},ng=j.memo(rg),sg=su("flex-col items-center justify-center",{variants:{show:{true:"flex",false:"hidden"}},defaultVariants:{show:!0}}),ig=su("animate-spin text-primary",{variants:{size:{small:"size-6",medium:"size-8",large:"size-12"}},defaultVariants:{size:"medium"}});function og({size:t,show:e,children:r,className:n}){return _.jsxs("span",{className:sg({show:e}),children:[_.jsx(yp,{className:Pe(ig({size:t}),n)}),r]})}const ag=t=>{const{children:e,isLoading:r,header:{actions:n,...s}}=t;return _.jsxs("section",{className:"relative px-4 gap-2 lg:px-6 pb-4 flex flex-col",children:[_.jsx(ng,{...s,children:n}),r?_.jsx(og,{size:"large"}):e]})},cg=p.memo(ag);var lg=function(e){return ug(e)&&!dg(e)};function ug(t){return!!t&&typeof t=="object"}function dg(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||pg(t)}var fg=typeof Symbol=="function"&&Symbol.for,hg=fg?Symbol.for("react.element"):60103;function pg(t){return t.$$typeof===hg}function mg(t){return Array.isArray(t)?[]:{}}function si(t,e){return e.clone!==!1&&e.isMergeableObject(t)?hs(mg(t),t,e):t}function gg(t,e,r){return t.concat(e).map(function(n){return si(n,r)})}function vg(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(s){n[s]=si(t[s],r)}),Object.keys(e).forEach(function(s){!r.isMergeableObject(e[s])||!t[s]?n[s]=si(e[s],r):n[s]=hs(t[s],e[s],r)}),n}function hs(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||gg,r.isMergeableObject=r.isMergeableObject||lg;var n=Array.isArray(e),s=Array.isArray(t),i=n===s;return i?n?r.arrayMerge(t,e,r):vg(t,e,r):si(e,r)}hs.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,s){return hs(n,s,r)},{})};var $o=hs,zu=typeof global=="object"&&global&&global.Object===Object&&global,yg=typeof self=="object"&&self&&self.Object===Object&&self,Ut=zu||yg||Function("return this")(),Sr=Ut.Symbol,Yu=Object.prototype,bg=Yu.hasOwnProperty,wg=Yu.toString,zn=Sr?Sr.toStringTag:void 0;function _g(t){var e=bg.call(t,zn),r=t[zn];try{t[zn]=void 0;var n=!0}catch{}var s=wg.call(t);return n&&(e?t[zn]=r:delete t[zn]),s}var Sg=Object.prototype,xg=Sg.toString;function Og(t){return xg.call(t)}var Tg="[object Null]",Eg="[object Undefined]",uc=Sr?Sr.toStringTag:void 0;function Jr(t){return t==null?t===void 0?Eg:Tg:uc&&uc in Object(t)?_g(t):Og(t)}function Vu(t,e){return function(r){return t(e(r))}}var wa=Vu(Object.getPrototypeOf,Object);function Xr(t){return t!=null&&typeof t=="object"}var Cg="[object Object]",kg=Function.prototype,Dg=Object.prototype,Gu=kg.toString,Pg=Dg.hasOwnProperty,Mg=Gu.call(Object);function dc(t){if(!Xr(t)||Jr(t)!=Cg)return!1;var e=wa(t);if(e===null)return!0;var r=Pg.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Gu.call(r)==Mg}function Rg(){this.__data__=[],this.size=0}function Ku(t,e){return t===e||t!==t&&e!==e}function wi(t,e){for(var r=t.length;r--;)if(Ku(t[r][0],e))return r;return-1}var Ag=Array.prototype,jg=Ag.splice;function Ig(t){var e=this.__data__,r=wi(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():jg.call(e,r,1),--this.size,!0}function $g(t){var e=this.__data__,r=wi(e,t);return r<0?void 0:e[r][1]}function Ng(t){return wi(this.__data__,t)>-1}function Fg(t,e){var r=this.__data__,n=wi(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Xt(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xt.prototype.clear=Rg;Xt.prototype.delete=Ig;Xt.prototype.get=$g;Xt.prototype.has=Ng;Xt.prototype.set=Fg;function Wg(){this.__data__=new Xt,this.size=0}function Lg(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Ug(t){return this.__data__.get(t)}function Bg(t){return this.__data__.has(t)}function Es(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qg="[object AsyncFunction]",Hg="[object Function]",zg="[object GeneratorFunction]",Yg="[object Proxy]";function Qu(t){if(!Es(t))return!1;var e=Jr(t);return e==Hg||e==zg||e==qg||e==Yg}var Hi=Ut["__core-js_shared__"],fc=function(){var t=/[^.]+$/.exec(Hi&&Hi.keys&&Hi.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Vg(t){return!!fc&&fc in t}var Gg=Function.prototype,Kg=Gg.toString;function Zr(t){if(t!=null){try{return Kg.call(t)}catch{}try{return t+""}catch{}}return""}var Qg=/[\\^$.*+?()[\]{}|]/g,Jg=/^\[object .+?Constructor\]$/,Xg=Function.prototype,Zg=Object.prototype,ev=Xg.toString,tv=Zg.hasOwnProperty,rv=RegExp("^"+ev.call(tv).replace(Qg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nv(t){if(!Es(t)||Vg(t))return!1;var e=Qu(t)?rv:Jg;return e.test(Zr(t))}function sv(t,e){return t==null?void 0:t[e]}function en(t,e){var r=sv(t,e);return nv(r)?r:void 0}var ps=en(Ut,"Map"),ms=en(Object,"create");function iv(){this.__data__=ms?ms(null):{},this.size=0}function ov(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var av="__lodash_hash_undefined__",cv=Object.prototype,lv=cv.hasOwnProperty;function uv(t){var e=this.__data__;if(ms){var r=e[t];return r===av?void 0:r}return lv.call(e,t)?e[t]:void 0}var dv=Object.prototype,fv=dv.hasOwnProperty;function hv(t){var e=this.__data__;return ms?e[t]!==void 0:fv.call(e,t)}var pv="__lodash_hash_undefined__";function mv(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ms&&e===void 0?pv:e,this}function Yr(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Yr.prototype.clear=iv;Yr.prototype.delete=ov;Yr.prototype.get=uv;Yr.prototype.has=hv;Yr.prototype.set=mv;function gv(){this.size=0,this.__data__={hash:new Yr,map:new(ps||Xt),string:new Yr}}function vv(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function _i(t,e){var r=t.__data__;return vv(e)?r[typeof e=="string"?"string":"hash"]:r.map}function yv(t){var e=_i(this,t).delete(t);return this.size-=e?1:0,e}function bv(t){return _i(this,t).get(t)}function wv(t){return _i(this,t).has(t)}function _v(t,e){var r=_i(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function xr(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xr.prototype.clear=gv;xr.prototype.delete=yv;xr.prototype.get=bv;xr.prototype.has=wv;xr.prototype.set=_v;var Sv=200;function xv(t,e){var r=this.__data__;if(r instanceof Xt){var n=r.__data__;if(!ps||n.length<Sv-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new xr(n)}return r.set(t,e),this.size=r.size,this}function Fn(t){var e=this.__data__=new Xt(t);this.size=e.size}Fn.prototype.clear=Wg;Fn.prototype.delete=Lg;Fn.prototype.get=Ug;Fn.prototype.has=Bg;Fn.prototype.set=xv;function Ov(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var hc=function(){try{var t=en(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Ju(t,e,r){e=="__proto__"&&hc?hc(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Tv=Object.prototype,Ev=Tv.hasOwnProperty;function Xu(t,e,r){var n=t[e];(!(Ev.call(t,e)&&Ku(n,r))||r===void 0&&!(e in t))&&Ju(t,e,r)}function Si(t,e,r,n){var s=!r;r||(r={});for(var i=-1,o=e.length;++i<o;){var a=e[i],c=void 0;c===void 0&&(c=t[a]),s?Ju(r,a,c):Xu(r,a,c)}return r}function Cv(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var kv="[object Arguments]";function pc(t){return Xr(t)&&Jr(t)==kv}var Zu=Object.prototype,Dv=Zu.hasOwnProperty,Pv=Zu.propertyIsEnumerable,Mv=pc(function(){return arguments}())?pc:function(t){return Xr(t)&&Dv.call(t,"callee")&&!Pv.call(t,"callee")},Cs=Array.isArray;function Rv(){return!1}var ed=typeof exports=="object"&&exports&&!exports.nodeType&&exports,mc=ed&&typeof module=="object"&&module&&!module.nodeType&&module,Av=mc&&mc.exports===ed,gc=Av?Ut.Buffer:void 0,jv=gc?gc.isBuffer:void 0,td=jv||Rv,Iv=9007199254740991,$v=/^(?:0|[1-9]\d*)$/;function Nv(t,e){var r=typeof t;return e=e??Iv,!!e&&(r=="number"||r!="symbol"&&$v.test(t))&&t>-1&&t%1==0&&t<e}var Fv=9007199254740991;function rd(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Fv}var Wv="[object Arguments]",Lv="[object Array]",Uv="[object Boolean]",Bv="[object Date]",qv="[object Error]",Hv="[object Function]",zv="[object Map]",Yv="[object Number]",Vv="[object Object]",Gv="[object RegExp]",Kv="[object Set]",Qv="[object String]",Jv="[object WeakMap]",Xv="[object ArrayBuffer]",Zv="[object DataView]",ey="[object Float32Array]",ty="[object Float64Array]",ry="[object Int8Array]",ny="[object Int16Array]",sy="[object Int32Array]",iy="[object Uint8Array]",oy="[object Uint8ClampedArray]",ay="[object Uint16Array]",cy="[object Uint32Array]",Se={};Se[ey]=Se[ty]=Se[ry]=Se[ny]=Se[sy]=Se[iy]=Se[oy]=Se[ay]=Se[cy]=!0;Se[Wv]=Se[Lv]=Se[Xv]=Se[Uv]=Se[Zv]=Se[Bv]=Se[qv]=Se[Hv]=Se[zv]=Se[Yv]=Se[Vv]=Se[Gv]=Se[Kv]=Se[Qv]=Se[Jv]=!1;function ly(t){return Xr(t)&&rd(t.length)&&!!Se[Jr(t)]}function _a(t){return function(e){return t(e)}}var nd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ns=nd&&typeof module=="object"&&module&&!module.nodeType&&module,uy=ns&&ns.exports===nd,zi=uy&&zu.process,Pn=function(){try{var t=ns&&ns.require&&ns.require("util").types;return t||zi&&zi.binding&&zi.binding("util")}catch{}}(),vc=Pn&&Pn.isTypedArray,dy=vc?_a(vc):ly,fy=Object.prototype,hy=fy.hasOwnProperty;function sd(t,e){var r=Cs(t),n=!r&&Mv(t),s=!r&&!n&&td(t),i=!r&&!n&&!s&&dy(t),o=r||n||s||i,a=o?Cv(t.length,String):[],c=a.length;for(var l in t)(e||hy.call(t,l))&&!(o&&(l=="length"||s&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Nv(l,c)))&&a.push(l);return a}var py=Object.prototype;function Sa(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||py;return t===r}var my=Vu(Object.keys,Object),gy=Object.prototype,vy=gy.hasOwnProperty;function yy(t){if(!Sa(t))return my(t);var e=[];for(var r in Object(t))vy.call(t,r)&&r!="constructor"&&e.push(r);return e}function id(t){return t!=null&&rd(t.length)&&!Qu(t)}function xa(t){return id(t)?sd(t):yy(t)}function by(t,e){return t&&Si(e,xa(e),t)}function wy(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var _y=Object.prototype,Sy=_y.hasOwnProperty;function xy(t){if(!Es(t))return wy(t);var e=Sa(t),r=[];for(var n in t)n=="constructor"&&(e||!Sy.call(t,n))||r.push(n);return r}function Oa(t){return id(t)?sd(t,!0):xy(t)}function Oy(t,e){return t&&Si(e,Oa(e),t)}var od=typeof exports=="object"&&exports&&!exports.nodeType&&exports,yc=od&&typeof module=="object"&&module&&!module.nodeType&&module,Ty=yc&&yc.exports===od,bc=Ty?Ut.Buffer:void 0,wc=bc?bc.allocUnsafe:void 0;function Ey(t,e){if(e)return t.slice();var r=t.length,n=wc?wc(r):new t.constructor(r);return t.copy(n),n}function ad(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function Cy(t,e){for(var r=-1,n=t==null?0:t.length,s=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[s++]=o)}return i}function cd(){return[]}var ky=Object.prototype,Dy=ky.propertyIsEnumerable,_c=Object.getOwnPropertySymbols,Ta=_c?function(t){return t==null?[]:(t=Object(t),Cy(_c(t),function(e){return Dy.call(t,e)}))}:cd;function Py(t,e){return Si(t,Ta(t),e)}function ld(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var My=Object.getOwnPropertySymbols,ud=My?function(t){for(var e=[];t;)ld(e,Ta(t)),t=wa(t);return e}:cd;function Ry(t,e){return Si(t,ud(t),e)}function dd(t,e,r){var n=e(t);return Cs(t)?n:ld(n,r(t))}function Ay(t){return dd(t,xa,Ta)}function jy(t){return dd(t,Oa,ud)}var No=en(Ut,"DataView"),Fo=en(Ut,"Promise"),Wo=en(Ut,"Set"),Lo=en(Ut,"WeakMap"),Sc="[object Map]",Iy="[object Object]",xc="[object Promise]",Oc="[object Set]",Tc="[object WeakMap]",Ec="[object DataView]",$y=Zr(No),Ny=Zr(ps),Fy=Zr(Fo),Wy=Zr(Wo),Ly=Zr(Lo),Vt=Jr;(No&&Vt(new No(new ArrayBuffer(1)))!=Ec||ps&&Vt(new ps)!=Sc||Fo&&Vt(Fo.resolve())!=xc||Wo&&Vt(new Wo)!=Oc||Lo&&Vt(new Lo)!=Tc)&&(Vt=function(t){var e=Jr(t),r=e==Iy?t.constructor:void 0,n=r?Zr(r):"";if(n)switch(n){case $y:return Ec;case Ny:return Sc;case Fy:return xc;case Wy:return Oc;case Ly:return Tc}return e});var Uy=Object.prototype,By=Uy.hasOwnProperty;function qy(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&By.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Cc=Ut.Uint8Array;function Ea(t){var e=new t.constructor(t.byteLength);return new Cc(e).set(new Cc(t)),e}function Hy(t,e){var r=e?Ea(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var zy=/\w*$/;function Yy(t){var e=new t.constructor(t.source,zy.exec(t));return e.lastIndex=t.lastIndex,e}var kc=Sr?Sr.prototype:void 0,Dc=kc?kc.valueOf:void 0;function Vy(t){return Dc?Object(Dc.call(t)):{}}function Gy(t,e){var r=e?Ea(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Ky="[object Boolean]",Qy="[object Date]",Jy="[object Map]",Xy="[object Number]",Zy="[object RegExp]",eb="[object Set]",tb="[object String]",rb="[object Symbol]",nb="[object ArrayBuffer]",sb="[object DataView]",ib="[object Float32Array]",ob="[object Float64Array]",ab="[object Int8Array]",cb="[object Int16Array]",lb="[object Int32Array]",ub="[object Uint8Array]",db="[object Uint8ClampedArray]",fb="[object Uint16Array]",hb="[object Uint32Array]";function pb(t,e,r){var n=t.constructor;switch(e){case nb:return Ea(t);case Ky:case Qy:return new n(+t);case sb:return Hy(t,r);case ib:case ob:case ab:case cb:case lb:case ub:case db:case fb:case hb:return Gy(t,r);case Jy:return new n;case Xy:case tb:return new n(t);case Zy:return Yy(t);case eb:return new n;case rb:return Vy(t)}}var Pc=Object.create,mb=function(){function t(){}return function(e){if(!Es(e))return{};if(Pc)return Pc(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function gb(t){return typeof t.constructor=="function"&&!Sa(t)?mb(wa(t)):{}}var vb="[object Map]";function yb(t){return Xr(t)&&Vt(t)==vb}var Mc=Pn&&Pn.isMap,bb=Mc?_a(Mc):yb,wb="[object Set]";function _b(t){return Xr(t)&&Vt(t)==wb}var Rc=Pn&&Pn.isSet,Sb=Rc?_a(Rc):_b,xb=1,Ob=2,Tb=4,fd="[object Arguments]",Eb="[object Array]",Cb="[object Boolean]",kb="[object Date]",Db="[object Error]",hd="[object Function]",Pb="[object GeneratorFunction]",Mb="[object Map]",Rb="[object Number]",pd="[object Object]",Ab="[object RegExp]",jb="[object Set]",Ib="[object String]",$b="[object Symbol]",Nb="[object WeakMap]",Fb="[object ArrayBuffer]",Wb="[object DataView]",Lb="[object Float32Array]",Ub="[object Float64Array]",Bb="[object Int8Array]",qb="[object Int16Array]",Hb="[object Int32Array]",zb="[object Uint8Array]",Yb="[object Uint8ClampedArray]",Vb="[object Uint16Array]",Gb="[object Uint32Array]",ye={};ye[fd]=ye[Eb]=ye[Fb]=ye[Wb]=ye[Cb]=ye[kb]=ye[Lb]=ye[Ub]=ye[Bb]=ye[qb]=ye[Hb]=ye[Mb]=ye[Rb]=ye[pd]=ye[Ab]=ye[jb]=ye[Ib]=ye[$b]=ye[zb]=ye[Yb]=ye[Vb]=ye[Gb]=!0;ye[Db]=ye[hd]=ye[Nb]=!1;function ss(t,e,r,n,s,i){var o,a=e&xb,c=e&Ob,l=e&Tb;if(o!==void 0)return o;if(!Es(t))return t;var u=Cs(t);if(u){if(o=qy(t),!a)return ad(t,o)}else{var d=Vt(t),f=d==hd||d==Pb;if(td(t))return Ey(t,a);if(d==pd||d==fd||f&&!s){if(o=c||f?{}:gb(t),!a)return c?Ry(t,Oy(o,t)):Py(t,by(o,t))}else{if(!ye[d])return s?t:{};o=pb(t,d,a)}}i||(i=new Fn);var h=i.get(t);if(h)return h;i.set(t,o),Sb(t)?t.forEach(function(y){o.add(ss(y,e,r,y,t,i))}):bb(t)&&t.forEach(function(y,w){o.set(w,ss(y,e,r,w,t,i))});var v=l?c?jy:Ay:c?Oa:xa,m=u?void 0:v(t);return Ov(m||t,function(y,w){m&&(w=y,y=t[w]),Xu(o,w,ss(y,e,r,w,t,i))}),o}var Kb=1,Qb=4;function Is(t){return ss(t,Kb|Qb)}var Yi,Ac;function Jb(){if(Ac)return Yi;Ac=1;var t=Array.isArray,e=Object.keys,r=Object.prototype.hasOwnProperty,n=typeof Element<"u";function s(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){var a=t(i),c=t(o),l,u,d;if(a&&c){if(u=i.length,u!=o.length)return!1;for(l=u;l--!==0;)if(!s(i[l],o[l]))return!1;return!0}if(a!=c)return!1;var f=i instanceof Date,h=o instanceof Date;if(f!=h)return!1;if(f&&h)return i.getTime()==o.getTime();var v=i instanceof RegExp,m=o instanceof RegExp;if(v!=m)return!1;if(v&&m)return i.toString()==o.toString();var y=e(i);if(u=y.length,u!==e(o).length)return!1;for(l=u;l--!==0;)if(!r.call(o,y[l]))return!1;if(n&&i instanceof Element&&o instanceof Element)return i===o;for(l=u;l--!==0;)if(d=y[l],!(d==="_owner"&&i.$$typeof)&&!s(i[d],o[d]))return!1;return!0}return i!==i&&o!==o}return Yi=function(o,a){try{return s(o,a)}catch(c){if(c.message&&c.message.match(/stack|recursion/i)||c.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",c.name,c.message),!1;throw c}},Yi}var Xb=Jb();const Ar=fi(Xb);var Zb=4;function jc(t){return ss(t,Zb)}function md(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var ew="[object Symbol]";function Ca(t){return typeof t=="symbol"||Xr(t)&&Jr(t)==ew}var tw="Expected a function";function ka(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tw);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=t.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(ka.Cache||xr),r}ka.Cache=xr;var rw=500;function nw(t){var e=ka(t,function(n){return r.size===rw&&r.clear(),n}),r=e.cache;return e}var sw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iw=/\\(\\)?/g,ow=nw(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(sw,function(r,n,s,i){e.push(s?i.replace(iw,"$1"):n||r)}),e});function aw(t){if(typeof t=="string"||Ca(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ic=Sr?Sr.prototype:void 0,$c=Ic?Ic.toString:void 0;function gd(t){if(typeof t=="string")return t;if(Cs(t))return md(t,gd)+"";if(Ca(t))return $c?$c.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function cw(t){return t==null?"":gd(t)}function vd(t){return Cs(t)?md(t,aw):Ca(t)?[t]:ad(ow(cw(t)))}var Vi={exports:{}},ce={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nc;function lw(){if(Nc)return ce;Nc=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,l=t?Symbol.for("react.concurrent_mode"):60111,u=t?Symbol.for("react.forward_ref"):60112,d=t?Symbol.for("react.suspense"):60113,f=t?Symbol.for("react.suspense_list"):60120,h=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,m=t?Symbol.for("react.block"):60121,y=t?Symbol.for("react.fundamental"):60117,w=t?Symbol.for("react.responder"):60118,g=t?Symbol.for("react.scope"):60119;function b(S){if(typeof S=="object"&&S!==null){var x=S.$$typeof;switch(x){case e:switch(S=S.type,S){case c:case l:case n:case i:case s:case d:return S;default:switch(S=S&&S.$$typeof,S){case a:case u:case v:case h:case o:return S;default:return x}}case r:return x}}}function E(S){return b(S)===l}return ce.AsyncMode=c,ce.ConcurrentMode=l,ce.ContextConsumer=a,ce.ContextProvider=o,ce.Element=e,ce.ForwardRef=u,ce.Fragment=n,ce.Lazy=v,ce.Memo=h,ce.Portal=r,ce.Profiler=i,ce.StrictMode=s,ce.Suspense=d,ce.isAsyncMode=function(S){return E(S)||b(S)===c},ce.isConcurrentMode=E,ce.isContextConsumer=function(S){return b(S)===a},ce.isContextProvider=function(S){return b(S)===o},ce.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},ce.isForwardRef=function(S){return b(S)===u},ce.isFragment=function(S){return b(S)===n},ce.isLazy=function(S){return b(S)===v},ce.isMemo=function(S){return b(S)===h},ce.isPortal=function(S){return b(S)===r},ce.isProfiler=function(S){return b(S)===i},ce.isStrictMode=function(S){return b(S)===s},ce.isSuspense=function(S){return b(S)===d},ce.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===l||S===i||S===s||S===d||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===v||S.$$typeof===h||S.$$typeof===o||S.$$typeof===a||S.$$typeof===u||S.$$typeof===y||S.$$typeof===w||S.$$typeof===g||S.$$typeof===m)},ce.typeOf=b,ce}var Fc;function uw(){return Fc||(Fc=1,Vi.exports=lw()),Vi.exports}var Gi,Wc;function dw(){if(Wc)return Gi;Wc=1;var t=uw(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=n,i[t.Memo]=s;function o(v){return t.isMemo(v)?s:i[v.$$typeof]||e}var a=Object.defineProperty,c=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;function h(v,m,y){if(typeof m!="string"){if(f){var w=d(m);w&&w!==f&&h(v,w,y)}var g=c(m);l&&(g=g.concat(l(m)));for(var b=o(v),E=o(m),S=0;S<g.length;++S){var x=g[S];if(!r[x]&&!(y&&y[x])&&!(E&&E[x])&&!(b&&b[x])){var O=u(m,x);try{a(v,x,O)}catch{}}}}return v}return Gi=h,Gi}dw();function We(){return We=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},We.apply(this,arguments)}function yd(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var xi=p.createContext(void 0);xi.displayName="FormikContext";var bd=xi.Provider;xi.Consumer;function Da(){var t=p.useContext(xi);return t}var St=function(e){return typeof e=="function"},ks=function(e){return e!==null&&typeof e=="object"},fw=function(e){return String(Math.floor(Number(e)))===e},Ki=function(e){return Object.prototype.toString.call(e)==="[object String]"},Qi=function(e){return ks(e)&&St(e.then)};function ct(t,e,r,n){n===void 0&&(n=0);for(var s=vd(e);t&&n<s.length;)t=t[s[n++]];return n!==s.length&&!t||t===void 0?r:t}function qr(t,e,r){for(var n=jc(t),s=n,i=0,o=vd(e);i<o.length-1;i++){var a=o[i],c=ct(t,o.slice(0,i+1));if(c&&(ks(c)||Array.isArray(c)))s=s[a]=jc(c);else{var l=o[i+1];s=s[a]=fw(l)&&Number(l)>=0?[]:{}}}return(i===0?t:s)[o[i]]===r?t:(r===void 0?delete s[o[i]]:s[o[i]]=r,i===0&&r===void 0&&delete n[o[i]],n)}function wd(t,e,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var s=0,i=Object.keys(t);s<i.length;s++){var o=i[s],a=t[o];ks(a)?r.get(a)||(r.set(a,!0),n[o]=Array.isArray(a)?[]:{},wd(a,e,r,n[o])):n[o]=e}return n}function hw(t,e){switch(e.type){case"SET_VALUES":return We({},t,{values:e.payload});case"SET_TOUCHED":return We({},t,{touched:e.payload});case"SET_ERRORS":return Ar(t.errors,e.payload)?t:We({},t,{errors:e.payload});case"SET_STATUS":return We({},t,{status:e.payload});case"SET_ISSUBMITTING":return We({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return We({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return We({},t,{values:qr(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return We({},t,{touched:qr(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return We({},t,{errors:qr(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return We({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return We({},t,{touched:wd(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return We({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return We({},t,{isSubmitting:!1});default:return t}}var Dr={},$s={};function _d(t){var e=t.validateOnChange,r=e===void 0?!0:e,n=t.validateOnBlur,s=n===void 0?!0:n,i=t.validateOnMount,o=i===void 0?!1:i,a=t.isInitialValid,c=t.enableReinitialize,l=c===void 0?!1:c,u=t.onSubmit,d=yd(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=We({validateOnChange:r,validateOnBlur:s,validateOnMount:o,onSubmit:u},d),h=p.useRef(f.initialValues),v=p.useRef(f.initialErrors||Dr),m=p.useRef(f.initialTouched||$s),y=p.useRef(f.initialStatus),w=p.useRef(!1),g=p.useRef({});p.useEffect(function(){return w.current=!0,function(){w.current=!1}},[]);var b=p.useState(0),E=b[1],S=p.useRef({values:Is(f.initialValues),errors:Is(f.initialErrors)||Dr,touched:Is(f.initialTouched)||$s,status:Is(f.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),x=S.current,O=p.useCallback(function(C){var W=S.current;S.current=hw(W,C),W!==S.current&&E(function(U){return U+1})},[]),P=p.useCallback(function(C,W){return new Promise(function(U,q){var K=f.validate(C,W);K==null?U(Dr):Qi(K)?K.then(function(Z){U(Z||Dr)},function(Z){q(Z)}):U(K)})},[f.validate]),$=p.useCallback(function(C,W){var U=f.validationSchema,q=St(U)?U(W):U,K=W&&q.validateAt?q.validateAt(W,C):mw(C,q);return new Promise(function(Z,xe){K.then(function(){Z(Dr)},function(Ue){Ue.name==="ValidationError"?Z(pw(Ue)):xe(Ue)})})},[f.validationSchema]),N=p.useCallback(function(C,W){return new Promise(function(U){return U(g.current[C].validate(W))})},[]),k=p.useCallback(function(C){var W=Object.keys(g.current).filter(function(q){return St(g.current[q].validate)}),U=W.length>0?W.map(function(q){return N(q,ct(C,q))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(U).then(function(q){return q.reduce(function(K,Z,xe){return Z==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Z&&(K=qr(K,W[xe],Z)),K},{})})},[N]),R=p.useCallback(function(C){return Promise.all([k(C),f.validationSchema?$(C):{},f.validate?P(C):{}]).then(function(W){var U=W[0],q=W[1],K=W[2],Z=$o.all([U,q,K],{arrayMerge:gw});return Z})},[f.validate,f.validationSchema,k,P,$]),I=pt(function(C){return C===void 0&&(C=x.values),O({type:"SET_ISVALIDATING",payload:!0}),R(C).then(function(W){return w.current&&(O({type:"SET_ISVALIDATING",payload:!1}),O({type:"SET_ERRORS",payload:W})),W})});p.useEffect(function(){o&&w.current===!0&&Ar(h.current,f.initialValues)&&I(h.current)},[o,I]);var D=p.useCallback(function(C){var W=C&&C.values?C.values:h.current,U=C&&C.errors?C.errors:v.current?v.current:f.initialErrors||{},q=C&&C.touched?C.touched:m.current?m.current:f.initialTouched||{},K=C&&C.status?C.status:y.current?y.current:f.initialStatus;h.current=W,v.current=U,m.current=q,y.current=K;var Z=function(){O({type:"RESET_FORM",payload:{isSubmitting:!!C&&!!C.isSubmitting,errors:U,touched:q,status:K,values:W,isValidating:!!C&&!!C.isValidating,submitCount:C&&C.submitCount&&typeof C.submitCount=="number"?C.submitCount:0}})};if(f.onReset){var xe=f.onReset(x.values,Me);Qi(xe)?xe.then(Z):Z()}else Z()},[f.initialErrors,f.initialStatus,f.initialTouched,f.onReset]);p.useEffect(function(){w.current===!0&&!Ar(h.current,f.initialValues)&&l&&(h.current=f.initialValues,D(),o&&I(h.current))},[l,f.initialValues,D,o,I]),p.useEffect(function(){l&&w.current===!0&&!Ar(v.current,f.initialErrors)&&(v.current=f.initialErrors||Dr,O({type:"SET_ERRORS",payload:f.initialErrors||Dr}))},[l,f.initialErrors]),p.useEffect(function(){l&&w.current===!0&&!Ar(m.current,f.initialTouched)&&(m.current=f.initialTouched||$s,O({type:"SET_TOUCHED",payload:f.initialTouched||$s}))},[l,f.initialTouched]),p.useEffect(function(){l&&w.current===!0&&!Ar(y.current,f.initialStatus)&&(y.current=f.initialStatus,O({type:"SET_STATUS",payload:f.initialStatus}))},[l,f.initialStatus,f.initialTouched]);var M=pt(function(C){if(g.current[C]&&St(g.current[C].validate)){var W=ct(x.values,C),U=g.current[C].validate(W);return Qi(U)?(O({type:"SET_ISVALIDATING",payload:!0}),U.then(function(q){return q}).then(function(q){O({type:"SET_FIELD_ERROR",payload:{field:C,value:q}}),O({type:"SET_ISVALIDATING",payload:!1})})):(O({type:"SET_FIELD_ERROR",payload:{field:C,value:U}}),Promise.resolve(U))}else if(f.validationSchema)return O({type:"SET_ISVALIDATING",payload:!0}),$(x.values,C).then(function(q){return q}).then(function(q){O({type:"SET_FIELD_ERROR",payload:{field:C,value:ct(q,C)}}),O({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),L=p.useCallback(function(C,W){var U=W.validate;g.current[C]={validate:U}},[]),T=p.useCallback(function(C){delete g.current[C]},[]),F=pt(function(C,W){O({type:"SET_TOUCHED",payload:C});var U=W===void 0?s:W;return U?I(x.values):Promise.resolve()}),z=p.useCallback(function(C){O({type:"SET_ERRORS",payload:C})},[]),V=pt(function(C,W){var U=St(C)?C(x.values):C;O({type:"SET_VALUES",payload:U});var q=W===void 0?r:W;return q?I(U):Promise.resolve()}),G=p.useCallback(function(C,W){O({type:"SET_FIELD_ERROR",payload:{field:C,value:W}})},[]),ee=pt(function(C,W,U){O({type:"SET_FIELD_VALUE",payload:{field:C,value:W}});var q=U===void 0?r:U;return q?I(qr(x.values,C,W)):Promise.resolve()}),ue=p.useCallback(function(C,W){var U=W,q=C,K;if(!Ki(C)){C.persist&&C.persist();var Z=C.target?C.target:C.currentTarget,xe=Z.type,Ue=Z.name,rr=Z.id,Ye=Z.value,sn=Z.checked;Z.outerHTML;var X=Z.options,we=Z.multiple;U=W||Ue||rr,q=/number|range/.test(xe)?(K=parseFloat(Ye),isNaN(K)?"":K):/checkbox/.test(xe)?yw(ct(x.values,U),sn,Ye):X&&we?vw(X):Ye}U&&ee(U,q)},[ee,x.values]),be=pt(function(C){if(Ki(C))return function(W){return ue(W,C)};ue(C)}),Te=pt(function(C,W,U){W===void 0&&(W=!0),O({type:"SET_FIELD_TOUCHED",payload:{field:C,value:W}});var q=U===void 0?s:U;return q?I(x.values):Promise.resolve()}),he=p.useCallback(function(C,W){C.persist&&C.persist();var U=C.target,q=U.name,K=U.id;U.outerHTML;var Z=W||q||K;Te(Z,!0)},[Te]),H=pt(function(C){if(Ki(C))return function(W){return he(W,C)};he(C)}),ne=p.useCallback(function(C){St(C)?O({type:"SET_FORMIK_STATE",payload:C}):O({type:"SET_FORMIK_STATE",payload:function(){return C}})},[]),pe=p.useCallback(function(C){O({type:"SET_STATUS",payload:C})},[]),B=p.useCallback(function(C){O({type:"SET_ISSUBMITTING",payload:C})},[]),te=pt(function(){return O({type:"SUBMIT_ATTEMPT"}),I().then(function(C){var W=C instanceof Error,U=!W&&Object.keys(C).length===0;if(U){var q;try{if(q=ke(),q===void 0)return}catch(K){throw K}return Promise.resolve(q).then(function(K){return w.current&&O({type:"SUBMIT_SUCCESS"}),K}).catch(function(K){if(w.current)throw O({type:"SUBMIT_FAILURE"}),K})}else if(w.current&&(O({type:"SUBMIT_FAILURE"}),W))throw C})}),J=pt(function(C){C&&C.preventDefault&&St(C.preventDefault)&&C.preventDefault(),C&&C.stopPropagation&&St(C.stopPropagation)&&C.stopPropagation(),te().catch(function(W){console.warn("Warning: An unhandled error was caught from submitForm()",W)})}),Me={resetForm:D,validateForm:I,validateField:M,setErrors:z,setFieldError:G,setFieldTouched:Te,setFieldValue:ee,setStatus:pe,setSubmitting:B,setTouched:F,setValues:V,setFormikState:ne,submitForm:te},ke=pt(function(){return u(x.values,Me)}),Ze=pt(function(C){C&&C.preventDefault&&St(C.preventDefault)&&C.preventDefault(),C&&C.stopPropagation&&St(C.stopPropagation)&&C.stopPropagation(),D()}),et=p.useCallback(function(C){return{value:ct(x.values,C),error:ct(x.errors,C),touched:!!ct(x.touched,C),initialValue:ct(h.current,C),initialTouched:!!ct(m.current,C),initialError:ct(v.current,C)}},[x.errors,x.touched,x.values]),bt=p.useCallback(function(C){return{setValue:function(U,q){return ee(C,U,q)},setTouched:function(U,q){return Te(C,U,q)},setError:function(U){return G(C,U)}}},[ee,Te,G]),nn=p.useCallback(function(C){var W=ks(C),U=W?C.name:C,q=ct(x.values,U),K={name:U,value:q,onChange:be,onBlur:H};if(W){var Z=C.type,xe=C.value,Ue=C.as,rr=C.multiple;Z==="checkbox"?xe===void 0?K.checked=!!q:(K.checked=!!(Array.isArray(q)&&~q.indexOf(xe)),K.value=xe):Z==="radio"?(K.checked=q===xe,K.value=xe):Ue==="select"&&rr&&(K.value=K.value||[],K.multiple=!0)}return K},[H,be,x.values]),Bt=p.useMemo(function(){return!Ar(h.current,x.values)},[h.current,x.values]),dt=p.useMemo(function(){return typeof a<"u"?Bt?x.errors&&Object.keys(x.errors).length===0:a!==!1&&St(a)?a(f):a:x.errors&&Object.keys(x.errors).length===0},[a,Bt,x.errors,f]),tr=We({},x,{initialValues:h.current,initialErrors:v.current,initialTouched:m.current,initialStatus:y.current,handleBlur:H,handleChange:be,handleReset:Ze,handleSubmit:J,resetForm:D,setErrors:z,setFormikState:ne,setFieldTouched:Te,setFieldValue:ee,setFieldError:G,setStatus:pe,setSubmitting:B,setTouched:F,setValues:V,submitForm:te,validateForm:I,validateField:M,isValid:dt,dirty:Bt,unregisterField:T,registerField:L,getFieldProps:nn,getFieldMeta:et,getFieldHelpers:bt,validateOnBlur:s,validateOnChange:r,validateOnMount:o});return tr}function pw(t){var e={};if(t.inner){if(t.inner.length===0)return qr(e,t.path,t.message);for(var s=t.inner,r=Array.isArray(s),n=0,s=r?s:s[Symbol.iterator]();;){var i;if(r){if(n>=s.length)break;i=s[n++]}else{if(n=s.next(),n.done)break;i=n.value}var o=i;ct(e,o.path)||(e=qr(e,o.path,o.message))}}return e}function mw(t,e,r,n){r===void 0&&(r=!1);var s=Uo(t);return e[r?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function Uo(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);Array.isArray(t[n])===!0?e[n]=t[n].map(function(s){return Array.isArray(s)===!0||dc(s)?Uo(s):s!==""?s:void 0}):dc(t[n])?e[n]=Uo(t[n]):e[n]=t[n]!==""?t[n]:void 0}return e}function gw(t,e,r){var n=t.slice();return e.forEach(function(i,o){if(typeof n[o]>"u"){var a=r.clone!==!1,c=a&&r.isMergeableObject(i);n[o]=c?$o(Array.isArray(i)?[]:{},i,r):i}else r.isMergeableObject(i)?n[o]=$o(t[o],i,r):t.indexOf(i)===-1&&n.push(i)}),n}function vw(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function yw(t,e,r){if(typeof t=="boolean")return!!e;var n=[],s=!1,i=-1;if(Array.isArray(t))n=t,i=t.indexOf(r),s=i>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!s?n.concat(r):s?n.slice(0,i).concat(n.slice(i+1)):n}var bw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?p.useLayoutEffect:p.useEffect;function pt(t){var e=p.useRef(t);return bw(function(){e.current=t}),p.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current.apply(void 0,n)},[])}function ww(t){var e=Da(),r=e.getFieldProps,n=e.getFieldMeta,s=e.getFieldHelpers,i=e.registerField,o=e.unregisterField,a=ks(t),c=a?t:{name:t},l=c.name,u=c.validate;p.useEffect(function(){return l&&i(l,{validate:u}),function(){l&&o(l)}},[i,o,l,u]);var d=p.useMemo(function(){return s(l)},[s,l]);return[r(c),n(l),d]}var _w=p.forwardRef(function(t,e){var r=t.action,n=yd(t,["action"]),s=r??"#",i=Da(),o=i.handleReset,a=i.handleSubmit;return p.createElement("form",We({onSubmit:a,ref:e,onReset:o,action:s},n))});_w.displayName="Form";function Bo(t){const{className:e,type:r,value:n,...s}=t;return _.jsx("input",{value:r==="file"?void 0:n??"",type:r,"data-slot":"input",className:Pe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}var Sw="Label",Sd=p.forwardRef((t,e)=>_.jsx(He.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Sd.displayName=Sw;var xw=Sd;function Ow({className:t,...e}){return _.jsx(xw,{"data-slot":"label",className:Pe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const xd=p.createContext({}),Oi=({name:t,children:e})=>_.jsx(xd.Provider,{value:{name:t},children:e}),Ti=()=>{const t=p.useContext(xd),e=p.useContext(Od),[r,n]=ww(t.name),{submitCount:s}=Da();if(!t)throw new Error("useFormikField should be used within <FormField>");const{id:i}=e,o=!!n.error&&(n.touched||s>0);return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,field:r,meta:n,hasError:o,error:o?n.error:void 0}},Od=p.createContext({});function Ei({className:t,...e}){const r=p.useId();return _.jsx(Od.Provider,{value:{id:r},children:_.jsx("div",{"data-slot":"form-item",className:Pe("grid gap-2",t),...e})})}function Ci({className:t,...e}){const{error:r,formItemId:n}=Ti();return _.jsx(Ow,{"data-slot":"form-label","data-error":!!r,className:Pe("data-[error=true]:text-destructive",t),htmlFor:n,...e})}function ki({render:t,...e}){const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i,field:o,meta:a}=Ti();return _.jsx(Ah,{"data-slot":"form-control",id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...o,...e,children:t?t({field:o,meta:a}):e.children})}function Di({className:t,...e}){const{formDescriptionId:r}=Ti();return _.jsx("p",{"data-slot":"form-description",id:r,className:Pe("text-muted-foreground text-sm",t),...e})}function Pi({className:t,...e}){const{error:r,formMessageId:n}=Ti(),s=r?String(r):e.children;return s?_.jsx("p",{"data-slot":"form-message",id:n,className:Pe("text-destructive text-sm",t),...e,children:s}):null}const Tw=t=>{const{name:e,label:r,description:n,wrapperClassName:s,type:i="text",className:o,placeholder:a,...c}=t;return _.jsx(Oi,{name:e,children:_.jsxs(Ei,{className:s,children:[!!r&&_.jsx(Ci,{children:r}),_.jsx(ki,{render:({field:l})=>_.jsx(Bo,{value:l.value,onChange:l.onChange,name:l.name,onBlur:l.onBlur,type:i,className:o,placeholder:a,...c})}),!!n&&_.jsx(Di,{children:n}),_.jsx(Pi,{})]})})},Ew=j.memo(Tw);function Cw({className:t,...e}){return _.jsx("textarea",{"data-slot":"textarea",className:Pe("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const kw=({name:t,label:e,description:r,placeholder:n,className:s,wrapperClassName:i,rows:o,...a})=>_.jsx(Oi,{name:t,children:_.jsxs(Ei,{className:i,children:[!!e&&_.jsx(Ci,{children:e}),_.jsx(ki,{render:({field:c})=>_.jsx(Cw,{value:c.value,onChange:c.onChange,name:c.name,onBlur:c.onBlur,placeholder:n,className:s,rows:o,...a})}),!!r&&_.jsx(Di,{children:r}),_.jsx(Pi,{})]})}),Dw=j.memo(kw);function Lc(t,[e,r]){return Math.min(r,Math.max(e,t))}function Pw(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Td=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Mw="VisuallyHidden",Rw=p.forwardRef((t,e)=>_.jsx(He.span,{...t,ref:e,style:{...Td,...t.style}}));Rw.displayName=Mw;var Aw=[" ","Enter","ArrowUp","ArrowDown"],jw=[" ","Enter"],Vr="Select",[Mi,Ri,Iw]=Ih(Vr),[Wn,fD]=ou(Vr,[Iw,hi]),Ai=hi(),[$w,Or]=Wn(Vr),[Nw,Fw]=Wn(Vr),Ed=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:l,name:u,autoComplete:d,disabled:f,required:h,form:v}=t,m=Ai(e),[y,w]=p.useState(null),[g,b]=p.useState(null),[E,S]=p.useState(!1),x=jh(l),[O,P]=wo({prop:n,defaultProp:s??!1,onChange:i,caller:Vr}),[$,N]=wo({prop:o,defaultProp:a,onChange:c,caller:Vr}),k=p.useRef(null),R=y?v||!!y.closest("form"):!0,[I,D]=p.useState(new Set),M=Array.from(I).map(L=>L.props.value).join(";");return _.jsx(iu,{...m,children:_.jsxs($w,{required:h,scope:e,trigger:y,onTriggerChange:w,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:E,onValueNodeHasChildrenChange:S,contentId:pi(),value:$,onValueChange:N,open:O,onOpenChange:P,dir:x,triggerPointerDownPosRef:k,disabled:f,children:[_.jsx(Mi.Provider,{scope:e,children:_.jsx(Nw,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(L=>{D(T=>new Set(T).add(L))},[]),onNativeOptionRemove:p.useCallback(L=>{D(T=>{const F=new Set(T);return F.delete(L),F})},[]),children:r})}),R?_.jsxs(Gd,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:d,value:$,onChange:L=>N(L.target.value),disabled:f,form:v,children:[$===void 0?_.jsx("option",{value:""}):null,Array.from(I)]},M):null]})})};Ed.displayName=Vr;var Cd="SelectTrigger",kd=p.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=Ai(r),o=Or(Cd,r),a=o.disabled||n,c=yt(e,o.onTriggerChange),l=Ri(r),u=p.useRef("touch"),[d,f,h]=Qd(m=>{const y=l().filter(b=>!b.disabled),w=y.find(b=>b.value===o.value),g=Jd(y,m,w);g!==void 0&&o.onValueChange(g.value)}),v=m=>{a||(o.onOpenChange(!0),h()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return _.jsx(la,{asChild:!0,...i,children:_.jsx(He.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Kd(o.value)?"":void 0,...s,ref:c,onClick:Ce(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&v(m)}),onPointerDown:Ce(s.onPointerDown,m=>{u.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:Ce(s.onKeyDown,m=>{const y=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(y&&m.key===" ")&&Aw.includes(m.key)&&(v(),m.preventDefault())})})})});kd.displayName=Cd;var Dd="SelectValue",Pd=p.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...a}=t,c=Or(Dd,r),{onValueNodeHasChildrenChange:l}=c,u=i!==void 0,d=yt(e,c.onValueNodeChange);return _r(()=>{l(u)},[l,u]),_.jsx(He.span,{...a,ref:d,style:{pointerEvents:"none"},children:Kd(c.value)?_.jsx(_.Fragment,{children:o}):i})});Pd.displayName=Dd;var Ww="SelectIcon",Md=p.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return _.jsx(He.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});Md.displayName=Ww;var Lw="SelectPortal",Rd=t=>_.jsx(au,{asChild:!0,...t});Rd.displayName=Lw;var Gr="SelectContent",Ad=p.forwardRef((t,e)=>{const r=Or(Gr,t.__scopeSelect),[n,s]=p.useState();if(_r(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Fr.createPortal(_.jsx(jd,{scope:t.__scopeSelect,children:_.jsx(Mi.Slot,{scope:t.__scopeSelect,children:_.jsx("div",{children:t.children})})}),i):null}return _.jsx(Id,{...t,ref:e})});Ad.displayName=Gr;var Ot=10,[jd,Tr]=Wn(Gr),Uw="SelectContentImpl",Bw=du("SelectContent.RemoveScroll"),Id=p.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:v,hideWhenDetached:m,avoidCollisions:y,...w}=t,g=Or(Gr,r),[b,E]=p.useState(null),[S,x]=p.useState(null),O=yt(e,H=>E(H)),[P,$]=p.useState(null),[N,k]=p.useState(null),R=Ri(r),[I,D]=p.useState(!1),M=p.useRef(!1);p.useEffect(()=>{if(b)return cu(b)},[b]),lu();const L=p.useCallback(H=>{const[ne,...pe]=R().map(J=>J.ref.current),[B]=pe.slice(-1),te=document.activeElement;for(const J of H)if(J===te||(J==null||J.scrollIntoView({block:"nearest"}),J===ne&&S&&(S.scrollTop=0),J===B&&S&&(S.scrollTop=S.scrollHeight),J==null||J.focus(),document.activeElement!==te))return},[R,S]),T=p.useCallback(()=>L([P,b]),[L,P,b]);p.useEffect(()=>{I&&T()},[I,T]);const{onOpenChange:F,triggerPointerDownPosRef:z}=g;p.useEffect(()=>{if(b){let H={x:0,y:0};const ne=B=>{var te,J;H={x:Math.abs(Math.round(B.pageX)-(((te=z.current)==null?void 0:te.x)??0)),y:Math.abs(Math.round(B.pageY)-(((J=z.current)==null?void 0:J.y)??0))}},pe=B=>{H.x<=10&&H.y<=10?B.preventDefault():b.contains(B.target)||F(!1),document.removeEventListener("pointermove",ne),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",pe,{capture:!0})}}},[b,F,z]),p.useEffect(()=>{const H=()=>F(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[F]);const[V,G]=Qd(H=>{const ne=R().filter(te=>!te.disabled),pe=ne.find(te=>te.ref.current===document.activeElement),B=Jd(ne,H,pe);B&&setTimeout(()=>B.ref.current.focus())}),ee=p.useCallback((H,ne,pe)=>{const B=!M.current&&!pe;(g.value!==void 0&&g.value===ne||B)&&($(H),B&&(M.current=!0))},[g.value]),ue=p.useCallback(()=>b==null?void 0:b.focus(),[b]),be=p.useCallback((H,ne,pe)=>{const B=!M.current&&!pe;(g.value!==void 0&&g.value===ne||B)&&k(H)},[g.value]),Te=n==="popper"?qo:$d,he=Te===qo?{side:a,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:v,hideWhenDetached:m,avoidCollisions:y}:{};return _.jsx(jd,{scope:r,content:b,viewport:S,onViewportChange:x,itemRefCallback:ee,selectedItem:P,onItemLeave:ue,itemTextRefCallback:be,focusSelectedItem:T,selectedItemText:N,position:n,isPositioned:I,searchRef:V,children:_.jsx(uu,{as:Bw,allowPinchZoom:!0,children:_.jsx(fu,{asChild:!0,trapped:g.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:Ce(s,H=>{var ne;(ne=g.trigger)==null||ne.focus({preventScroll:!0}),H.preventDefault()}),children:_.jsx(hu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:_.jsx(Te,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:H=>H.preventDefault(),...w,...he,onPlaced:()=>D(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Ce(w.onKeyDown,H=>{const ne=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!ne&&H.key.length===1&&G(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let B=R().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(H.key)&&(B=B.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const te=H.target,J=B.indexOf(te);B=B.slice(J+1)}setTimeout(()=>L(B)),H.preventDefault()}})})})})})})});Id.displayName=Uw;var qw="SelectItemAlignedPosition",$d=p.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=Or(Gr,r),o=Tr(Gr,r),[a,c]=p.useState(null),[l,u]=p.useState(null),d=yt(e,O=>u(O)),f=Ri(r),h=p.useRef(!1),v=p.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:w,focusSelectedItem:g}=o,b=p.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&l&&m&&y&&w){const O=i.trigger.getBoundingClientRect(),P=l.getBoundingClientRect(),$=i.valueNode.getBoundingClientRect(),N=w.getBoundingClientRect();if(i.dir!=="rtl"){const te=N.left-P.left,J=$.left-te,Me=O.left-J,ke=O.width+Me,Ze=Math.max(ke,P.width),et=window.innerWidth-Ot,bt=Lc(J,[Ot,Math.max(Ot,et-Ze)]);a.style.minWidth=ke+"px",a.style.left=bt+"px"}else{const te=P.right-N.right,J=window.innerWidth-$.right-te,Me=window.innerWidth-O.right-J,ke=O.width+Me,Ze=Math.max(ke,P.width),et=window.innerWidth-Ot,bt=Lc(J,[Ot,Math.max(Ot,et-Ze)]);a.style.minWidth=ke+"px",a.style.right=bt+"px"}const k=f(),R=window.innerHeight-Ot*2,I=m.scrollHeight,D=window.getComputedStyle(l),M=parseInt(D.borderTopWidth,10),L=parseInt(D.paddingTop,10),T=parseInt(D.borderBottomWidth,10),F=parseInt(D.paddingBottom,10),z=M+L+I+F+T,V=Math.min(y.offsetHeight*5,z),G=window.getComputedStyle(m),ee=parseInt(G.paddingTop,10),ue=parseInt(G.paddingBottom,10),be=O.top+O.height/2-Ot,Te=R-be,he=y.offsetHeight/2,H=y.offsetTop+he,ne=M+L+H,pe=z-ne;if(ne<=be){const te=k.length>0&&y===k[k.length-1].ref.current;a.style.bottom="0px";const J=l.clientHeight-m.offsetTop-m.offsetHeight,Me=Math.max(Te,he+(te?ue:0)+J+T),ke=ne+Me;a.style.height=ke+"px"}else{const te=k.length>0&&y===k[0].ref.current;a.style.top="0px";const Me=Math.max(be,M+m.offsetTop+(te?ee:0)+he)+pe;a.style.height=Me+"px",m.scrollTop=ne-be+m.offsetTop}a.style.margin=`${Ot}px 0`,a.style.minHeight=V+"px",a.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[f,i.trigger,i.valueNode,a,l,m,y,w,i.dir,n]);_r(()=>b(),[b]);const[E,S]=p.useState();_r(()=>{l&&S(window.getComputedStyle(l).zIndex)},[l]);const x=p.useCallback(O=>{O&&v.current===!0&&(b(),g==null||g(),v.current=!1)},[b,g]);return _.jsx(zw,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:x,children:_.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:_.jsx(He.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});$d.displayName=qw;var Hw="SelectPopperPosition",qo=p.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ot,...i}=t,o=Ai(r);return _.jsx(pu,{...o,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qo.displayName=Hw;var[zw,Pa]=Wn(Gr,{}),Ho="SelectViewport",Nd=p.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=Tr(Ho,r),o=Pa(Ho,r),a=yt(e,i.onViewportChange),c=p.useRef(0);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),_.jsx(Mi.Slot,{scope:r,children:_.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ce(s.onScroll,l=>{const u=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&d){const h=Math.abs(c.current-u.scrollTop);if(h>0){const v=window.innerHeight-Ot*2,m=parseFloat(d.style.minHeight),y=parseFloat(d.style.height),w=Math.max(m,y);if(w<v){const g=w+h,b=Math.min(v,g),E=g-b;d.style.height=b+"px",d.style.bottom==="0px"&&(u.scrollTop=E>0?E:0,d.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Nd.displayName=Ho;var Fd="SelectGroup",[Yw,Vw]=Wn(Fd),Gw=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=pi();return _.jsx(Yw,{scope:r,id:s,children:_.jsx(He.div,{role:"group","aria-labelledby":s,...n,ref:e})})});Gw.displayName=Fd;var Wd="SelectLabel",Kw=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Vw(Wd,r);return _.jsx(He.div,{id:s.id,...n,ref:e})});Kw.displayName=Wd;var ii="SelectItem",[Qw,Ld]=Wn(ii),Ud=p.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=t,a=Or(ii,r),c=Tr(ii,r),l=a.value===n,[u,d]=p.useState(i??""),[f,h]=p.useState(!1),v=yt(e,g=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,g,n,s)}),m=pi(),y=p.useRef("touch"),w=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return _.jsx(Qw,{scope:r,value:n,disabled:s,textId:m,isSelected:l,onItemTextChange:p.useCallback(g=>{d(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:_.jsx(Mi.ItemSlot,{scope:r,value:n,disabled:s,textValue:u,children:_.jsx(He.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":l&&f,"data-state":l?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:Ce(o.onFocus,()=>h(!0)),onBlur:Ce(o.onBlur,()=>h(!1)),onClick:Ce(o.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:Ce(o.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:Ce(o.onPointerDown,g=>{y.current=g.pointerType}),onPointerMove:Ce(o.onPointerMove,g=>{var b;y.current=g.pointerType,s?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(o.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ce(o.onKeyDown,g=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&g.key===" "||(jw.includes(g.key)&&w(),g.key===" "&&g.preventDefault())})})})})});Ud.displayName=ii;var Jn="SelectItemText",Bd=p.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,o=Or(Jn,r),a=Tr(Jn,r),c=Ld(Jn,r),l=Fw(Jn,r),[u,d]=p.useState(null),f=yt(e,w=>d(w),c.onItemTextChange,w=>{var g;return(g=a.itemTextRefCallback)==null?void 0:g.call(a,w,c.value,c.disabled)}),h=u==null?void 0:u.textContent,v=p.useMemo(()=>_.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=l;return _r(()=>(m(v),()=>y(v)),[m,y,v]),_.jsxs(_.Fragment,{children:[_.jsx(He.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Fr.createPortal(i.children,o.valueNode):null]})});Bd.displayName=Jn;var qd="SelectItemIndicator",Hd=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Ld(qd,r).isSelected?_.jsx(He.span,{"aria-hidden":!0,...n,ref:e}):null});Hd.displayName=qd;var zo="SelectScrollUpButton",zd=p.forwardRef((t,e)=>{const r=Tr(zo,t.__scopeSelect),n=Pa(zo,t.__scopeSelect),[s,i]=p.useState(!1),o=yt(e,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let a=function(){const l=c.scrollTop>0;i(l)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?_.jsx(Vd,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});zd.displayName=zo;var Yo="SelectScrollDownButton",Yd=p.forwardRef((t,e)=>{const r=Tr(Yo,t.__scopeSelect),n=Pa(Yo,t.__scopeSelect),[s,i]=p.useState(!1),o=yt(e,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let a=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;i(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?_.jsx(Vd,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});Yd.displayName=Yo;var Vd=p.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=Tr("SelectScrollButton",r),o=p.useRef(null),a=Ri(r),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),_r(()=>{var u;const l=a().find(d=>d.ref.current===document.activeElement);(u=l==null?void 0:l.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),_.jsx(He.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ce(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ce(s.onPointerMove,()=>{var l;(l=i.onItemLeave)==null||l.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ce(s.onPointerLeave,()=>{c()})})}),Jw="SelectSeparator",Xw=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return _.jsx(He.div,{"aria-hidden":!0,...n,ref:e})});Xw.displayName=Jw;var Vo="SelectArrow",Zw=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Ai(r),i=Or(Vo,r),o=Tr(Vo,r);return i.open&&o.position==="popper"?_.jsx(mu,{...s,...n,ref:e}):null});Zw.displayName=Vo;var e0="SelectBubbleInput",Gd=p.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=p.useRef(null),i=yt(n,s),o=Pw(e);return p.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const d=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[o,e]),_.jsx(He.select,{...r,style:{...Td,...r.style},ref:i,defaultValue:e})});Gd.displayName=e0;function Kd(t){return t===""||t===void 0}function Qd(t){const e=$h(t),r=p.useRef(""),n=p.useRef(0),s=p.useCallback(o=>{const a=r.current+o;e(a),function c(l){r.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function Jd(t,e,r){const s=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=t0(t,Math.max(i,0));s.length===1&&(o=o.filter(l=>l!==r));const c=o.find(l=>l.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function t0(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var r0=Ed,n0=kd,s0=Pd,i0=Md,o0=Rd,a0=Ad,c0=Nd,l0=Ud,u0=Bd,d0=Hd,f0=zd,h0=Yd;function p0({...t}){return _.jsx(r0,{"data-slot":"select",...t})}function m0({...t}){return _.jsx(s0,{"data-slot":"select-value",...t})}function g0({className:t,size:e="default",children:r,...n}){return _.jsxs(n0,{"data-slot":"select-trigger","data-size":e,className:Pe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,_.jsx(i0,{asChild:!0,children:_.jsx(gi,{className:"size-4 opacity-50"})})]})}function v0({className:t,children:e,position:r="popper",...n}){return _.jsx(o0,{children:_.jsxs(a0,{"data-slot":"select-content",className:Pe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[_.jsx(b0,{}),_.jsx(c0,{className:Pe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),_.jsx(w0,{})]})})}function y0({className:t,children:e,...r}){return _.jsxs(l0,{"data-slot":"select-item",className:Pe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[_.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:_.jsx(d0,{children:_.jsx(op,{className:"size-4"})})}),_.jsx(u0,{children:e})]})}function b0({className:t,...e}){return _.jsx(f0,{"data-slot":"select-scroll-up-button",className:Pe("flex cursor-default items-center justify-center py-1",t),...e,children:_.jsx(da,{className:"size-4"})})}function w0({className:t,...e}){return _.jsx(h0,{"data-slot":"select-scroll-down-button",className:Pe("flex cursor-default items-center justify-center py-1",t),...e,children:_.jsx(gi,{className:"size-4"})})}const _0=({name:t,options:e,label:r,description:n,placeholder:s,className:i,disabled:o})=>_.jsx(Oi,{name:t,children:_.jsxs(Ei,{className:i,children:[!!r&&_.jsx(Ci,{children:r}),_.jsx(ki,{render:({field:a})=>_.jsxs(p0,{disabled:o,onValueChange:c=>{a.onChange({target:{name:a.name,value:c}})},value:a.value,name:a.name,children:[_.jsx(g0,{children:_.jsx(m0,{placeholder:s})}),_.jsx(v0,{children:e.map(c=>_.jsx(y0,{value:c.value,children:c.label},c.value))})]})}),!!n&&_.jsx(Di,{children:n}),_.jsx(Pi,{})]})}),Go=j.memo(_0);function ut(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Kr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Xd=6048e5,S0=864e5;let x0={};function ji(){return x0}function Qr(t,e){var a,c,l,u;const r=ji(),n=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,s=ut(t),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function oi(t){return Qr(t,{weekStartsOn:1})}function Zd(t){const e=ut(t),r=e.getFullYear(),n=Kr(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=oi(n),i=Kr(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=oi(i);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Uc(t){const e=ut(t);return e.setHours(0,0,0,0),e}function Bc(t){const e=ut(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function O0(t,e){const r=Uc(t),n=Uc(e),s=+r-Bc(r),i=+n-Bc(n);return Math.round((s-i)/S0)}function T0(t){const e=Zd(t),r=Kr(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),oi(r)}function E0(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function C0(t){if(!E0(t)&&typeof t!="number")return!1;const e=ut(t);return!isNaN(Number(e))}function k0(t){const e=ut(t),r=Kr(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const D0={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},P0=(t,e,r)=>{let n;const s=D0[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Tn(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const M0={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},R0={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},A0={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j0={date:Tn({formats:M0,defaultWidth:"full"}),time:Tn({formats:R0,defaultWidth:"full"}),dateTime:Tn({formats:A0,defaultWidth:"full"})},I0={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$0=(t,e,r,n)=>I0[t];function $t(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const N0={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F0={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},W0={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},L0={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},U0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},B0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q0=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},H0={ordinalNumber:q0,era:$t({values:N0,defaultWidth:"wide"}),quarter:$t({values:F0,defaultWidth:"wide",argumentCallback:t=>t-1}),month:$t({values:W0,defaultWidth:"wide"}),day:$t({values:L0,defaultWidth:"wide"}),dayPeriod:$t({values:U0,defaultWidth:"wide",formattingValues:B0,defaultFormattingWidth:"wide"})};function Nt(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?Y0(a,d=>d.test(o)):z0(a,d=>d.test(o));let l;l=t.valueCallback?t.valueCallback(c):c,l=r.valueCallback?r.valueCallback(l):l;const u=e.slice(o.length);return{value:l,rest:u}}}function z0(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Y0(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function ef(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const V0=/^(\d+)(th|st|nd|rd)?/i,G0=/\d+/i,K0={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Q0={any:[/^b/i,/^(a|c)/i]},J0={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},X0={any:[/1/i,/2/i,/3/i,/4/i]},Z0={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},e_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},t_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},r_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},n_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},s_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},i_={ordinalNumber:ef({matchPattern:V0,parsePattern:G0,valueCallback:t=>parseInt(t,10)}),era:Nt({matchPatterns:K0,defaultMatchWidth:"wide",parsePatterns:Q0,defaultParseWidth:"any"}),quarter:Nt({matchPatterns:J0,defaultMatchWidth:"wide",parsePatterns:X0,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Nt({matchPatterns:Z0,defaultMatchWidth:"wide",parsePatterns:e_,defaultParseWidth:"any"}),day:Nt({matchPatterns:t_,defaultMatchWidth:"wide",parsePatterns:r_,defaultParseWidth:"any"}),dayPeriod:Nt({matchPatterns:n_,defaultMatchWidth:"any",parsePatterns:s_,defaultParseWidth:"any"})},o_={code:"en-US",formatDistance:P0,formatLong:j0,formatRelative:$0,localize:H0,match:i_,options:{weekStartsOn:0,firstWeekContainsDate:1}};function a_(t){const e=ut(t);return O0(e,k0(e))+1}function c_(t){const e=ut(t),r=+oi(e)-+T0(e);return Math.round(r/Xd)+1}function tf(t,e){var u,d,f,h;const r=ut(t),n=r.getFullYear(),s=ji(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(f=s.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=Kr(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const a=Qr(o,e),c=Kr(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const l=Qr(c,e);return r.getTime()>=a.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function l_(t,e){var a,c,l,u;const r=ji(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??1,s=tf(t,e),i=Kr(t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Qr(i,e)}function u_(t,e){const r=ut(t),n=+Qr(r,e)-+l_(r,e);return Math.round(n/Xd)+1}function de(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const or={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return de(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):de(r+1,2)},d(t,e){return de(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return de(t.getHours()%12||12,e.length)},H(t,e){return de(t.getHours(),e.length)},m(t,e){return de(t.getMinutes(),e.length)},s(t,e){return de(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return de(s,e.length)}},an={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qc={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return or.y(t,e)},Y:function(t,e,r,n){const s=tf(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return de(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):de(i,e.length)},R:function(t,e){const r=Zd(t);return de(r,e.length)},u:function(t,e){const r=t.getFullYear();return de(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return de(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return de(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return or.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return de(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=u_(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):de(s,e.length)},I:function(t,e,r){const n=c_(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):de(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):or.d(t,e)},D:function(t,e,r){const n=a_(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):de(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return de(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return de(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return de(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=an.noon:n===0?s=an.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=an.evening:n>=12?s=an.afternoon:n>=4?s=an.morning:s=an.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return or.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):or.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):de(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):de(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):or.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):or.s(t,e)},S:function(t,e){return or.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return zc(n);case"XXXX":case"XX":return jr(n);case"XXXXX":case"XXX":default:return jr(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return zc(n);case"xxxx":case"xx":return jr(n);case"xxxxx":case"xxx":default:return jr(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Hc(n,":");case"OOOO":default:return"GMT"+jr(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Hc(n,":");case"zzzz":default:return"GMT"+jr(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return de(n,e.length)},T:function(t,e,r){const n=t.getTime();return de(n,e.length)}};function Hc(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+de(i,2)}function zc(t,e){return t%60===0?(t>0?"-":"+")+de(Math.abs(t)/60,2):jr(t,e)}function jr(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=de(Math.trunc(n/60),2),i=de(n%60,2);return r+s+e+i}const Yc=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},rf=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},d_=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Yc(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Yc(n,e)).replace("{{time}}",rf(s,e))},f_={p:rf,P:d_},h_=/^D+$/,p_=/^Y+$/,m_=["D","DD","YY","YYYY"];function g_(t){return h_.test(t)}function v_(t){return p_.test(t)}function y_(t,e,r){const n=b_(t,e,r);if(console.warn(n),m_.includes(t))throw new RangeError(n)}function b_(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const w_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,__=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S_=/^'([^]*?)'?$/,x_=/''/g,O_=/[a-zA-Z]/;function Vc(t,e,r){var u,d,f,h;const n=ji(),s=n.locale??o_,i=n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,o=n.weekStartsOn??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,a=ut(t);if(!C0(a))throw new RangeError("Invalid time value");let c=e.match(__).map(v=>{const m=v[0];if(m==="p"||m==="P"){const y=f_[m];return y(v,s.formatLong)}return v}).join("").match(w_).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const m=v[0];if(m==="'")return{isToken:!1,value:T_(v)};if(qc[m])return{isToken:!0,value:v};if(m.match(O_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const l={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const m=v.value;(v_(m)||g_(m))&&y_(m,e,String(t));const y=qc[m[0]];return y(a,m,s.localize,l)}).join("")}function T_(t){const e=t.match(S_);return e?e[1].replace(x_,"'"):t}function nf(t,e,r){const n=Qr(t,r),s=Qr(e,r);return+n==+s}var Y;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(Y||(Y={}));var Oe;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Oe||(Oe={}));var Et;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Et||(Et={}));var lt;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(lt||(lt={}));const Ji={},Xn={};function is(t,e){try{const n=(Ji[t]||(Ji[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return n in Xn?Xn[n]:Gc(n,n.split(":"))}catch{if(t in Xn)return Xn[t];const r=t==null?void 0:t.match(E_);return r?Gc(t,r.slice(1)):NaN}}const E_=/([+-]\d\d):?(\d\d)?/;function Gc(t,e){const r=+e[0],n=+(e[1]||0);return Xn[t]=r>0?r*60+n:r*60-n}class Ft extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(is(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),sf(this),Ko(this)):this.setTime(Date.now())}static tz(e,...r){return r.length?new Ft(...r,e):new Ft(Date.now(),e)}withTimeZone(e){return new Ft(+this,e)}getTimezoneOffset(){return-is(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Ko(this),+this}[Symbol.for("constructDateFrom")](e){return new Ft(+new Date(e),this.timeZone)}}const Kc=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!Kc.test(t))return;const e=t.replace(Kc,"$1UTC");Ft.prototype[e]&&(t.startsWith("get")?Ft.prototype[t]=function(){return this.internal[e]()}:(Ft.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),C_(this),+this},Ft.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Ko(this),+this}))});function Ko(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function C_(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),sf(t)}function sf(t){const e=is(t.timeZone,t),r=new Date(+t);r.setUTCHours(r.getUTCHours()-1);const n=-new Date(+t).getTimezoneOffset(),s=-new Date(+r).getTimezoneOffset(),i=n-s,o=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();i&&o&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+i);const a=n-e;a&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+a);const c=is(t.timeZone,t),u=-new Date(+t).getTimezoneOffset()-c,d=c!==e,f=u-a;if(d&&f){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+f);const h=is(t.timeZone,t),v=c-h;v&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+v),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+v))}}class br extends Ft{static tz(e,...r){return r.length?new br(...r,e):new br(Date.now(),e)}toISOString(){const[e,r,n]=this.tzComponents(),s=`${e}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,r,n,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${n} ${r} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[r,n,s]=this.tzComponents();return`${e} GMT${r}${n}${s} (${k_(this.timeZone,this)})`}toLocaleString(e,r){return Date.prototype.toLocaleString.call(this,e,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}toLocaleDateString(e,r){return Date.prototype.toLocaleDateString.call(this,e,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}toLocaleTimeString(e,r){return Date.prototype.toLocaleTimeString.call(this,e,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),r=e>0?"-":"+",n=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[r,n,s]}withTimeZone(e){return new br(+this,e)}[Symbol.for("constructDateFrom")](e){return new br(+new Date(e),this.timeZone)}}function k_(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}const of=6048e5,D_=864e5,Qc=Symbol.for("constructDateFrom");function Ie(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Qc in t?t[Qc](e):t instanceof Date?new t.constructor(e):new Date(e)}function ge(t,e){return Ie(e||t,t)}function af(t,e,r){const n=ge(t,r==null?void 0:r.in);return isNaN(e)?Ie(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function cf(t,e,r){const n=ge(t,r==null?void 0:r.in);if(isNaN(e))return Ie(t,NaN);if(!e)return n;const s=n.getDate(),i=Ie(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}let P_={};function Ds(){return P_}function Mn(t,e){var a,c,l,u;const r=Ds(),n=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,s=ge(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function gs(t,e){return Mn(t,{...e,weekStartsOn:1})}function lf(t,e){const r=ge(t,e==null?void 0:e.in),n=r.getFullYear(),s=Ie(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=gs(s),o=Ie(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=gs(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=a.getTime()?n:n-1}function Jc(t){const e=ge(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Ln(t,...e){const r=Ie.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function vs(t,e){const r=ge(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function uf(t,e,r){const[n,s]=Ln(r==null?void 0:r.in,t,e),i=vs(n),o=vs(s),a=+i-Jc(i),c=+o-Jc(o);return Math.round((a-c)/D_)}function M_(t,e){const r=lf(t,e),n=Ie(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),gs(n)}function R_(t,e,r){return af(t,e*7,r)}function A_(t,e,r){return cf(t,e*12,r)}function j_(t,e){let r,n=e==null?void 0:e.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=Ie.bind(null,s));const i=ge(s,n);(!r||r<i||isNaN(+i))&&(r=i)}),Ie(n,r||NaN)}function I_(t,e){let r,n=e==null?void 0:e.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=Ie.bind(null,s));const i=ge(s,n);(!r||r>i||isNaN(+i))&&(r=i)}),Ie(n,r||NaN)}function $_(t,e,r){const[n,s]=Ln(r==null?void 0:r.in,t,e);return+vs(n)==+vs(s)}function df(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function N_(t){return!(!df(t)&&typeof t!="number"||isNaN(+ge(t)))}function F_(t,e,r){const[n,s]=Ln(r==null?void 0:r.in,t,e),i=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return i*12+o}function W_(t,e){const r=ge(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function L_(t,e){const[r,n]=Ln(t,e.start,e.end);return{start:r,end:n}}function U_(t,e){const{start:r,end:n}=L_(e==null?void 0:e.in,t);let s=+r>+n;const i=s?+r:+n,o=s?n:r;o.setHours(0,0,0,0),o.setDate(1);let a=1;const c=[];for(;+o<=i;)c.push(Ie(r,o)),o.setMonth(o.getMonth()+a);return s?c.reverse():c}function B_(t,e){const r=ge(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function q_(t,e){const r=ge(t,e==null?void 0:e.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function ff(t,e){const r=ge(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function hf(t,e){var a,c,l,u;const r=Ds(),n=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,s=ge(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function H_(t,e){return hf(t,{...e,weekStartsOn:1})}const z_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Y_=(t,e,r)=>{let n;const s=z_[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Xi(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const V_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},G_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},K_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Q_={date:Xi({formats:V_,defaultWidth:"full"}),time:Xi({formats:G_,defaultWidth:"full"}),dateTime:Xi({formats:K_,defaultWidth:"full"})},J_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},X_=(t,e,r,n)=>J_[t];function Yn(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Z_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iS=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},oS={ordinalNumber:iS,era:Yn({values:Z_,defaultWidth:"wide"}),quarter:Yn({values:eS,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Yn({values:tS,defaultWidth:"wide"}),day:Yn({values:rS,defaultWidth:"wide"}),dayPeriod:Yn({values:nS,defaultWidth:"wide",formattingValues:sS,defaultFormattingWidth:"wide"})};function Vn(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?cS(a,d=>d.test(o)):aS(a,d=>d.test(o));let l;l=t.valueCallback?t.valueCallback(c):c,l=r.valueCallback?r.valueCallback(l):l;const u=e.slice(o.length);return{value:l,rest:u}}}function aS(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function cS(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function lS(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const uS=/^(\d+)(th|st|nd|rd)?/i,dS=/\d+/i,fS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hS={any:[/^b/i,/^(a|c)/i]},pS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mS={any:[/1/i,/2/i,/3/i,/4/i]},gS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_S={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SS={ordinalNumber:lS({matchPattern:uS,parsePattern:dS,valueCallback:t=>parseInt(t,10)}),era:Vn({matchPatterns:fS,defaultMatchWidth:"wide",parsePatterns:hS,defaultParseWidth:"any"}),quarter:Vn({matchPatterns:pS,defaultMatchWidth:"wide",parsePatterns:mS,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vn({matchPatterns:gS,defaultMatchWidth:"wide",parsePatterns:vS,defaultParseWidth:"any"}),day:Vn({matchPatterns:yS,defaultMatchWidth:"wide",parsePatterns:bS,defaultParseWidth:"any"}),dayPeriod:Vn({matchPatterns:wS,defaultMatchWidth:"any",parsePatterns:_S,defaultParseWidth:"any"})},Ma={code:"en-US",formatDistance:Y_,formatLong:Q_,formatRelative:X_,localize:oS,match:SS,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xS(t,e){const r=ge(t,e==null?void 0:e.in);return uf(r,ff(r))+1}function pf(t,e){const r=ge(t,e==null?void 0:e.in),n=+gs(r)-+M_(r);return Math.round(n/of)+1}function mf(t,e){var u,d,f,h;const r=ge(t,e==null?void 0:e.in),n=r.getFullYear(),s=Ds(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(f=s.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=Ie((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const a=Mn(o,e),c=Ie((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const l=Mn(c,e);return+r>=+a?n+1:+r>=+l?n:n-1}function OS(t,e){var a,c,l,u;const r=Ds(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??1,s=mf(t,e),i=Ie((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Mn(i,e)}function gf(t,e){const r=ge(t,e==null?void 0:e.in),n=+Mn(r,e)-+OS(r,e);return Math.round(n/of)+1}function fe(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const ar={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return fe(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):fe(r+1,2)},d(t,e){return fe(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return fe(t.getHours()%12||12,e.length)},H(t,e){return fe(t.getHours(),e.length)},m(t,e){return fe(t.getMinutes(),e.length)},s(t,e){return fe(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return fe(s,e.length)}},cn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Xc={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return ar.y(t,e)},Y:function(t,e,r,n){const s=mf(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return fe(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):fe(i,e.length)},R:function(t,e){const r=lf(t);return fe(r,e.length)},u:function(t,e){const r=t.getFullYear();return fe(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return fe(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return fe(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return ar.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return fe(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=gf(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):fe(s,e.length)},I:function(t,e,r){const n=pf(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):fe(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):ar.d(t,e)},D:function(t,e,r){const n=xS(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):fe(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return fe(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return fe(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return fe(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=cn.noon:n===0?s=cn.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=cn.evening:n>=12?s=cn.afternoon:n>=4?s=cn.morning:s=cn.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ar.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):ar.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):fe(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):fe(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):ar.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):ar.s(t,e)},S:function(t,e){return ar.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return el(n);case"XXXX":case"XX":return Ir(n);case"XXXXX":case"XXX":default:return Ir(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return el(n);case"xxxx":case"xx":return Ir(n);case"xxxxx":case"xxx":default:return Ir(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Zc(n,":");case"OOOO":default:return"GMT"+Ir(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Zc(n,":");case"zzzz":default:return"GMT"+Ir(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return fe(n,e.length)},T:function(t,e,r){return fe(+t,e.length)}};function Zc(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+fe(i,2)}function el(t,e){return t%60===0?(t>0?"-":"+")+fe(Math.abs(t)/60,2):Ir(t,e)}function Ir(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=fe(Math.trunc(n/60),2),i=fe(n%60,2);return r+s+e+i}const tl=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},vf=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},TS=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return tl(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",tl(n,e)).replace("{{time}}",vf(s,e))},ES={p:vf,P:TS},CS=/^D+$/,kS=/^Y+$/,DS=["D","DD","YY","YYYY"];function PS(t){return CS.test(t)}function MS(t){return kS.test(t)}function RS(t,e,r){const n=AS(t,e,r);if(console.warn(n),DS.includes(t))throw new RangeError(n)}function AS(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,IS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$S=/^'([^]*?)'?$/,NS=/''/g,FS=/[a-zA-Z]/;function WS(t,e,r){var u,d,f,h,v,m,y,w;const n=Ds(),s=(r==null?void 0:r.locale)??n.locale??Ma,i=(r==null?void 0:r.firstWeekContainsDate)??((d=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((w=(y=n.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,a=ge(t,r==null?void 0:r.in);if(!N_(a))throw new RangeError("Invalid time value");let c=e.match(IS).map(g=>{const b=g[0];if(b==="p"||b==="P"){const E=ES[b];return E(g,s.formatLong)}return g}).join("").match(jS).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const b=g[0];if(b==="'")return{isToken:!1,value:LS(g)};if(Xc[b])return{isToken:!0,value:g};if(b.match(FS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const l={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const b=g.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&MS(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&PS(b))&&RS(b,e,String(t));const E=Xc[b[0]];return E(a,b,s.localize,l)}).join("")}function LS(t){const e=t.match($S);return e?e[1].replace(NS,"'"):t}function US(t,e){const r=ge(t,e==null?void 0:e.in),n=r.getFullYear(),s=r.getMonth(),i=Ie(r,0);return i.setFullYear(n,s+1,0),i.setHours(0,0,0,0),i.getDate()}function BS(t,e){return ge(t,e==null?void 0:e.in).getMonth()}function qS(t,e){return ge(t,e==null?void 0:e.in).getFullYear()}function HS(t,e){return+ge(t)>+ge(e)}function zS(t,e){return+ge(t)<+ge(e)}function YS(t,e,r){const[n,s]=Ln(r==null?void 0:r.in,t,e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function VS(t,e,r){const[n,s]=Ln(r==null?void 0:r.in,t,e);return n.getFullYear()===s.getFullYear()}function GS(t,e,r){const n=ge(t,r==null?void 0:r.in),s=n.getFullYear(),i=n.getDate(),o=Ie(t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const a=US(o);return n.setMonth(e,Math.min(i,a)),n}function KS(t,e,r){const n=ge(t,r==null?void 0:r.in);return isNaN(+n)?Ie(t,NaN):(n.setFullYear(e),n)}const rl=5,QS=4;function JS(t,e){const r=e.startOfMonth(t),n=r.getDay()>0?r.getDay():7,s=e.addDays(t,-n+1),i=e.addDays(s,rl*7-1);return e.getMonth(t)===e.getMonth(i)?rl:QS}function yf(t,e){const r=e.startOfMonth(t),n=r.getDay();return n===1?r:n===0?e.addDays(r,-1*6):e.addDays(r,-1*(n-1))}function XS(t,e){const r=yf(t,e),n=JS(t,e);return e.addDays(r,n*7-1)}class Zt{constructor(e,r){this.Date=Date,this.today=()=>{var n;return(n=this.overrides)!=null&&n.today?this.overrides.today():this.options.timeZone?br.tz(this.options.timeZone):new this.Date},this.newDate=(n,s,i)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(n,s,i):this.options.timeZone?new br(n,s,i,this.options.timeZone):new Date(n,s,i)},this.addDays=(n,s)=>{var i;return(i=this.overrides)!=null&&i.addDays?this.overrides.addDays(n,s):af(n,s)},this.addMonths=(n,s)=>{var i;return(i=this.overrides)!=null&&i.addMonths?this.overrides.addMonths(n,s):cf(n,s)},this.addWeeks=(n,s)=>{var i;return(i=this.overrides)!=null&&i.addWeeks?this.overrides.addWeeks(n,s):R_(n,s)},this.addYears=(n,s)=>{var i;return(i=this.overrides)!=null&&i.addYears?this.overrides.addYears(n,s):A_(n,s)},this.differenceInCalendarDays=(n,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,s):uf(n,s)},this.differenceInCalendarMonths=(n,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,s):F_(n,s)},this.eachMonthOfInterval=n=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):U_(n)},this.endOfBroadcastWeek=n=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n,this):XS(n,this)},this.endOfISOWeek=n=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(n):H_(n)},this.endOfMonth=n=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(n):W_(n)},this.endOfWeek=n=>{var s;return(s=this.overrides)!=null&&s.endOfWeek?this.overrides.endOfWeek(n,this.options):hf(n,this.options)},this.endOfYear=n=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(n):q_(n)},this.format=(n,s)=>{var o;const i=(o=this.overrides)!=null&&o.format?this.overrides.format(n,s,this.options):WS(n,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(i):i},this.getISOWeek=n=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(n):pf(n)},this.getMonth=n=>{var s;return(s=this.overrides)!=null&&s.getMonth?this.overrides.getMonth(n,this.options):BS(n,this.options)},this.getYear=n=>{var s;return(s=this.overrides)!=null&&s.getYear?this.overrides.getYear(n,this.options):qS(n,this.options)},this.getWeek=n=>{var s;return(s=this.overrides)!=null&&s.getWeek?this.overrides.getWeek(n,this.options):gf(n,this.options)},this.isAfter=(n,s)=>{var i;return(i=this.overrides)!=null&&i.isAfter?this.overrides.isAfter(n,s):HS(n,s)},this.isBefore=(n,s)=>{var i;return(i=this.overrides)!=null&&i.isBefore?this.overrides.isBefore(n,s):zS(n,s)},this.isDate=n=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(n):df(n)},this.isSameDay=(n,s)=>{var i;return(i=this.overrides)!=null&&i.isSameDay?this.overrides.isSameDay(n,s):$_(n,s)},this.isSameMonth=(n,s)=>{var i;return(i=this.overrides)!=null&&i.isSameMonth?this.overrides.isSameMonth(n,s):YS(n,s)},this.isSameYear=(n,s)=>{var i;return(i=this.overrides)!=null&&i.isSameYear?this.overrides.isSameYear(n,s):VS(n,s)},this.max=n=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(n):j_(n)},this.min=n=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(n):I_(n)},this.setMonth=(n,s)=>{var i;return(i=this.overrides)!=null&&i.setMonth?this.overrides.setMonth(n,s):GS(n,s)},this.setYear=(n,s)=>{var i;return(i=this.overrides)!=null&&i.setYear?this.overrides.setYear(n,s):KS(n,s)},this.startOfBroadcastWeek=n=>{var s;return(s=this.overrides)!=null&&s.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):yf(n,this)},this.startOfDay=n=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(n):vs(n)},this.startOfISOWeek=n=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(n):gs(n)},this.startOfMonth=n=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(n):B_(n)},this.startOfWeek=n=>{var s;return(s=this.overrides)!=null&&s.startOfWeek?this.overrides.startOfWeek(n,this.options):Mn(n,this.options)},this.startOfYear=n=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(n):ff(n)},this.options={locale:Ma,...e},this.overrides=r}getDigitMap(){const{numerals:e="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:e}),n={};for(let s=0;s<10;s++)n[s.toString()]=r.format(s);return n}replaceDigits(e){const r=this.getDigitMap();return e.replace(/\d/g,n=>r[n]||n)}formatNumber(e){return this.replaceDigits(e.toString())}}const er=new Zt;function ZS(t,e,r={}){return Object.entries(t).filter(([,s])=>s===!0).reduce((s,[i])=>(r[i]?s.push(r[i]):e[Oe[i]]?s.push(e[Oe[i]]):e[Et[i]]&&s.push(e[Et[i]]),s),[e[Y.Day]])}function ex(t){return j.createElement("button",{...t})}function tx(t){return j.createElement("span",{...t})}function rx(t){const{size:e=24,orientation:r="left",className:n}=t;return j.createElement("svg",{className:n,width:e,height:e,viewBox:"0 0 24 24"},r==="up"&&j.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&j.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&j.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&j.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function nx(t){const{day:e,modifiers:r,...n}=t;return j.createElement("td",{...n})}function sx(t){const{day:e,modifiers:r,...n}=t,s=j.useRef(null);return j.useEffect(()=>{var i;r.focused&&((i=s.current)==null||i.focus())},[r.focused]),j.createElement("button",{ref:s,...n})}function ix(t){const{options:e,className:r,components:n,classNames:s,...i}=t,o=[s[Y.Dropdown],r].join(" "),a=e==null?void 0:e.find(({value:c})=>c===i.value);return j.createElement("span",{"data-disabled":i.disabled,className:s[Y.DropdownRoot]},j.createElement(n.Select,{className:o,...i},e==null?void 0:e.map(({value:c,label:l,disabled:u})=>j.createElement(n.Option,{key:c,value:c,disabled:u},l))),j.createElement("span",{className:s[Y.CaptionLabel],"aria-hidden":!0},a==null?void 0:a.label,j.createElement(n.Chevron,{orientation:"down",size:18,className:s[Y.Chevron]})))}function ox(t){return j.createElement("div",{...t})}function ax(t){return j.createElement("div",{...t})}function cx(t){const{calendarMonth:e,displayIndex:r,...n}=t;return j.createElement("div",{...n},t.children)}function lx(t){const{calendarMonth:e,displayIndex:r,...n}=t;return j.createElement("div",{...n})}function ux(t){return j.createElement("table",{...t})}function dx(t){return j.createElement("div",{...t})}const bf=p.createContext(void 0);function Ps(){const t=p.useContext(bf);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function fx(t){const{components:e}=Ps();return j.createElement(e.Dropdown,{...t})}function hx(t){const{onPreviousClick:e,onNextClick:r,previousMonth:n,nextMonth:s,...i}=t,{components:o,classNames:a,labels:{labelPrevious:c,labelNext:l}}=Ps(),u=p.useCallback(f=>{s&&(r==null||r(f))},[s,r]),d=p.useCallback(f=>{n&&(e==null||e(f))},[n,e]);return j.createElement("nav",{...i},j.createElement(o.PreviousMonthButton,{type:"button",className:a[Y.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":c(n),onClick:d},j.createElement(o.Chevron,{disabled:n?void 0:!0,className:a[Y.Chevron],orientation:"left"})),j.createElement(o.NextMonthButton,{type:"button",className:a[Y.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":l(s),onClick:u},j.createElement(o.Chevron,{disabled:s?void 0:!0,orientation:"right",className:a[Y.Chevron]})))}function px(t){const{components:e}=Ps();return j.createElement(e.Button,{...t})}function mx(t){return j.createElement("option",{...t})}function gx(t){const{components:e}=Ps();return j.createElement(e.Button,{...t})}function vx(t){const{rootRef:e,...r}=t;return j.createElement("div",{...r,ref:e})}function yx(t){return j.createElement("select",{...t})}function bx(t){const{week:e,...r}=t;return j.createElement("tr",{...r})}function wx(t){return j.createElement("th",{...t})}function _x(t){return j.createElement("thead",{"aria-hidden":!0},j.createElement("tr",{...t}))}function Sx(t){const{week:e,...r}=t;return j.createElement("th",{...r})}function xx(t){return j.createElement("th",{...t})}function Ox(t){return j.createElement("tbody",{...t})}function Tx(t){const{components:e}=Ps();return j.createElement(e.Dropdown,{...t})}const Ex=Object.freeze(Object.defineProperty({__proto__:null,Button:ex,CaptionLabel:tx,Chevron:rx,Day:nx,DayButton:sx,Dropdown:ix,DropdownNav:ox,Footer:ax,Month:cx,MonthCaption:lx,MonthGrid:ux,Months:dx,MonthsDropdown:fx,Nav:hx,NextMonthButton:px,Option:mx,PreviousMonthButton:gx,Root:vx,Select:yx,Week:bx,WeekNumber:Sx,WeekNumberHeader:xx,Weekday:wx,Weekdays:_x,Weeks:Ox,YearsDropdown:Tx},Symbol.toStringTag,{value:"Module"}));function Cx(t){return{...Ex,...t}}function kx(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0};return Object.entries(t).forEach(([r,n])=>{r.startsWith("data-")&&(e[r]=n)}),e}function Dx(){const t={};for(const e in Y)t[Y[e]]=`rdp-${Y[e]}`;for(const e in Oe)t[Oe[e]]=`rdp-${Oe[e]}`;for(const e in Et)t[Et[e]]=`rdp-${Et[e]}`;for(const e in lt)t[lt[e]]=`rdp-${lt[e]}`;return t}function wf(t,e,r){return(r??new Zt(e)).format(t,"LLLL y")}const Px=wf;function Mx(t,e,r){return(r??new Zt(e)).format(t,"d")}function Rx(t,e=er){return e.format(t,"LLLL")}function Ax(t){return t<10?`0${t.toLocaleString()}`:`${t.toLocaleString()}`}function jx(){return""}function Ix(t,e,r){return(r??new Zt(e)).format(t,"cccccc")}function _f(t,e=er){return e.format(t,"yyyy")}const $x=_f,Nx=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:wf,formatDay:Mx,formatMonthCaption:Px,formatMonthDropdown:Rx,formatWeekNumber:Ax,formatWeekNumberHeader:jx,formatWeekdayName:Ix,formatYearCaption:$x,formatYearDropdown:_f},Symbol.toStringTag,{value:"Module"}));function Fx(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...Nx,...t}}function Wx(t,e,r,n,s){const{startOfMonth:i,startOfYear:o,endOfYear:a,eachMonthOfInterval:c,getMonth:l}=s;return c({start:o(t),end:a(t)}).map(f=>{const h=n.formatMonthDropdown(f,s),v=l(f),m=e&&f<i(e)||r&&f>i(r)||!1;return{value:v,label:h,disabled:m}})}function Lx(t,e={},r={}){let n={...e==null?void 0:e[Y.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{n={...n,...r==null?void 0:r[s]}}),n}function Ux(t,e,r){const n=t.today(),s=e?t.startOfISOWeek(n):t.startOfWeek(n),i=[];for(let o=0;o<7;o++){const a=t.addDays(s,o);i.push(a)}return i}function Bx(t,e,r,n){if(!t||!e)return;const{startOfYear:s,endOfYear:i,addYears:o,getYear:a,isBefore:c,isSameYear:l}=n,u=s(t),d=i(e),f=[];let h=u;for(;c(h,d)||l(h,d);)f.push(h),h=o(h,1);return f.map(v=>{const m=r.formatYearDropdown(v,n);return{value:a(v),label:m,disabled:!1}})}function Sf(t,e,r){return(r??new Zt(e)).format(t,"LLLL y")}const qx=Sf;function Hx(t,e,r,n){let s=(n??new Zt(r)).format(t,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function xf(t,e,r,n){let s=(n??new Zt(r)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const zx=xf;function Yx(){return""}function Vx(t){return"Choose the Month"}function Gx(t){return"Go to the Next Month"}function Kx(t){return"Go to the Previous Month"}function Qx(t,e,r){return(r??new Zt(e)).format(t,"cccc")}function Jx(t,e){return`Week ${t}`}function Xx(t){return"Week Number"}function Zx(t){return"Choose the Year"}const eO=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:qx,labelDay:zx,labelDayButton:xf,labelGrid:Sf,labelGridcell:Hx,labelMonthDropdown:Vx,labelNav:Yx,labelNext:Gx,labelPrevious:Kx,labelWeekNumber:Jx,labelWeekNumberHeader:Xx,labelWeekday:Qx,labelYearDropdown:Zx},Symbol.toStringTag,{value:"Module"})),Ms=t=>t instanceof HTMLElement?t:null,Zi=t=>[...t.querySelectorAll("[data-animated-month]")??[]],tO=t=>Ms(t.querySelector("[data-animated-month]")),eo=t=>Ms(t.querySelector("[data-animated-caption]")),to=t=>Ms(t.querySelector("[data-animated-weeks]")),rO=t=>Ms(t.querySelector("[data-animated-nav]")),nO=t=>Ms(t.querySelector("[data-animated-weekdays]"));function sO(t,e,{classNames:r,months:n,focused:s,dateLib:i}){const o=p.useRef(null),a=p.useRef(n),c=p.useRef(!1);p.useLayoutEffect(()=>{const l=a.current;if(a.current=n,!e||!t.current||!(t.current instanceof HTMLElement)||n.length===0||l.length===0||n.length!==l.length)return;const u=i.isSameMonth(n[0].date,l[0].date),d=i.isAfter(n[0].date,l[0].date),f=d?r[lt.caption_after_enter]:r[lt.caption_before_enter],h=d?r[lt.weeks_after_enter]:r[lt.weeks_before_enter],v=o.current,m=t.current.cloneNode(!0);if(m instanceof HTMLElement?(Zi(m).forEach(b=>{if(!(b instanceof HTMLElement))return;const E=tO(b);E&&b.contains(E)&&b.removeChild(E);const S=eo(b);S&&S.classList.remove(f);const x=to(b);x&&x.classList.remove(h)}),o.current=m):o.current=null,c.current||u||s)return;const y=v instanceof HTMLElement?Zi(v):[],w=Zi(t.current);if(w&&w.every(g=>g instanceof HTMLElement)&&y&&y.every(g=>g instanceof HTMLElement)){c.current=!0,t.current.style.isolation="isolate";const g=rO(t.current);g&&(g.style.zIndex="1"),w.forEach((b,E)=>{const S=y[E];if(!S)return;b.style.position="relative",b.style.overflow="hidden";const x=eo(b);x&&x.classList.add(f);const O=to(b);O&&O.classList.add(h);const P=()=>{c.current=!1,t.current&&(t.current.style.isolation=""),g&&(g.style.zIndex=""),x&&x.classList.remove(f),O&&O.classList.remove(h),b.style.position="",b.style.overflow="",b.contains(S)&&b.removeChild(S)};S.style.pointerEvents="none",S.style.position="absolute",S.style.overflow="hidden",S.setAttribute("aria-hidden","true");const $=nO(S);$&&($.style.opacity="0");const N=eo(S);N&&(N.classList.add(d?r[lt.caption_before_exit]:r[lt.caption_after_exit]),N.addEventListener("animationend",P));const k=to(S);k&&k.classList.add(d?r[lt.weeks_before_exit]:r[lt.weeks_after_exit]),b.insertBefore(S,b.firstChild)})}})}function iO(t,e,r,n){const s=t[0],i=t[t.length-1],{ISOWeek:o,fixedWeeks:a,broadcastCalendar:c}=r??{},{addDays:l,differenceInCalendarDays:u,differenceInCalendarMonths:d,endOfBroadcastWeek:f,endOfISOWeek:h,endOfMonth:v,endOfWeek:m,isAfter:y,startOfBroadcastWeek:w,startOfISOWeek:g,startOfWeek:b}=n,E=c?w(s,n):o?g(s):b(s),S=c?f(i,n):o?h(v(i)):m(v(i)),x=u(S,E),O=d(i,s)+1,P=[];for(let k=0;k<=x;k++){const R=l(E,k);if(e&&y(R,e))break;P.push(R)}const N=(c?35:42)*O;if(a&&P.length<N){const k=N-P.length;for(let R=0;R<k;R++){const I=l(P[P.length-1],1);P.push(I)}}return P}function oO(t){const e=[];return t.reduce((r,n)=>{const s=[],i=n.weeks.reduce((o,a)=>[...o,...a.days],s);return[...r,...i]},e)}function aO(t,e,r,n){const{numberOfMonths:s=1}=r,i=[];for(let o=0;o<s;o++){const a=n.addMonths(t,o);if(e&&a>e)break;i.push(a)}return i}function nl(t,e){const{month:r,defaultMonth:n,today:s=e.today(),numberOfMonths:i=1,endMonth:o,startMonth:a,timeZone:c}=t;let l=r||n||s;const{differenceInCalendarMonths:u,addMonths:d,startOfMonth:f}=e;if(o&&u(o,l)<0){const h=-1*(i-1);l=d(o,h)}return a&&u(l,a)<0&&(l=a),l=c?new br(l,c):l,f(l)}class Of{constructor(e,r,n=er){this.date=e,this.displayMonth=r,this.outside=!!(r&&!n.isSameMonth(e,r)),this.dateLib=n}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class cO{constructor(e,r){this.date=e,this.weeks=r}}class lO{constructor(e,r){this.days=r,this.weekNumber=e}}function uO(t,e,r,n){const{addDays:s,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:a,endOfWeek:c,getISOWeek:l,getWeek:u,startOfBroadcastWeek:d,startOfISOWeek:f,startOfWeek:h}=n,v=t.reduce((m,y)=>{const w=r.broadcastCalendar?d(y,n):r.ISOWeek?f(y):h(y),g=r.broadcastCalendar?i(y,n):r.ISOWeek?o(a(y)):c(a(y)),b=e.filter(O=>O>=w&&O<=g),E=r.broadcastCalendar?35:42;if(r.fixedWeeks&&b.length<E){const O=e.filter(P=>{const $=E-b.length;return P>g&&P<=s(g,$)});b.push(...O)}const S=b.reduce((O,P)=>{const $=r.ISOWeek?l(P):u(P),N=O.find(R=>R.weekNumber===$),k=new Of(P,y,n);return N?N.days.push(k):O.push(new lO($,[k])),O},[]),x=new cO(y,S);return m.push(x),m},[]);return r.reverseMonths?v.reverse():v}function dO(t,e){let{startMonth:r,endMonth:n}=t;const{startOfYear:s,startOfDay:i,startOfMonth:o,endOfMonth:a,addYears:c,endOfYear:l,newDate:u,today:d}=e,{fromYear:f,toYear:h,fromMonth:v,toMonth:m}=t;!r&&v&&(r=v),!r&&f&&(r=e.newDate(f,0,1)),!n&&m&&(n=m),!n&&h&&(n=u(h,11,31));const y=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return r?r=o(r):f?r=u(f,0,1):!r&&y&&(r=s(c(t.today??d(),-100))),n?n=a(n):h?n=u(h,11,31):!n&&y&&(n=l(t.today??d())),[r&&i(r),n&&i(n)]}function fO(t,e,r,n){if(r.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i=1}=r,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:c}=n,l=s?i:1,u=o(t);if(!e)return a(u,l);if(!(c(e,t)<i))return a(u,l)}function hO(t,e,r,n){if(r.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i}=r,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:c}=n,l=s?i??1:1,u=o(t);if(!e)return a(u,-l);if(!(c(u,e)<=0))return a(u,-l)}function pO(t){const e=[];return t.reduce((r,n)=>[...r,...n.weeks],e)}function Ii(t,e){const[r,n]=p.useState(t);return[e===void 0?r:e,n]}function mO(t,e){const[r,n]=dO(t,e),{startOfMonth:s,endOfMonth:i}=e,o=nl(t,e),[a,c]=Ii(o,t.month?o:void 0);p.useEffect(()=>{const x=nl(t,e);c(x)},[t.timeZone]);const l=aO(a,n,t,e),u=iO(l,t.endMonth?i(t.endMonth):void 0,t,e),d=uO(l,u,t,e),f=pO(d),h=oO(d),v=hO(a,r,t,e),m=fO(a,n,t,e),{disableNavigation:y,onMonthChange:w}=t,g=x=>f.some(O=>O.days.some(P=>P.isEqualTo(x))),b=x=>{if(y)return;let O=s(x);r&&O<s(r)&&(O=s(r)),n&&O>s(n)&&(O=s(n)),c(O),w==null||w(O)};return{months:d,weeks:f,days:h,navStart:r,navEnd:n,previousMonth:v,nextMonth:m,goToMonth:b,goToDay:x=>{g(x)||b(x.date)}}}var Rt;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(Rt||(Rt={}));function sl(t){return!t[Oe.disabled]&&!t[Oe.hidden]&&!t[Oe.outside]}function gO(t,e,r,n){let s,i=-1;for(const o of t){const a=e(o);sl(a)&&(a[Oe.focused]&&i<Rt.FocusedModifier?(s=o,i=Rt.FocusedModifier):n!=null&&n.isEqualTo(o)&&i<Rt.LastFocused?(s=o,i=Rt.LastFocused):r(o.date)&&i<Rt.Selected?(s=o,i=Rt.Selected):a[Oe.today]&&i<Rt.Today&&(s=o,i=Rt.Today))}return s||(s=t.find(o=>sl(e(o)))),s}function Kt(t,e,r=!1,n=er){let{from:s,to:i}=t;const{differenceInCalendarDays:o,isSameDay:a}=n;return s&&i?(o(i,s)<0&&([s,i]=[i,s]),o(e,s)>=(r?1:0)&&o(i,e)>=(r?1:0)):!r&&i?a(i,e):!r&&s?a(s,e):!1}function Tf(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Ra(t){return!!(t&&typeof t=="object"&&"from"in t)}function Ef(t){return!!(t&&typeof t=="object"&&"after"in t)}function Cf(t){return!!(t&&typeof t=="object"&&"before"in t)}function kf(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Df(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Qt(t,e,r=er){const n=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:i,isAfter:o}=r;return n.some(a=>{if(typeof a=="boolean")return a;if(r.isDate(a))return s(t,a);if(Df(a,r))return a.includes(t);if(Ra(a))return Kt(a,t,!1,r);if(kf(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(t.getDay()):a.dayOfWeek===t.getDay();if(Tf(a)){const c=i(a.before,t),l=i(a.after,t),u=c>0,d=l<0;return o(a.before,a.after)?d&&u:u||d}return Ef(a)?i(t,a.after)>0:Cf(a)?i(a.before,t)>0:typeof a=="function"?a(t):!1})}function vO(t,e,r,n,s,i,o){const{ISOWeek:a,broadcastCalendar:c}=i,{addDays:l,addMonths:u,addWeeks:d,addYears:f,endOfBroadcastWeek:h,endOfISOWeek:v,endOfWeek:m,max:y,min:w,startOfBroadcastWeek:g,startOfISOWeek:b,startOfWeek:E}=o;let x={day:l,week:d,month:u,year:f,startOfWeek:O=>c?g(O,o):a?b(O):E(O),endOfWeek:O=>c?h(O,o):a?v(O):m(O)}[t](r,e==="after"?1:-1);return e==="before"&&n?x=y([n,x]):e==="after"&&s&&(x=w([s,x])),x}function Pf(t,e,r,n,s,i,o,a=0){if(a>365)return;const c=vO(t,e,r.date,n,s,i,o),l=!!(i.disabled&&Qt(c,i.disabled,o)),u=!!(i.hidden&&Qt(c,i.hidden,o)),d=c,f=new Of(c,d,o);return!l&&!u?f:Pf(t,e,f,n,s,i,o,a+1)}function yO(t,e,r,n,s){const{autoFocus:i}=t,[o,a]=p.useState(),c=gO(e.days,r,n||(()=>!1),o),[l,u]=p.useState(i?c:void 0);return{isFocusTarget:m=>!!(c!=null&&c.isEqualTo(m)),setFocused:u,focused:l,blur:()=>{a(l),u(void 0)},moveFocus:(m,y)=>{if(!l)return;const w=Pf(m,y,l,e.navStart,e.navEnd,t,s);w&&(e.goToDay(w),u(w))}}}function bO(t,e,r){const{disabled:n,hidden:s,modifiers:i,showOutsideDays:o,broadcastCalendar:a,today:c}=e,{isSameDay:l,isSameMonth:u,startOfMonth:d,isBefore:f,endOfMonth:h,isAfter:v}=r,m=e.startMonth&&d(e.startMonth),y=e.endMonth&&h(e.endMonth),w={[Oe.focused]:[],[Oe.outside]:[],[Oe.disabled]:[],[Oe.hidden]:[],[Oe.today]:[]},g={};for(const b of t){const{date:E,displayMonth:S}=b,x=!!(S&&!u(E,S)),O=!!(m&&f(E,m)),P=!!(y&&v(E,y)),$=!!(n&&Qt(E,n,r)),N=!!(s&&Qt(E,s,r))||O||P||!a&&!o&&x||a&&o===!1&&x,k=l(E,c??r.today());x&&w.outside.push(b),$&&w.disabled.push(b),N&&w.hidden.push(b),k&&w.today.push(b),i&&Object.keys(i).forEach(R=>{const I=i==null?void 0:i[R];I&&Qt(E,I,r)&&(g[R]?g[R].push(b):g[R]=[b])})}return b=>{const E={[Oe.focused]:!1,[Oe.disabled]:!1,[Oe.hidden]:!1,[Oe.outside]:!1,[Oe.today]:!1},S={};for(const x in w){const O=w[x];E[x]=O.some(P=>P===b)}for(const x in g)S[x]=g[x].some(O=>O===b);return{...E,...S}}}function wO(t,e){const{selected:r,required:n,onSelect:s}=t,[i,o]=Ii(r,s?r:void 0),a=s?r:i,{isSameDay:c}=e,l=h=>(a==null?void 0:a.some(v=>c(v,h)))??!1,{min:u,max:d}=t;return{selected:a,select:(h,v,m)=>{let y=[...a??[]];if(l(h)){if((a==null?void 0:a.length)===u||n&&(a==null?void 0:a.length)===1)return;y=a==null?void 0:a.filter(w=>!c(w,h))}else(a==null?void 0:a.length)===d?y=[h]:y=[...y,h];return s||o(y),s==null||s(y,h,v,m),y},isSelected:l}}function _O(t,e,r=0,n=0,s=!1,i=er){const{from:o,to:a}=e||{},{isSameDay:c,isAfter:l,isBefore:u}=i;let d;if(!o&&!a)d={from:t,to:r>0?void 0:t};else if(o&&!a)c(o,t)?s?d={from:o,to:void 0}:d=void 0:u(t,o)?d={from:t,to:o}:d={from:o,to:t};else if(o&&a)if(c(o,t)&&c(a,t))s?d={from:o,to:a}:d=void 0;else if(c(o,t))d={from:o,to:r>0?void 0:t};else if(c(a,t))d={from:t,to:r>0?void 0:t};else if(u(t,o))d={from:t,to:a};else if(l(t,o))d={from:o,to:t};else if(l(t,a))d={from:o,to:t};else throw new Error("Invalid range");if(d!=null&&d.from&&(d!=null&&d.to)){const f=i.differenceInCalendarDays(d.to,d.from);n>0&&f>n?d={from:t,to:void 0}:r>1&&f<r&&(d={from:t,to:void 0})}return d}function SO(t,e,r=er){const n=Array.isArray(e)?e:[e];let s=t.from;const i=r.differenceInCalendarDays(t.to,t.from),o=Math.min(i,6);for(let a=0;a<=o;a++){if(n.includes(s.getDay()))return!0;s=r.addDays(s,1)}return!1}function il(t,e,r=er){return Kt(t,e.from,!1,r)||Kt(t,e.to,!1,r)||Kt(e,t.from,!1,r)||Kt(e,t.to,!1,r)}function xO(t,e,r=er){const n=Array.isArray(e)?e:[e];if(n.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:r.isDate(a)?Kt(t,a,!1,r):Df(a,r)?a.some(c=>Kt(t,c,!1,r)):Ra(a)?a.from&&a.to?il(t,{from:a.from,to:a.to},r):!1:kf(a)?SO(t,a.dayOfWeek,r):Tf(a)?r.isAfter(a.before,a.after)?il(t,{from:r.addDays(a.after,1),to:r.addDays(a.before,-1)},r):Qt(t.from,a,r)||Qt(t.to,a,r):Ef(a)||Cf(a)?Qt(t.from,a,r)||Qt(t.to,a,r):!1))return!0;const o=n.filter(a=>typeof a=="function");if(o.length){let a=t.from;const c=r.differenceInCalendarDays(t.to,t.from);for(let l=0;l<=c;l++){if(o.some(u=>u(a)))return!0;a=r.addDays(a,1)}}return!1}function OO(t,e){const{disabled:r,excludeDisabled:n,selected:s,required:i,onSelect:o}=t,[a,c]=Ii(s,o?s:void 0),l=o?s:a;return{selected:l,select:(f,h,v)=>{const{min:m,max:y}=t,w=f?_O(f,l,m,y,i,e):void 0;return n&&r&&(w!=null&&w.from)&&w.to&&xO({from:w.from,to:w.to},r,e)&&(w.from=f,w.to=void 0),o||c(w),o==null||o(w,f,h,v),w},isSelected:f=>l&&Kt(l,f,!1,e)}}function TO(t,e){const{selected:r,required:n,onSelect:s}=t,[i,o]=Ii(r,s?r:void 0),a=s?r:i,{isSameDay:c}=e;return{selected:a,select:(d,f,h)=>{let v=d;return!n&&a&&a&&c(d,a)&&(v=void 0),s||o(v),s==null||s(v,d,f,h),v},isSelected:d=>a?c(a,d):!1}}function EO(t,e){const r=TO(t,e),n=wO(t,e),s=OO(t,e);switch(t.mode){case"single":return r;case"multiple":return n;case"range":return s;default:return}}function CO(t){const{components:e,formatters:r,labels:n,dateLib:s,locale:i,classNames:o}=p.useMemo(()=>{const X={...Ma,...t.locale};return{dateLib:new Zt({locale:X,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:Cx(t.components),formatters:Fx(t.formatters),labels:{...eO,...t.labels},locale:X,classNames:{...Dx(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:a,mode:c,onDayBlur:l,onDayClick:u,onDayFocus:d,onDayKeyDown:f,onDayMouseEnter:h,onDayMouseLeave:v,onNextClick:m,onPrevClick:y,showWeekNumber:w,styles:g}=t,{formatCaption:b,formatDay:E,formatMonthDropdown:S,formatWeekNumber:x,formatWeekNumberHeader:O,formatWeekdayName:P,formatYearDropdown:$}=r,N=mO(t,s),{days:k,months:R,navStart:I,navEnd:D,previousMonth:M,nextMonth:L,goToMonth:T}=N,F=bO(k,t,s),{isSelected:z,select:V,selected:G}=EO(t,s)??{},{blur:ee,focused:ue,isFocusTarget:be,moveFocus:Te,setFocused:he}=yO(t,N,F,z??(()=>!1),s),{labelDayButton:H,labelGridcell:ne,labelGrid:pe,labelMonthDropdown:B,labelNav:te,labelWeekday:J,labelWeekNumber:Me,labelWeekNumberHeader:ke,labelYearDropdown:Ze}=n,et=p.useMemo(()=>Ux(s,t.ISOWeek),[s,t.ISOWeek]),bt=c!==void 0||u!==void 0,nn=p.useCallback(()=>{M&&(T(M),y==null||y(M))},[M,T,y]),Bt=p.useCallback(()=>{L&&(T(L),m==null||m(L))},[T,L,m]),dt=p.useCallback((X,we)=>ae=>{ae.preventDefault(),ae.stopPropagation(),he(X),V==null||V(X.date,we,ae),u==null||u(X.date,we,ae)},[V,u,he]),tr=p.useCallback((X,we)=>ae=>{he(X),d==null||d(X.date,we,ae)},[d,he]),C=p.useCallback((X,we)=>ae=>{ee(),l==null||l(X.date,we,ae)},[ee,l]),W=p.useCallback((X,we)=>ae=>{const wt={ArrowLeft:["day",t.dir==="rtl"?"after":"before"],ArrowRight:["day",t.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[ae.shiftKey?"year":"month","before"],PageDown:[ae.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(wt[ae.key]){ae.preventDefault(),ae.stopPropagation();const[ot,kr]=wt[ae.key];Te(ot,kr)}f==null||f(X.date,we,ae)},[Te,f,t.dir]),U=p.useCallback((X,we)=>ae=>{h==null||h(X.date,we,ae)},[h]),q=p.useCallback((X,we)=>ae=>{v==null||v(X.date,we,ae)},[v]),K=p.useCallback(X=>we=>{const ae=Number(we.target.value),wt=s.setMonth(s.startOfMonth(X),ae);T(wt)},[s,T]),Z=p.useCallback(X=>we=>{const ae=Number(we.target.value),wt=s.setYear(s.startOfMonth(X),ae);T(wt)},[s,T]),{className:xe,style:Ue}=p.useMemo(()=>({className:[o[Y.Root],t.className].filter(Boolean).join(" "),style:{...g==null?void 0:g[Y.Root],...t.style}}),[o,t.className,t.style,g]),rr=kx(t),Ye=p.useRef(null);sO(Ye,!!t.animate,{classNames:o,months:R,focused:ue,dateLib:s});const sn={dayPickerProps:t,selected:G,select:V,isSelected:z,months:R,nextMonth:L,previousMonth:M,goToMonth:T,getModifiers:F,components:e,classNames:o,styles:g,labels:n,formatters:r};return j.createElement(bf.Provider,{value:sn},j.createElement(e.Root,{rootRef:t.animate?Ye:void 0,className:xe,style:Ue,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...rr},j.createElement(e.Months,{className:o[Y.Months],style:g==null?void 0:g[Y.Months]},!t.hideNavigation&&j.createElement(e.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[Y.Nav],style:g==null?void 0:g[Y.Nav],"aria-label":te(),onPreviousClick:nn,onNextClick:Bt,previousMonth:M,nextMonth:L}),R.map((X,we)=>{const ae=Wx(X.date,I,D,r,s),wt=Bx(I,D,r,s);return j.createElement(e.Month,{"data-animated-month":t.animate?"true":void 0,className:o[Y.Month],style:g==null?void 0:g[Y.Month],key:we,displayIndex:we,calendarMonth:X},j.createElement(e.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:o[Y.MonthCaption],style:g==null?void 0:g[Y.MonthCaption],calendarMonth:X,displayIndex:we},a!=null&&a.startsWith("dropdown")?j.createElement(e.DropdownNav,{className:o[Y.Dropdowns],style:g==null?void 0:g[Y.Dropdowns]},a==="dropdown"||a==="dropdown-months"?j.createElement(e.MonthsDropdown,{className:o[Y.MonthsDropdown],"aria-label":B(),classNames:o,components:e,disabled:!!t.disableNavigation,onChange:K(X.date),options:ae,style:g==null?void 0:g[Y.Dropdown],value:s.getMonth(X.date)}):j.createElement("span",null,S(X.date,s)),a==="dropdown"||a==="dropdown-years"?j.createElement(e.YearsDropdown,{className:o[Y.YearsDropdown],"aria-label":Ze(s.options),classNames:o,components:e,disabled:!!t.disableNavigation,onChange:Z(X.date),options:wt,style:g==null?void 0:g[Y.Dropdown],value:s.getYear(X.date)}):j.createElement("span",null,$(X.date,s)),j.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},b(X.date,s.options,s))):j.createElement(e.CaptionLabel,{className:o[Y.CaptionLabel],role:"status","aria-live":"polite"},b(X.date,s.options,s))),j.createElement(e.MonthGrid,{role:"grid","aria-multiselectable":c==="multiple"||c==="range","aria-label":pe(X.date,s.options,s)||void 0,className:o[Y.MonthGrid],style:g==null?void 0:g[Y.MonthGrid]},!t.hideWeekdays&&j.createElement(e.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:o[Y.Weekdays],style:g==null?void 0:g[Y.Weekdays]},w&&j.createElement(e.WeekNumberHeader,{"aria-label":ke(s.options),className:o[Y.WeekNumberHeader],style:g==null?void 0:g[Y.WeekNumberHeader],scope:"col"},O()),et.map((ot,kr)=>j.createElement(e.Weekday,{"aria-label":J(ot,s.options,s),className:o[Y.Weekday],key:kr,style:g==null?void 0:g[Y.Weekday],scope:"col"},P(ot,s.options,s)))),j.createElement(e.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:o[Y.Weeks],style:g==null?void 0:g[Y.Weeks]},X.weeks.map((ot,kr)=>j.createElement(e.Week,{className:o[Y.Week],key:ot.weekNumber,style:g==null?void 0:g[Y.Week],week:ot},w&&j.createElement(e.WeekNumber,{week:ot,style:g==null?void 0:g[Y.WeekNumber],"aria-label":Me(ot.weekNumber,{locale:i}),className:o[Y.WeekNumber],scope:"row",role:"rowheader"},x(ot.weekNumber)),ot.days.map($e=>{const{date:ft}=$e,ie=F($e);if(ie[Oe.focused]=!ie.hidden&&!!(ue!=null&&ue.isEqualTo($e)),ie[Et.selected]=(z==null?void 0:z(ft))||ie.selected,Ra(G)){const{from:ht,to:ze}=G;ie[Et.range_start]=!!(ht&&ze&&s.isSameDay(ft,ht)),ie[Et.range_end]=!!(ht&&ze&&s.isSameDay(ft,ze)),ie[Et.range_middle]=Kt(G,ft,!0,s)}const Ne=Lx(ie,g,t.modifiersStyles),Ve=ZS(ie,o,t.modifiersClassNames),Ge=!bt&&!ie.hidden?ne(ft,ie,s.options,s):void 0;return j.createElement(e.Day,{key:`${s.format(ft,"yyyy-MM-dd")}_${s.format($e.displayMonth,"yyyy-MM")}`,day:$e,modifiers:ie,className:Ve.join(" "),style:Ne,role:"gridcell","aria-selected":ie.selected||void 0,"aria-label":Ge,"data-day":s.format(ft,"yyyy-MM-dd"),"data-month":$e.outside?s.format(ft,"yyyy-MM"):void 0,"data-selected":ie.selected||void 0,"data-disabled":ie.disabled||void 0,"data-hidden":ie.hidden||void 0,"data-outside":$e.outside||void 0,"data-focused":ie.focused||void 0,"data-today":ie.today||void 0},!ie.hidden&&bt?j.createElement(e.DayButton,{className:o[Y.DayButton],style:g==null?void 0:g[Y.DayButton],type:"button",day:$e,modifiers:ie,disabled:ie.disabled||void 0,tabIndex:be($e)?0:-1,"aria-label":H(ft,ie,s.options,s),onClick:dt($e,ie),onBlur:C($e,ie),onFocus:tr($e,ie),onKeyDown:W($e,ie),onMouseEnter:U($e,ie),onMouseLeave:q($e,ie)},E(ft,s.options,s)):!ie.hidden&&E($e.date,s.options,s))}))))))})),t.footer&&j.createElement(e.Footer,{className:o[Y.Footer],style:g==null?void 0:g[Y.Footer],role:"status","aria-live":"polite"},t.footer)))}function Gn(t,e){if(t.one!==void 0&&e===1)return t.one;const r=e%10,n=e%100;return r===1&&n!==11?t.singularNominative.replace("{{count}}",String(e)):r>=2&&r<=4&&(n<10||n>20)?t.singularGenitive.replace("{{count}}",String(e)):t.pluralGenitive.replace("{{count}}",String(e))}function Ke(t){return(e,r)=>r&&r.addSuffix?r.comparison&&r.comparison>0?t.future?Gn(t.future,e):" "+Gn(t.regular,e):t.past?Gn(t.past,e):Gn(t.regular,e)+" ":Gn(t.regular,e)}const kO=(t,e)=>e&&e.addSuffix?e.comparison&&e.comparison>0?" ":" ":"",DO={lessThanXSeconds:Ke({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:Ke({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:kO,lessThanXMinutes:Ke({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:Ke({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:Ke({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:Ke({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:Ke({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} i",pluralGenitive:"{{count}} "}}),aboutXWeeks:Ke({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:Ke({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:Ke({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:Ke({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:Ke({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:Ke({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:Ke({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:Ke({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},PO=(t,e,r)=>(r=r||{},DO[t](e,r)),MO={full:"EEEE, do MMMM y '.'",long:"do MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},RO={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},AO={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jO={date:Tn({formats:MO,defaultWidth:"full"}),time:Tn({formats:RO,defaultWidth:"full"}),dateTime:Tn({formats:AO,defaultWidth:"full"})},Aa=["","","","","","",""];function IO(t){const e=Aa[t];switch(t){case 0:case 3:case 5:case 6:return"'  "+e+" ' p";case 1:case 2:case 4:return"'  "+e+" ' p"}}function Mf(t){return"' "+Aa[t]+" ' p"}function $O(t){const e=Aa[t];switch(t){case 0:case 3:case 5:case 6:return"'  "+e+" ' p";case 1:case 2:case 4:return"'  "+e+" ' p"}}const NO=(t,e,r)=>{const n=ut(t),s=n.getDay();return nf(n,e,r)?Mf(s):IO(s)},FO=(t,e,r)=>{const n=ut(t),s=n.getDay();return nf(n,e,r)?Mf(s):$O(s)},WO={lastWeek:NO,yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:FO,other:"P"},LO=(t,e,r,n)=>{const s=WO[t];return typeof s=="function"?s(e,r,n):s},UO={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},BO={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},qO={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".",".",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},HO={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".",".",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},zO={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},YO={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},VO={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:".",night:""}},GO=(t,e)=>{const r=String(e==null?void 0:e.unit),n=Number(t);let s;return r==="date"?n===3||n===23?s="-":s="-":r==="minute"||r==="second"||r==="hour"?s="-":s="-",n+s},KO={ordinalNumber:GO,era:$t({values:UO,defaultWidth:"wide"}),quarter:$t({values:BO,defaultWidth:"wide",argumentCallback:t=>t-1}),month:$t({values:qO,defaultWidth:"wide",formattingValues:HO,defaultFormattingWidth:"wide"}),day:$t({values:zO,defaultWidth:"wide"}),dayPeriod:$t({values:YO,defaultWidth:"any",formattingValues:VO,defaultFormattingWidth:"wide"})},QO=/^(\d+)(-?(||||))?/i,JO=/\d+/i,XO={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},ZO={any:[/^/i,/^/i]},eT={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},tT={any:[/1/i,/2/i,/3/i,/4/i]},rT={narrow:/^[]/i,abbreviated:/^(||()?||||||()?||()?|)\.?/i,wide:/^(||||||||||||||||||||[]?||)/i},nT={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},sT={narrow:/^[]/i,short:/^(||||||)\.?/i,abbreviated:/^(||||?|?|)\.?/i,wide:/^([]|[][]|[][]|[]|()?|\W*?[]|[])/i},iT={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^[]/i,/^/i,/^[]/i,/^/i,/^\W*?[]/i,/^[]/i]},oT={narrow:/^([]|\.?|\.?|||||\.?||)/i,abbreviated:/^([]|\.?|\.?|||||\.?||)/i,wide:/^([]||||||||||)/i},aT={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},cT={ordinalNumber:ef({matchPattern:QO,parsePattern:JO,valueCallback:t=>parseInt(t,10)}),era:Nt({matchPatterns:XO,defaultMatchWidth:"wide",parsePatterns:ZO,defaultParseWidth:"any"}),quarter:Nt({matchPatterns:eT,defaultMatchWidth:"wide",parsePatterns:tT,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Nt({matchPatterns:rT,defaultMatchWidth:"wide",parsePatterns:nT,defaultParseWidth:"any"}),day:Nt({matchPatterns:sT,defaultMatchWidth:"wide",parsePatterns:iT,defaultParseWidth:"any"}),dayPeriod:Nt({matchPatterns:oT,defaultMatchWidth:"wide",parsePatterns:aT,defaultParseWidth:"any"})},lT={code:"uk",formatDistance:PO,formatLong:jO,formatRelative:LO,localize:KO,match:cT,options:{weekStartsOn:1,firstWeekContainsDate:1}},uT={up:da,down:gi,left:lp,right:dp};function dT({className:t,classNames:e,showOutsideDays:r=!0,...n}){const{lang:s}=Nh();return _.jsx(CO,{locale:s==="uk"?lT:void 0,showOutsideDays:r,className:Pe("p-3",t),classNames:{month_caption:"h-fit",dropdowns:"h-fit gap-2 flex",chevron:"fill-none inline",dropdown:"bg-background text-primary rdp-dropdown",months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full h-fit",caption_label:"text-sm font-medium",day:"aria-selected:opacity-100 rounded-md",range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",today:"bg-accent text-accent-foreground",outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",disabled:"text-muted-foreground opacity-50",range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",hidden:"invisible",...e},components:{Chevron:({className:i,orientation:o,...a})=>{const c=uT[o||"right"];return _.jsx(c,{className:Pe("size-4 rtl:rotate-[180deg]",i),...a})}},...n})}var $i="Popover",[Rf,hD]=ou($i,[hi]),Rs=hi(),[fT,Er]=Rf($i),Af=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Rs(e),c=p.useRef(null),[l,u]=p.useState(!1),[d,f]=wo({prop:n,defaultProp:s??!1,onChange:i,caller:$i});return _.jsx(iu,{...a,children:_.jsx(fT,{scope:e,contentId:pi(),triggerRef:c,open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),hasCustomAnchor:l,onCustomAnchorAdd:p.useCallback(()=>u(!0),[]),onCustomAnchorRemove:p.useCallback(()=>u(!1),[]),modal:o,children:r})})};Af.displayName=$i;var jf="PopoverAnchor",hT=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Er(jf,r),i=Rs(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return p.useEffect(()=>(o(),()=>a()),[o,a]),_.jsx(la,{...i,...n,ref:e})});hT.displayName=jf;var If="PopoverTrigger",$f=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Er(If,r),i=Rs(r),o=yt(e,s.triggerRef),a=_.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Uf(s.open),...n,ref:o,onClick:Ce(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:_.jsx(la,{asChild:!0,...i,children:a})});$f.displayName=If;var ja="PopoverPortal",[pT,mT]=Rf(ja,{forceMount:void 0}),Nf=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,i=Er(ja,e);return _.jsx(pT,{scope:e,forceMount:r,children:_.jsx(gu,{present:r||i.open,children:_.jsx(au,{asChild:!0,container:s,children:n})})})};Nf.displayName=ja;var Rn="PopoverContent",Ff=p.forwardRef((t,e)=>{const r=mT(Rn,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,i=Er(Rn,t.__scopePopover);return _.jsx(gu,{present:n||i.open,children:i.modal?_.jsx(vT,{...s,ref:e}):_.jsx(yT,{...s,ref:e})})});Ff.displayName=Rn;var gT=du("PopoverContent.RemoveScroll"),vT=p.forwardRef((t,e)=>{const r=Er(Rn,t.__scopePopover),n=p.useRef(null),s=yt(e,n),i=p.useRef(!1);return p.useEffect(()=>{const o=n.current;if(o)return cu(o)},[]),_.jsx(uu,{as:gT,allowPinchZoom:!0,children:_.jsx(Wf,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,l=a.button===2||c;i.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),yT=p.forwardRef((t,e)=>{const r=Er(Rn,t.__scopePopover),n=p.useRef(!1),s=p.useRef(!1);return _.jsx(Wf,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((l=r.triggerRef.current)==null?void 0:l.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Wf=p.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:u,...d}=t,f=Er(Rn,r),h=Rs(r);return lu(),_.jsx(fu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:_.jsx(hu,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:l,onDismiss:()=>f.onOpenChange(!1),children:_.jsx(pu,{"data-state":Uf(f.open),role:"dialog",id:f.contentId,...h,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Lf="PopoverClose",bT=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Er(Lf,r);return _.jsx(He.button,{type:"button",...n,ref:e,onClick:Ce(t.onClick,()=>s.onOpenChange(!1))})});bT.displayName=Lf;var wT="PopoverArrow",_T=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Rs(r);return _.jsx(mu,{...s,...n,ref:e})});_T.displayName=wT;function Uf(t){return t?"open":"closed"}var ST=Af,xT=$f,OT=Nf,TT=Ff;function ET({...t}){return _.jsx(ST,{"data-slot":"popover",...t})}function CT({...t}){return _.jsx(xT,{"data-slot":"popover-trigger",...t})}function kT({className:t,align:e="center",sideOffset:r=4,...n}){return _.jsx(OT,{children:_.jsx(TT,{"data-slot":"popover-content",align:e,sideOffset:r,className:Pe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})})}const DT=t=>{const{name:e,label:r,description:n,wrapperClassName:s,className:i,placeholder:o,disabled:a}=t;return _.jsx(Oi,{name:e,children:_.jsxs(Ei,{className:s,children:[!!r&&_.jsx(Ci,{children:r}),_.jsx(ki,{render:({field:c})=>{const l=c.value?new Date(c.value):void 0;return _.jsxs(ET,{children:[_.jsx(CT,{asChild:!0,disabled:a,children:_.jsxs(ls,{disabled:a,variant:"outline",className:Pe("w-full justify-start text-left font-normal",!l&&"text-muted-foreground",i),children:[_.jsx(sp,{className:"mr-2 h-4 w-4"}),l?Vc(l,"yyyy-MM-dd"):_.jsx("span",{children:o})]})}),_.jsx(kT,{className:"w-auto p-0",align:"start",children:_.jsx(dT,{mode:"single",selected:l,onSelect:u=>{c.onChange({target:{name:c.name,value:u?Vc(u,"yyyy-MM-dd"):""}})},initialFocus:!0})})]})}}),!!n&&_.jsx(Di,{children:n}),_.jsx(Pi,{})]})})},PT=j.memo(DT);var Ns={exports:{}},cr={},ro={exports:{}},no,ol;function MT(){if(ol)return no;ol=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return no=t,no}var so,al;function RT(){if(al)return so;al=1;var t=MT();function e(){}function r(){}return r.resetWarningCache=e,so=function(){function n(o,a,c,l,u,d){if(d!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},so}var cl;function Bf(){return cl||(cl=1,ro.exports=RT()()),ro.exports}var Fs={exports:{}},mt={},Ws={exports:{}},ll;function qf(){return ll||(ll=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var r="none",n="contents",s=/^(input|select|textarea|button|object|iframe)$/;function i(d,f){return f.getPropertyValue("overflow")!=="visible"||d.scrollWidth<=0&&d.scrollHeight<=0}function o(d){var f=d.offsetWidth<=0&&d.offsetHeight<=0;if(f&&!d.innerHTML)return!0;try{var h=window.getComputedStyle(d),v=h.getPropertyValue("display");return f?v!==n&&i(d,h):v===r}catch{return console.warn("Failed to inspect element style"),!1}}function a(d){for(var f=d,h=d.getRootNode&&d.getRootNode();f&&f!==document.body;){if(h&&f===h&&(f=h.host.parentNode),o(f))return!1;f=f.parentNode}return!0}function c(d,f){var h=d.nodeName.toLowerCase(),v=s.test(h)&&!d.disabled||h==="a"&&d.href||f;return v&&a(d)}function l(d){var f=d.getAttribute("tabindex");f===null&&(f=void 0);var h=isNaN(f);return(h||f>=0)&&c(d,!h)}function u(d){var f=[].slice.call(d.querySelectorAll("*"),0).reduce(function(h,v){return h.concat(v.shadowRoot?u(v.shadowRoot):[v])},[]);return f.filter(l)}t.exports=e.default}(Ws,Ws.exports)),Ws.exports}var ul;function AT(){if(ul)return mt;ul=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.resetState=o,mt.log=a,mt.handleBlur=c,mt.handleFocus=l,mt.markForFocusLater=u,mt.returnFocus=d,mt.popWithoutFocus=f,mt.setupScopedFocus=h,mt.teardownScopedFocus=v;var t=qf(),e=r(t);function r(m){return m&&m.__esModule?m:{default:m}}var n=[],s=null,i=!1;function o(){n=[]}function a(){}function c(){i=!0}function l(){if(i){if(i=!1,!s)return;setTimeout(function(){if(!s.contains(document.activeElement)){var m=(0,e.default)(s)[0]||s;m.focus()}},0)}}function u(){n.push(document.activeElement)}function d(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,y=null;try{n.length!==0&&(y=n.pop(),y.focus({preventScroll:m}));return}catch{console.warn(["You tried to return focus to",y,"but it is not in the DOM anymore"].join(" "))}}function f(){n.length>0&&n.pop()}function h(m){s=m,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",l,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",l))}function v(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",l)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",l))}return mt}var Ls={exports:{}},dl;function jT(){return dl||(dl=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=qf(),n=s(r);function s(a){return a&&a.__esModule?a:{default:a}}function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?i(a.activeElement.shadowRoot):a.activeElement}function o(a,c){var l=(0,n.default)(a);if(!l.length){c.preventDefault();return}var u=void 0,d=c.shiftKey,f=l[0],h=l[l.length-1],v=i();if(a===v){if(!d)return;u=h}if(h===v&&!d&&(u=f),f===v&&d&&(u=h),u){c.preventDefault(),u.focus();return}var m=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),y=m!=null&&m[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(y){var w=l.indexOf(v);if(w>-1&&(w+=d?-1:1),u=l[w],typeof u>"u"){c.preventDefault(),u=d?h:f,u.focus();return}c.preventDefault(),u.focus()}}t.exports=e.default}(Ls,Ls.exports)),Ls.exports}var _t={},io,fl;function IT(){if(fl)return io;fl=1;var t=function(){};return io=t,io}var Mt={},oo={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var hl;function $T(){return hl||(hl=1,function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=r:window.ExecutionEnvironment=r})()}(oo)),oo.exports}var pl;function Ia(){if(pl)return Mt;pl=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.canUseDOM=Mt.SafeNodeList=Mt.SafeHTMLCollection=void 0;var t=$T(),e=r(t);function r(i){return i&&i.__esModule?i:{default:i}}var n=e.default,s=n.canUseDOM?window.HTMLElement:{};return Mt.SafeHTMLCollection=n.canUseDOM?window.HTMLCollection:{},Mt.SafeNodeList=n.canUseDOM?window.NodeList:{},Mt.canUseDOM=n.canUseDOM,Mt.default=s,Mt}var ml;function Hf(){if(ml)return _t;ml=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.resetState=i,_t.log=o,_t.assertNodeList=a,_t.setElement=c,_t.validateElement=l,_t.hide=u,_t.show=d,_t.documentNotReadyOrSSRTesting=f;var t=IT(),e=n(t),r=Ia();function n(h){return h&&h.__esModule?h:{default:h}}var s=null;function i(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):s.length!=null?s.forEach(function(h){return h.removeAttribute("aria-hidden")}):document.querySelectorAll(s).forEach(function(h){return h.removeAttribute("aria-hidden")})),s=null}function o(){}function a(h,v){if(!h||!h.length)throw new Error("react-modal: No elements were found for selector "+v+".")}function c(h){var v=h;if(typeof v=="string"&&r.canUseDOM){var m=document.querySelectorAll(v);a(m,v),v=m}return s=v||s,s}function l(h){var v=h||s;return v?Array.isArray(v)||v instanceof HTMLCollection||v instanceof NodeList?v:[v]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function u(h){var v=!0,m=!1,y=void 0;try{for(var w=l(h)[Symbol.iterator](),g;!(v=(g=w.next()).done);v=!0){var b=g.value;b.setAttribute("aria-hidden","true")}}catch(E){m=!0,y=E}finally{try{!v&&w.return&&w.return()}finally{if(m)throw y}}}function d(h){var v=!0,m=!1,y=void 0;try{for(var w=l(h)[Symbol.iterator](),g;!(v=(g=w.next()).done);v=!0){var b=g.value;b.removeAttribute("aria-hidden")}}catch(E){m=!0,y=E}finally{try{!v&&w.return&&w.return()}finally{if(m)throw y}}}function f(){s=null}return _t}var Pr={},gl;function NT(){if(gl)return Pr;gl=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.resetState=n,Pr.log=s;var t={},e={};function r(l,u){l.classList.remove(u)}function n(){var l=document.getElementsByTagName("html")[0];for(var u in t)r(l,t[u]);var d=document.body;for(var f in e)r(d,e[f]);t={},e={}}function s(){}var i=function(u,d){return u[d]||(u[d]=0),u[d]+=1,d},o=function(u,d){return u[d]&&(u[d]-=1),d},a=function(u,d,f){f.forEach(function(h){i(d,h),u.add(h)})},c=function(u,d,f){f.forEach(function(h){o(d,h),d[h]===0&&u.remove(h)})};return Pr.add=function(u,d){return a(u.classList,u.nodeName.toLowerCase()=="html"?t:e,d.split(" "))},Pr.remove=function(u,d){return c(u.classList,u.nodeName.toLowerCase()=="html"?t:e,d.split(" "))},Pr}var ln={},vl;function zf(){if(vl)return ln;vl=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.log=n,ln.resetState=s;function t(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}var e=function i(){var o=this;t(this,i),this.register=function(a){o.openInstances.indexOf(a)===-1&&(o.openInstances.push(a),o.emit("register"))},this.deregister=function(a){var c=o.openInstances.indexOf(a);c!==-1&&(o.openInstances.splice(c,1),o.emit("deregister"))},this.subscribe=function(a){o.subscribers.push(a)},this.emit=function(a){o.subscribers.forEach(function(c){return c(a,o.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},r=new e;function n(){console.log("portalOpenInstances ----------"),console.log(r.openInstances.length),r.openInstances.forEach(function(i){return console.log(i)}),console.log("end portalOpenInstances ----------")}function s(){r=new e}return ln.default=r,ln}var Kn={},yl;function FT(){if(yl)return Kn;yl=1,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.resetState=o,Kn.log=a;var t=zf(),e=r(t);function r(u){return u&&u.__esModule?u:{default:u}}var n=void 0,s=void 0,i=[];function o(){for(var u=[n,s],d=0;d<u.length;d++){var f=u[d];f&&f.parentNode&&f.parentNode.removeChild(f)}n=s=null,i=[]}function a(){console.log("bodyTrap ----------"),console.log(i.length);for(var u=[n,s],d=0;d<u.length;d++){var f=u[d],h=f||{};console.log(h.nodeName,h.className,h.id)}console.log("edn bodyTrap ----------")}function c(){i.length!==0&&i[i.length-1].focusContent()}function l(u,d){!n&&!s&&(n=document.createElement("div"),n.setAttribute("data-react-modal-body-trap",""),n.style.position="absolute",n.style.opacity="0",n.setAttribute("tabindex","0"),n.addEventListener("focus",c),s=n.cloneNode(),s.addEventListener("focus",c)),i=d,i.length>0?(document.body.firstChild!==n&&document.body.insertBefore(n,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(n.parentElement&&n.parentElement.removeChild(n),s.parentElement&&s.parentElement.removeChild(s))}return e.default.subscribe(l),Kn}var bl;function WT(){return bl||(bl=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(D){for(var M=1;M<arguments.length;M++){var L=arguments[M];for(var T in L)Object.prototype.hasOwnProperty.call(L,T)&&(D[T]=L[T])}return D},n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},s=function(){function D(M,L){for(var T=0;T<L.length;T++){var F=L[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}return function(M,L,T){return L&&D(M.prototype,L),T&&D(M,T),M}}(),i=vu(),o=Bf(),a=S(o),c=AT(),l=E(c),u=jT(),d=S(u),f=Hf(),h=E(f),v=NT(),m=E(v),y=Ia(),w=S(y),g=zf(),b=S(g);FT();function E(D){if(D&&D.__esModule)return D;var M={};if(D!=null)for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&(M[L]=D[L]);return M.default=D,M}function S(D){return D&&D.__esModule?D:{default:D}}function x(D,M){if(!(D instanceof M))throw new TypeError("Cannot call a class as a function")}function O(D,M){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:D}function P(D,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);D.prototype=Object.create(M&&M.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(D,M):D.__proto__=M)}var $={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},N=function(M){return M.code==="Tab"||M.keyCode===9},k=function(M){return M.code==="Escape"||M.keyCode===27},R=0,I=function(D){P(M,D);function M(L){x(this,M);var T=O(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,L));return T.setOverlayRef=function(F){T.overlay=F,T.props.overlayRef&&T.props.overlayRef(F)},T.setContentRef=function(F){T.content=F,T.props.contentRef&&T.props.contentRef(F)},T.afterClose=function(){var F=T.props,z=F.appElement,V=F.ariaHideApp,G=F.htmlOpenClassName,ee=F.bodyOpenClassName,ue=F.parentSelector,be=ue&&ue().ownerDocument||document;ee&&m.remove(be.body,ee),G&&m.remove(be.getElementsByTagName("html")[0],G),V&&R>0&&(R-=1,R===0&&h.show(z)),T.props.shouldFocusAfterRender&&(T.props.shouldReturnFocusAfterClose?(l.returnFocus(T.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),T.props.onAfterClose&&T.props.onAfterClose(),b.default.deregister(T)},T.open=function(){T.beforeOpen(),T.state.afterOpen&&T.state.beforeClose?(clearTimeout(T.closeTimer),T.setState({beforeClose:!1})):(T.props.shouldFocusAfterRender&&(l.setupScopedFocus(T.node),l.markForFocusLater()),T.setState({isOpen:!0},function(){T.openAnimationFrame=requestAnimationFrame(function(){T.setState({afterOpen:!0}),T.props.isOpen&&T.props.onAfterOpen&&T.props.onAfterOpen({overlayEl:T.overlay,contentEl:T.content})})}))},T.close=function(){T.props.closeTimeoutMS>0?T.closeWithTimeout():T.closeWithoutTimeout()},T.focusContent=function(){return T.content&&!T.contentHasFocus()&&T.content.focus({preventScroll:!0})},T.closeWithTimeout=function(){var F=Date.now()+T.props.closeTimeoutMS;T.setState({beforeClose:!0,closesAt:F},function(){T.closeTimer=setTimeout(T.closeWithoutTimeout,T.state.closesAt-Date.now())})},T.closeWithoutTimeout=function(){T.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},T.afterClose)},T.handleKeyDown=function(F){N(F)&&(0,d.default)(T.content,F),T.props.shouldCloseOnEsc&&k(F)&&(F.stopPropagation(),T.requestClose(F))},T.handleOverlayOnClick=function(F){T.shouldClose===null&&(T.shouldClose=!0),T.shouldClose&&T.props.shouldCloseOnOverlayClick&&(T.ownerHandlesClose()?T.requestClose(F):T.focusContent()),T.shouldClose=null},T.handleContentOnMouseUp=function(){T.shouldClose=!1},T.handleOverlayOnMouseDown=function(F){!T.props.shouldCloseOnOverlayClick&&F.target==T.overlay&&F.preventDefault()},T.handleContentOnClick=function(){T.shouldClose=!1},T.handleContentOnMouseDown=function(){T.shouldClose=!1},T.requestClose=function(F){return T.ownerHandlesClose()&&T.props.onRequestClose(F)},T.ownerHandlesClose=function(){return T.props.onRequestClose},T.shouldBeClosed=function(){return!T.state.isOpen&&!T.state.beforeClose},T.contentHasFocus=function(){return document.activeElement===T.content||T.content.contains(document.activeElement)},T.buildClassName=function(F,z){var V=(typeof z>"u"?"undefined":n(z))==="object"?z:{base:$[F],afterOpen:$[F]+"--after-open",beforeClose:$[F]+"--before-close"},G=V.base;return T.state.afterOpen&&(G=G+" "+V.afterOpen),T.state.beforeClose&&(G=G+" "+V.beforeClose),typeof z=="string"&&z?G+" "+z:G},T.attributesFromObject=function(F,z){return Object.keys(z).reduce(function(V,G){return V[F+"-"+G]=z[G],V},{})},T.state={afterOpen:!1,beforeClose:!1},T.shouldClose=null,T.moveFromContentToOverlay=null,T}return s(M,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(T,F){this.props.isOpen&&!T.isOpen?this.open():!this.props.isOpen&&T.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!F.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var T=this.props,F=T.appElement,z=T.ariaHideApp,V=T.htmlOpenClassName,G=T.bodyOpenClassName,ee=T.parentSelector,ue=ee&&ee().ownerDocument||document;G&&m.add(ue.body,G),V&&m.add(ue.getElementsByTagName("html")[0],V),z&&(R+=1,h.hide(F)),b.default.register(this)}},{key:"render",value:function(){var T=this.props,F=T.id,z=T.className,V=T.overlayClassName,G=T.defaultStyles,ee=T.children,ue=z?{}:G.content,be=V?{}:G.overlay;if(this.shouldBeClosed())return null;var Te={ref:this.setOverlayRef,className:this.buildClassName("overlay",V),style:r({},be,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},he=r({id:F,ref:this.setContentRef,style:r({},ue,this.props.style.content),className:this.buildClassName("content",z),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),H=this.props.contentElement(he,ee);return this.props.overlayElement(Te,H)}}]),M}(i.Component);I.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},I.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(w.default),a.default.instanceOf(y.SafeHTMLCollection),a.default.instanceOf(y.SafeNodeList),a.default.arrayOf(a.default.instanceOf(w.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=I,t.exports=e.default}(Fs,Fs.exports)),Fs.exports}function Yf(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Vf(t){function e(r){var n=this.constructor.getDerivedStateFromProps(t,r);return n??null}this.setState(e.bind(this))}function Gf(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}Yf.__suppressDeprecationWarning=!0;Vf.__suppressDeprecationWarning=!0;Gf.__suppressDeprecationWarning=!0;function LT(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,n=null,s=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?s="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),r!==null||n!==null||s!==null){var i=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=Yf,e.componentWillReceiveProps=Vf),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=Gf;var a=e.componentDidUpdate;e.componentDidUpdate=function(l,u,d){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,l,u,f)}}return t}const UT=Object.freeze(Object.defineProperty({__proto__:null,polyfill:LT},Symbol.toStringTag,{value:"Module"})),BT=yu(UT);var wl;function qT(){if(wl)return cr;wl=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.bodyOpenClassName=cr.portalClassName=void 0;var t=Object.assign||function(k){for(var R=1;R<arguments.length;R++){var I=arguments[R];for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(k[D]=I[D])}return k},e=function(){function k(R,I){for(var D=0;D<I.length;D++){var M=I[D];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(R,M.key,M)}}return function(R,I,D){return I&&k(R.prototype,I),D&&k(R,D),R}}(),r=vu(),n=y(r),s=Fh(),i=y(s),o=Bf(),a=y(o),c=WT(),l=y(c),u=Hf(),d=m(u),f=Ia(),h=y(f),v=BT;function m(k){if(k&&k.__esModule)return k;var R={};if(k!=null)for(var I in k)Object.prototype.hasOwnProperty.call(k,I)&&(R[I]=k[I]);return R.default=k,R}function y(k){return k&&k.__esModule?k:{default:k}}function w(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}function g(k,R){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:k}function b(k,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);k.prototype=Object.create(R&&R.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(k,R):k.__proto__=R)}var E=cr.portalClassName="ReactModalPortal",S=cr.bodyOpenClassName="ReactModal__Body--open",x=f.canUseDOM&&i.default.createPortal!==void 0,O=function(R){return document.createElement(R)},P=function(){return x?i.default.createPortal:i.default.unstable_renderSubtreeIntoContainer};function $(k){return k()}var N=function(k){b(R,k);function R(){var I,D,M,L;w(this,R);for(var T=arguments.length,F=Array(T),z=0;z<T;z++)F[z]=arguments[z];return L=(D=(M=g(this,(I=R.__proto__||Object.getPrototypeOf(R)).call.apply(I,[this].concat(F))),M),M.removePortal=function(){!x&&i.default.unmountComponentAtNode(M.node);var V=$(M.props.parentSelector);V&&V.contains(M.node)?V.removeChild(M.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},M.portalRef=function(V){M.portal=V},M.renderPortal=function(V){var G=P(),ee=G(M,n.default.createElement(l.default,t({defaultStyles:R.defaultStyles},V)),M.node);M.portalRef(ee)},D),g(M,L)}return e(R,[{key:"componentDidMount",value:function(){if(f.canUseDOM){x||(this.node=O("div")),this.node.className=this.props.portalClassName;var D=$(this.props.parentSelector);D.appendChild(this.node),!x&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(D){var M=$(D.parentSelector),L=$(this.props.parentSelector);return{prevParent:M,nextParent:L}}},{key:"componentDidUpdate",value:function(D,M,L){if(f.canUseDOM){var T=this.props,F=T.isOpen,z=T.portalClassName;D.portalClassName!==z&&(this.node.className=z);var V=L.prevParent,G=L.nextParent;G!==V&&(V.removeChild(this.node),G.appendChild(this.node)),!(!D.isOpen&&!F)&&!x&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!f.canUseDOM||!this.node||!this.portal)){var D=this.portal.state,M=Date.now(),L=D.isOpen&&this.props.closeTimeoutMS&&(D.closesAt||M+this.props.closeTimeoutMS);L?(D.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,L-M)):this.removePortal()}}},{key:"render",value:function(){if(!f.canUseDOM||!x)return null;!this.node&&x&&(this.node=O("div"));var D=P();return D(n.default.createElement(l.default,t({ref:this.portalRef,defaultStyles:R.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(D){d.setElement(D)}}]),R}(r.Component);return N.propTypes={isOpen:a.default.bool.isRequired,style:a.default.shape({content:a.default.object,overlay:a.default.object}),portalClassName:a.default.string,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,className:a.default.oneOfType([a.default.string,a.default.shape({base:a.default.string.isRequired,afterOpen:a.default.string.isRequired,beforeClose:a.default.string.isRequired})]),overlayClassName:a.default.oneOfType([a.default.string,a.default.shape({base:a.default.string.isRequired,afterOpen:a.default.string.isRequired,beforeClose:a.default.string.isRequired})]),appElement:a.default.oneOfType([a.default.instanceOf(h.default),a.default.instanceOf(f.SafeHTMLCollection),a.default.instanceOf(f.SafeNodeList),a.default.arrayOf(a.default.instanceOf(h.default))]),onAfterOpen:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,ariaHideApp:a.default.bool,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,parentSelector:a.default.func,aria:a.default.object,data:a.default.object,role:a.default.string,contentLabel:a.default.string,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func},N.defaultProps={isOpen:!1,portalClassName:E,bodyOpenClassName:S,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(R,I){return n.default.createElement("div",R,I)},contentElement:function(R,I){return n.default.createElement("div",R,I)}},N.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,v.polyfill)(N),cr.default=N,cr}var _l;function HT(){return _l||(_l=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=qT(),n=s(r);function s(i){return i&&i.__esModule?i:{default:i}}e.default=n.default,t.exports=e.default}(Ns,Ns.exports)),Ns.exports}var zT=HT();const YT=fi(zT),VT=t=>{const{title:e,children:r,onCloseModal:n,buttonTitle:s,clickSubmit:i,disabled:o,className:a,submitVariant:c="default",headerAction:l}=t,{t:u}=_s();return p.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),_.jsx(YT,{isOpen:!0,onRequestClose:n,ariaHideApp:!1,className:Pe("w-[480px] max-w-none mx-auto my-auto rounded-xl shadow-md absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",a),overlayClassName:"fixed inset-0 overflow-auto z-50 p-5 bg-black/30 transition-colors duration-150 h-[100vh] flex items-center justify-center",children:_.jsxs("div",{className:"border border-solid border-divider rounded-xl bg-card",children:[_.jsxs("div",{className:"relative flex justify-center p-[22px] rounded-t-xl border-b-border border-b-1",children:[_.jsxs("div",{className:"flex items-center justify-between gap-3 text-xl",children:[e," ",l]}),_.jsx(wp,{className:"absolute top-0 right-[-48px] w-8 h-8 rounded-lg text-muted-foreground bg-card p-1 cursor-pointer",onClick:n})]}),_.jsx("div",{className:"p-4 px-6 pb-6",children:r}),_.jsxs("div",{className:"flex items-center justify-between p-4 px-6 pb-6 gap-4",children:[_.jsx(ls,{"data-testid":"Modal-cancelButton",onClick:n,variant:"ghost",children:u("cancel")}),_.jsx(ls,{variant:c,disabled:o,onClick:i,children:s||u("submit")})]})]})})},Kf=j.memo(VT),GT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>Un);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class $a extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class KT extends $a{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Sl extends $a{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xl extends $a{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qo||(Qo={}));var QT=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};class JT{constructor(e,{headers:r={},customFetch:n,region:s=Qo.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=GT(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return QT(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:c}=r;c||(c=this.region);const l=new URL(`${this.url}/${e}`);c&&c!=="any"&&(a["x-region"]=c,l.searchParams.set("forceFunctionRegion",c));let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(l.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(m=>{throw new KT(m)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Sl(d);if(!d.ok)throw new xl(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return h==="application/json"?v=yield d.json():h==="application/octet-stream"?v=yield d.blob():h==="text/event-stream"?v=d:h==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof xl||s instanceof Sl?s.context:void 0}}})}}var Fe={},un={},dn={},fn={},hn={},pn={},XT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},An=XT();const ZT=An.fetch,Qf=An.fetch.bind(An),Jf=An.Headers,eE=An.Request,tE=An.Response,Un=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jf,Request:eE,Response:tE,default:Qf,fetch:ZT},Symbol.toStringTag,{value:"Module"})),rE=yu(Un);var Us={},Ol;function Xf(){if(Ol)return Us;Ol=1,Object.defineProperty(Us,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Us.default=t,Us}var Tl;function Zf(){if(Tl)return pn;Tl=1;var t=pn&&pn.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(pn,"__esModule",{value:!0});const e=t(rE),r=t(Xf());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,f,h;let v=null,m=null,y=null,w=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const x=await l.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?m=x:m=JSON.parse(x))}const E=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");E&&S&&S.length>1&&(y=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(v={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,w=406,g="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const E=await l.text();try{v=JSON.parse(E),Array.isArray(v)&&l.status===404&&(m=[],v=null,w=200,g="OK")}catch{l.status===404&&E===""?(w=204,g="No Content"):v={message:E}}if(v&&this.isMaybeSingle&&(!((h=v==null?void 0:v.details)===null||h===void 0)&&h.includes("0 rows"))&&(v=null,w=200,g="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:m,count:y,status:w,statusText:g}});return this.shouldThrowOnError||(c=c.catch(l=>{var u,d,f;return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(d=l==null?void 0:l.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return pn.default=n,pn}var El;function eh(){if(El)return hn;El=1;var t=hn&&hn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(hn,"__esModule",{value:!0});const e=t(Zf());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:c=a}={}){const l=c?`${c}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const c=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(l,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:c=!1,format:l="text"}={}){var u;const d=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${f}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return hn.default=r,hn}var Cl;function Na(){if(Cl)return fn;Cl=1;var t=fn&&fn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(fn,"__esModule",{value:!0});const e=t(eh());class r extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let c="";a==="plain"?c="pl":a==="phrase"?c="ph":a==="websearch"&&(c="w");const l=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${c}fts${l}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return fn.default=r,fn}var kl;function th(){if(kl)return dn;kl=1;var t=dn&&dn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(dn,"__esModule",{value:!0});const e=t(Na());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let c=!1;const l=(s??"*").split("").map(u=>/\s/.test(u)&&!c?"":(u==='"'&&(c=!c),u)).join("");return this.url.searchParams.set("select",l),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const l=s.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:c=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return dn.default=r,dn}var Dl;function nE(){if(Dl)return un;Dl=1;var t=un&&un.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(un,"__esModule",{value:!0});const e=t(th()),r=t(Na());class n{constructor(i,{headers:o={},schema:a,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:c=!1,count:l}={}){var u;let d;const f=new URL(`${this.url}/rpc/${i}`);let h;a||c?(d=a?"HEAD":"GET",Object.entries(o).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{f.searchParams.append(m,y)})):(d="POST",h=o);const v=new Headers(this.headers);return l&&v.set("Prefer",`count=${l}`),new r.default({method:d,url:f,headers:v,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return un.default=n,un}var Pl;function sE(){if(Pl)return Fe;Pl=1;var t=Fe&&Fe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const e=t(nE());Fe.PostgrestClient=e.default;const r=t(th());Fe.PostgrestQueryBuilder=r.default;const n=t(Na());Fe.PostgrestFilterBuilder=n.default;const s=t(eh());Fe.PostgrestTransformBuilder=s.default;const i=t(Zf());Fe.PostgrestBuilder=i.default;const o=t(Xf());return Fe.PostgrestError=o.default,Fe.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},Fe}var iE=sE();const oE=fi(iE),{PostgrestClient:aE,PostgrestQueryBuilder:pD,PostgrestFilterBuilder:mD,PostgrestTransformBuilder:gD,PostgrestBuilder:vD,PostgrestError:yD}=oE;class cE{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const lE="2.15.1",uE=`realtime-js/${lE}`,dE="1.0.0",Jo=1e4,fE=1e3,hE=100;var os;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(os||(os={}));var Re;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Re||(Re={}));var Tt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Tt||(Tt={}));var Xo;(function(t){t.websocket="websocket"})(Xo||(Xo={}));var Nr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Nr||(Nr={}));class pE{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class rh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ve;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ve||(ve={}));const Ml=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=mE(o,t,e,s),i),{})},mE=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?nh(i,o):Zo(o)},nh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return bE(e,r)}switch(t){case ve.bool:return gE(e);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return vE(e);case ve.json:case ve.jsonb:return yE(e);case ve.timestamp:return wE(e);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return Zo(e);default:return Zo(e)}},Zo=t=>t,gE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},vE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},yE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},bE=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>nh(e,a))}return t},wE=t=>typeof t=="string"?t.replace(" ","T"):t,sh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ao{constructor(e,r,n={},s=Jo){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Rl;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Rl||(Rl={}));class as{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=as.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=as.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=as.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const d=i[l];if(d){const f=u.map(y=>y.presence_ref),h=d.map(y=>y.presence_ref),v=u.filter(y=>h.indexOf(y.presence_ref)<0),m=d.filter(y=>f.indexOf(y.presence_ref)<0);v.length>0&&(a[l]=v),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const d=e[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...f)}n(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,s(a,l,c),l.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Al;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Al||(Al={}));var cs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(cs||(cs={}));var Yt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Yt||(Yt={}));class Fa{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ao(this,Tt.join,this.params,this.timeout),this.rejoinTimer=new rh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new as(this),this.broadcastEndpointURL=sh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Re.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],l=!!this.bindings[cs.PRESENCE]&&this.bindings[cs.PRESENCE].length>0,u={},d={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:l}),postgres_changes:c,private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(Yt.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Yt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var h;if(this.socket.setAuth(),f===void 0){e==null||e(Yt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,m=(h=v==null?void 0:v.length)!==null&&h!==void 0?h:0,y=[];for(let w=0;w<m;w++){const g=v[w],{filter:{event:b,schema:E,table:S,filter:x}}=g,O=f&&f[w];if(O&&O.event===b&&O.schema===E&&O.table===S&&O.filter===x)y.push(Object.assign(Object.assign({},g),{id:O.id}));else{this.unsubscribe(),this.state=Re.errored,e==null||e(Yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Yt.SUBSCRIBED);return}}).receive("error",f=>{this.state=Re.errored,e==null||e(Yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Re.joined&&e===cs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Re.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ao(this,Tt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Re.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ao(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>hE){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Tt;if(n&&[a,c,l,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var v,m,y;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(m=h.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(h=>h.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var v,m,y,w,g,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const E=h.id,S=(v=h.filter)===null||v===void 0?void 0:v.event;return E&&((m=r.ids)===null||m===void 0?void 0:m.includes(E))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const E=(g=(w=h==null?void 0:h.filter)===null||w===void 0?void 0:w.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return E==="*"||E===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:m,table:y,commit_timestamp:w,type:g,errors:b}=v;f=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:w,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(v))}h.callback(f,n)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Fa.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Tt.close,{},e)}_onError(e){this._on(Tt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Ml(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Ml(e.columns,e.old_record)),r}}const jl=()=>{},Bs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_E=[1e3,2e3,5e3,1e4],SE=1e4,xE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OE{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jo,this.transport=null,this.heartbeatIntervalMs=Bs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jl,this.ref=0,this.reconnectTimer=null,this.logger=jl,this.conn=null,this.sendBuffer=[],this.serializer=new pE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Ss(async()=>{const{default:a}=await Promise.resolve().then(()=>Un);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Xo.websocket}`,this.httpEndpoint=sh(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dE}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return Nr.Connecting;case os.open:return Nr.Open;case os.closing:return Nr.Closing;default:return Nr.Closed}}isConnected(){return this.connectionState()===Nr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Fa(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(fE,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Bs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${a}`.trim(),i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Tt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([xE],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:uE};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Tt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new rh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,c,l;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Jo,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Bs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:u=>_E[u-1]||SE,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(u,d)=>d(JSON.stringify(u)),this.decode=(l=e==null?void 0:e.decode)!==null&&l!==void 0?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Wa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class TE extends Wa{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ea extends Wa{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var EE=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const ih=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>Un);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},CE=()=>EE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ss(()=>Promise.resolve().then(()=>Un),void 0)).Response:Response}),ta=t=>{if(Array.isArray(t))return t.map(r=>ta(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ta(n)}),e},kE=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var tn=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const co=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DE=(t,e,r)=>tn(void 0,void 0,void 0,function*(){const n=yield CE();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new TE(co(s),i,o))}).catch(s=>{e(new ea(co(s),s))}):e(new ea(co(t),t))}),PE=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(kE(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function As(t,e,r,n,s,i){return tn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,PE(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>DE(c,a,n))})})}function ai(t,e,r,n){return tn(this,void 0,void 0,function*(){return As(t,"GET",e,r,n)})}function At(t,e,r,n,s){return tn(this,void 0,void 0,function*(){return As(t,"POST",e,n,s,r)})}function ra(t,e,r,n,s){return tn(this,void 0,void 0,function*(){return As(t,"PUT",e,n,s,r)})}function ME(t,e,r,n){return tn(this,void 0,void 0,function*(){return As(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function oh(t,e,r,n,s){return tn(this,void 0,void 0,function*(){return As(t,"DELETE",e,n,s,r)})}var Qe=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const RE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Il={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AE{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=ih(s)}uploadOrUpdate(e,r,n,s){return Qe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Il),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(r),u=this._getFinalPath(l),d=yield(e=="PUT"?ra:At)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Qe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let c;const l=Object.assign({upsert:Il.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield ra(this.fetch,a.toString(),c,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(Ae(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Qe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield At(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Wa("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}update(e,r,n){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Qe(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Qe(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Qe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield At(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Qe(this,void 0,void 0,function*(){try{const s=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}download(e,r){return Qe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ai(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ae(a))return{data:null,error:a};throw a}})}info(e){return Qe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ai(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ta(n),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}exists(e){return Qe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield ME(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ae(n)&&n instanceof ea){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${l}`)}}}remove(e){return Qe(this,void 0,void 0,function*(){try{return{data:yield oh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}list(e,r,n){return Qe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},RE),r),{prefix:e||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}listV2(e,r){return Qe(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield At(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const jE="2.11.0",IE={"X-Client-Info":`storage-js/${jE}`};var mn=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};class $E{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},IE),r),this.fetch=ih(n)}listBuckets(){return mn(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ae(e))return{data:null,error:e};throw e}})}getBucket(e){return mn(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return mn(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return mn(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}emptyBucket(e){return mn(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}deleteBucket(e){return mn(this,void 0,void 0,function*(){try{return{data:yield oh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}}class NE extends $E{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new AE(this.url,this.headers,e,this.fetch)}}const FE="2.56.0";let Zn="";typeof Deno<"u"?Zn="deno":typeof document<"u"?Zn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zn="react-native":Zn="node";const WE={"X-Client-Info":`supabase-js-${Zn}/${FE}`},LE={headers:WE},UE={schema:"public"},BE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qE={};var HE=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const zE=t=>{let e;return t?e=t:typeof fetch>"u"?e=Qf:e=fetch,(...r)=>e(...r)},YE=()=>typeof Headers>"u"?Jf:Headers,VE=(t,e,r)=>{const n=zE(r),s=YE();return(i,o)=>HE(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:l}))})};var GE=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};function KE(t){return t.endsWith("/")?t:t+"/"}function QE(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:c,auth:l,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>GE(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const ah="2.71.1",_n=30*1e3,na=3,lo=na*_n,JE="http://localhost:9999",XE="supabase.auth.token",ZE={"X-Client-Info":`gotrue-js/${ah}`},sa="X-Supabase-Api-Version",ch={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tC=10*60*1e3;class La extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rC extends La{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function nC(t){return Q(t)&&t.name==="AuthApiError"}class lh extends La{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Cr extends La{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class ur extends Cr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sC(t){return Q(t)&&t.name==="AuthSessionMissingError"}class qs extends Cr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hs extends Cr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zs extends Cr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iC(t){return Q(t)&&t.name==="AuthImplicitGrantRedirectError"}class $l extends Cr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ia extends Cr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function uo(t){return Q(t)&&t.name==="AuthRetryableFetchError"}class Nl extends Cr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class oa extends Cr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ci="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fl=` 	
\r=`.split(""),oC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Fl.length;e+=1)t[Fl[e].charCodeAt(0)]=-2;for(let e=0;e<ci.length;e+=1)t[ci[e].charCodeAt(0)]=e;return t})();function Wl(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ci[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ci[n]),e.queuedBits-=6}}function uh(t,e,r){const n=oC[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ll(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{lC(o,n,r)};for(let o=0;o<t.length;o+=1)uh(t.charCodeAt(o),s,i);return e.join("")}function aC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cC(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}aC(n,e)}}function lC(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function uC(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)uh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function dC(t){const e=[];return cC(t,r=>e.push(r)),new Uint8Array(e)}function fC(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Wl(s,r,n)),Wl(null,r,n),e.join("")}function hC(t){return Math.round(Date.now()/1e3)+t}function pC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const xt=()=>typeof window<"u"&&typeof document<"u",Mr={tested:!1,writable:!1},dh=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mr.tested)return Mr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Mr.tested=!0,Mr.writable=!0}catch{Mr.tested=!0,Mr.writable=!1}return Mr.writable};function mC(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const fh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>Un);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},gC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Sn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Rr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},lr=async(t,e)=>{await t.removeItem(e)};class Ni{constructor(){this.promise=new Ni.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ni.promiseConstructor=Promise;function fo(t){const e=t.split(".");if(e.length!==3)throw new oa("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!eC.test(e[n]))throw new oa("JWT not in base64url format");return{header:JSON.parse(Ll(e[0])),payload:JSON.parse(Ll(e[1])),signature:uC(e[2]),raw:{header:e[0],payload:e[1]}}}async function vC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function yC(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function bC(t){return("0"+t.toString(16)).substr(-2)}function wC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,bC).join("")}async function _C(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function SC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await _C(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gn(t,e,r=!1){const n=wC();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Sn(t,`${e}-code-verifier`,s);const i=await SC(n);return[i,n===i?"plain":"s256"]}const xC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OC(t){const e=t.headers.get(sa);if(!e||!e.match(xC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function TC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function EC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vn(t){if(!CC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ho(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ul(t){return JSON.parse(JSON.stringify(t))}var kC=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const $r=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DC=[502,503,504];async function Bl(t){var e;if(!gC(t))throw new ia($r(t),0);if(DC.includes(t.status))throw new ia($r(t),t.status);let r;try{r=await t.json()}catch(i){throw new lh($r(i),i)}let n;const s=OC(t);if(s&&s.getTime()>=ch["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Nl($r(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ur}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Nl($r(r),t.status,r.weak_password.reasons);throw new rC($r(r),t.status||500,n)}const PC=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function re(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[sa]||(i[sa]=ch["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await MC(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function MC(t,e,r,n,s,i){const o=PC(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new ia($r(c),0)}if(a.ok||await Bl(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await Bl(c)}}function zt(t){var e;let r=null;IC(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=hC(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ql(t){const e=zt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function hr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function RC(t){return{data:t,error:null}}function AC(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=kC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function jC(t){return t}function IC(t){return t.access_token&&t.refresh_token&&t.expires_in}const po=["global","local","others"];var $C=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class NC{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=fh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=po[0]){if(po.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${po.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:hr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=$C(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:AC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:jC});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);l[`${y}Page`]=m}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Q(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){vn(e);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){vn(e);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:hr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){vn(e);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:hr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){vn(e.userId);try{const{data:r,error:n}=await re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteFactor(e){vn(e.userId),vn(e.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}}function Hl(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function FC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yn={debug:!!(globalThis&&dh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class WC extends hh{}async function LC(t,e,r){yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),yn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new WC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}FC();const UC={url:JE,storageKey:XE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zl(t,e,r){return await r()}const bn={};class ys{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ys.nextInstanceID,ys.nextInstanceID+=1,this.instanceID>0&&xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},UC),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new NC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=fh(s.fetch),this.lock=s.lock||zl,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:xt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=LC:this.lock=zl,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:dh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hl(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Hl(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=bn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=bn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ah}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=mC(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),xt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),iC(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Q(r)?{error:r}:{error:new lh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:zt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await gn(this.storage,this.storageKey)),i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:v},xform:zt})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:zt})}else throw new Hs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ql})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ql})}else throw new Hs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new qs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,a,c,l,u,d,f,h;let v,m;if("message"in e)v=e.message,m=e.signature;else{const{chain:y,wallet:w,statement:g,options:b}=e;let E;if(xt())if(typeof w=="object")E=w;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))E=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const x=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let O;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")O=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)O=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)v=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),m=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const x=await E.signMessage(new TextEncoder().encode(v),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=x}}try{const{data:y,error:w}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:fC(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:zt});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new qs}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(Q(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const r=await Rr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:zt});if(await lr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new qs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:zt}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new qs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await gn(this.storage,this.storageKey));const{error:d}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Hs("You must provide either an email or phone number.")}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:zt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await gn(this.storage,this.storageKey)),await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:RC})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ur;const{error:s}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Hs("You must provide either an email or phone number and a type")}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<lo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Rr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=ho()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ur}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:hr})})}catch(r){if(Q(r))return sC(r)&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ur;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await gn(this.storage,this.storageKey));const{data:l,error:u}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:hr});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ur;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=fo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ur;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!xt())throw new zs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $l("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $l("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new zs("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;c&&(f=parseInt(c));const h=f-u;h*1e3<=_n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const v=f-d;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,u);const{data:m,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(n){if(Q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Rr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(nC(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=pC(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await gn(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,c,l,u;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return xt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Q(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yC(async s=>(s>0&&await vC(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&uo(i)&&Date.now()+o-n<_n})}catch(n){if(this._debug(r,"error",n),Q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),xt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Rr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Sn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:ho()}else if(s&&!s.user&&!s.user){const o=await Rr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await lr(this.storage,this.storageKey+"-user"),await Sn(this.storage,this.storageKey,s)):s.user=ho()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<lo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${lo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),uo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ur;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ni;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ur;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Q(i)){const o={session:null,error:i};return uo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Sn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Ul(s);await Sn(this.storage,this.storageKey,i)}else{const s=Ul(r);await Sn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await lr(this.storage,this.storageKey),await lr(this.storage,this.storageKey+"-code-verifier"),await lr(this.storage,this.storageKey+"-user"),this.userStorage&&await lr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_n);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/_n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_n}ms, refresh threshold is ${na} ticks`),s<=na&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof hh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await gn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await re(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=fo(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+tC>s)return n;const{data:i,error:o}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:v}=await this.getSession();if(v||!h.session)return{data:null,error:v};n=h.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=fo(n);r!=null&&r.allowExpired||TC(i.exp);const l=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!l){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:s,signature:o},error:null}}const u=EC(s.alg),d=await crypto.subtle.importKey("jwk",l,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,dC(`${a}.${c}`)))throw new oa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}ys.nextInstanceID=0;const BC=ys;class qC extends BC{constructor(e){super(e)}}var HC=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};class zC{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=KE(e),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:UE,realtime:qE,auth:Object.assign(Object.assign({},BE),{storageKey:l}),global:LE},d=QE(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=VE(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new aE(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new NE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new JT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return HC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:c},l,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qC({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new OE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const YC=(t,e,r)=>new zC(t,e,r);function VC(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}VC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const GC=void 0,KC=void 0,vt=YC(GC,KC,{auth:{persistSession:!0},global:{headers:{"Cache-Control":"no-store"}}}),QC=async(t,e="todo-images")=>{try{const r=t.name.split(".").pop(),s=`${`${Math.random().toString(36).substring(2,15)}_${Date.now()}.${r}`}`,{data:i,error:o}=await vt.storage.from(e).upload(s,t,{cacheControl:"3600",upsert:!1,contentType:t.type});if(o)throw o;const{data:{publicUrl:a}}=vt.storage.from(e).getPublicUrl(i.path,{download:!1,transform:{quality:80}});return a}catch(r){throw console.error("Error uploading file:",r),r}};var st=(t=>(t.TO_DO="TO_DO",t.IN_PROGRESS="IN_PROGRESS",t.DONE="DONE",t))(st||{}),Hr=(t=>(t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t))(Hr||{});const JC=async()=>{try{const{data:t,error:e}=await vt.from("todos").select(`
      id,
    title,
    description,
    status,
    priority,
    deadline,
    orderInColumn,
    file,
    createdAt,
    executor,
    user:executors ( id, name, email )
    `).order("orderInColumn",{ascending:!0});if(e)throw e;const r={[st.TO_DO]:[],[st.IN_PROGRESS]:[],[st.DONE]:[]};return t.forEach(n=>{r[n.status].push(n)}),r}catch(t){throw console.error("Error fetching todos:",t),t}},XC=async(t,e)=>{try{const{count:r,error:n}=await vt.from("todos").select("*",{count:"exact",head:!0}).eq("status",e);if(n)throw n;const s=r||0,{data:i,error:o}=await vt.from("todos").insert({...t,status:e,orderInColumn:s}).select().single();if(o)throw o;return i}catch(r){throw console.error("Error creating todo:",r),r}},ZC=async t=>{try{const{data:e,error:r}=await vt.from("todos").update(t).eq("id",t.id).select().single();if(r)throw r;return e}catch(e){throw console.error("Error updating todo:",e),e}},ek=async(t,e,r)=>{try{const{count:n,error:s}=await vt.from("todos").select("*",{count:"exact",head:!0}).eq("status",r);if(s)throw s;const i=n||0,{error:o}=await vt.from("todos").update({status:r,orderInColumn:i}).eq("id",t);if(o)throw o;await rk(e)}catch(n){throw console.error("Error moving todo:",n),n}},tk=async(t,e,r)=>{try{const{data:n,error:s}=await vt.from("todos").select("*").eq("status",e).order("orderInColumn",{ascending:!0});if(s)throw s;const i=n.findIndex(c=>c.id===t);if(i===-1)throw new Error("Todo not found");const[o]=n.splice(i,1);n.splice(r,0,o);const a=n.map((c,l)=>({id:c.id,orderInColumn:l}));await ph(a)}catch(n){throw console.error("Error reordering todo:",n),n}},ph=async t=>{try{const e=t.map(n=>({id:n.id,orderInColumn:n.orderInColumn})),{error:r}=await vt.from("todos").upsert(e,{onConflict:"id"});if(r)throw r}catch(e){throw console.error("Error batch updating todos:",e),e}},rk=async t=>{try{const{data:e,error:r}=await vt.from("todos").select("*").eq("status",t).order("orderInColumn",{ascending:!0});if(r)throw r;const n=e.map((s,i)=>({id:s.id,orderInColumn:i}));await ph(n)}catch(e){throw console.error("Error reordering source column:",e),e}},De=["todos"],nk=()=>Su({queryKey:De,queryFn:JC}),sk=()=>{const t=jn();return mi({mutationFn:({todo:e,status:r})=>XC(e,r),onMutate:async({todo:e,status:r})=>{await t.cancelQueries({queryKey:De});const n=t.getQueryData(De);return n?(t.setQueryData(De,s=>{if(!s)return n;const i=JSON.parse(JSON.stringify(s)),o=`temp-${Date.now()}`,a={...e,id:o,status:r,orderInColumn:i[r].length};return i[r].push(a),i}),{previousTodos:n}):{previousTodos:null}},onError:(e,r,n)=>{n!=null&&n.previousTodos&&t.setQueryData(De,n.previousTodos)},onSettled:()=>{t.invalidateQueries({queryKey:De})}})},ik=()=>{const t=jn();return mi({mutationFn:e=>ZC(e),onMutate:async e=>{await t.cancelQueries({queryKey:De});const r=t.getQueryData(De);return r?(t.setQueryData(De,n=>{if(!n)return r;const s=JSON.parse(JSON.stringify(n)),i=s[e.status].findIndex(a=>a.id===e.id);if(i===-1)return n;const o=s[e.status][i];return s[e.status][i]={...o,...e},s}),{previousTodos:r}):{previousTodos:null}},onError:(e,r,n)=>{n!=null&&n.previousTodos&&t.setQueryData(De,n.previousTodos)},onSettled:()=>{t.invalidateQueries({queryKey:De})}})},ok=()=>{const t=jn();return mi({mutationFn:({todoId:e,sourceStatus:r,destinationStatus:n})=>ek(e,r,n),onMutate:async({todoId:e,sourceStatus:r,destinationStatus:n})=>{await t.cancelQueries({queryKey:De});const s=t.getQueryData(De);return s?(t.setQueryData(De,i=>{if(!i)return s;const o=JSON.parse(JSON.stringify(i)),a=o[r].findIndex(u=>u.id===e);if(a===-1)return i;const[c]=o[r].splice(a,1),l={...c,status:n,orderInColumn:o[n].length};return o[n].push(l),o[r].forEach((u,d)=>{u.orderInColumn=d}),o}),{previousTodos:s}):{previousTodos:null}},onError:(e,r,n)=>{n!=null&&n.previousTodos&&t.setQueryData(De,n.previousTodos)},onSettled:()=>{t.invalidateQueries({queryKey:De})}})},ak=()=>{const t=jn();return mi({mutationFn:({todoId:e,status:r,newOrder:n})=>tk(e,r,n),onMutate:async({todoId:e,status:r,newOrder:n})=>{await t.cancelQueries({queryKey:De});const s=t.getQueryData(De);return s?(t.setQueryData(De,i=>{if(!i)return s;const o=JSON.parse(JSON.stringify(i)),a=o[r].findIndex(l=>l.id===e);if(a===-1)return i;const[c]=o[r].splice(a,1);return o[r].splice(n,0,c),o[r].forEach((l,u)=>{l.orderInColumn=u}),o}),{previousTodos:s}):{previousTodos:null}},onError:(e,r,n)=>{n!=null&&n.previousTodos&&t.setQueryData(De,n.previousTodos)},onSettled:()=>{t.invalidateQueries({queryKey:De})}})};var mo,Yl;function ck(){if(Yl)return mo;Yl=1;function t(w){this._maxSize=w,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(w){return this._values[w]},t.prototype.set=function(w,g){return this._size>=this._maxSize&&this.clear(),w in this._values||this._size++,this._values[w]=g};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,n=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,o=512,a=new t(o),c=new t(o),l=new t(o);mo={Cache:t,split:d,normalizePath:u,setter:function(w){var g=u(w);return c.get(w)||c.set(w,function(E,S){for(var x=0,O=g.length,P=E;x<O-1;){var $=g[x];if($==="__proto__"||$==="constructor"||$==="prototype")return E;P=P[g[x++]]}P[g[x]]=S})},getter:function(w,g){var b=u(w);return l.get(w)||l.set(w,function(S){for(var x=0,O=b.length;x<O;)if(S!=null||!g)S=S[b[x++]];else return;return S})},join:function(w){return w.reduce(function(g,b){return g+(h(b)||r.test(b)?"["+b+"]":(g?".":"")+b)},"")},forEach:function(w,g,b){f(Array.isArray(w)?w:d(w),g,b)}};function u(w){return a.get(w)||a.set(w,d(w).map(function(g){return g.replace(i,"$2")}))}function d(w){return w.match(e)||[""]}function f(w,g,b){var E=w.length,S,x,O,P;for(x=0;x<E;x++)S=w[x],S&&(y(S)&&(S='"'+S+'"'),P=h(S),O=!P&&/^\d+$/.test(S),g.call(b,S,P,O,x,w))}function h(w){return typeof w=="string"&&w&&["'",'"'].indexOf(w.charAt(0))!==-1}function v(w){return w.match(n)&&!w.match(r)}function m(w){return s.test(w)}function y(w){return!h(w)&&(v(w)||m(w))}return mo}var zr=ck(),go,Vl;function lk(){if(Vl)return go;Vl=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=u=>u.match(t)||[],r=u=>u[0].toUpperCase()+u.slice(1),n=(u,d)=>e(u).join(d).toLowerCase(),s=u=>e(u).reduce((d,f)=>`${d}${d?f[0].toUpperCase()+f.slice(1).toLowerCase():f.toLowerCase()}`,"");return go={words:e,upperFirst:r,camelCase:s,pascalCase:u=>r(s(u)),snakeCase:u=>n(u,"_"),kebabCase:u=>n(u,"-"),sentenceCase:u=>r(n(u," ")),titleCase:u=>e(u).map(r).join(" ")},go}var vo=lk(),Ys={exports:{}},Gl;function uk(){if(Gl)return Ys.exports;Gl=1,Ys.exports=function(s){return t(e(s),s)},Ys.exports.array=t;function t(s,i){var o=s.length,a=new Array(o),c={},l=o,u=r(i),d=n(s);for(i.forEach(function(h){if(!d.has(h[0])||!d.has(h[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});l--;)c[l]||f(s[l],l,new Set);return a;function f(h,v,m){if(m.has(h)){var y;try{y=", node was:"+JSON.stringify(h)}catch{y=""}throw new Error("Cyclic dependency"+y)}if(!d.has(h))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(h));if(!c[v]){c[v]=!0;var w=u.get(h)||new Set;if(w=Array.from(w),v=w.length){m.add(h);do{var g=w[--v];f(g,d.get(g),m)}while(v);m.delete(h)}a[--o]=h}}}function e(s){for(var i=new Set,o=0,a=s.length;o<a;o++){var c=s[o];i.add(c[0]),i.add(c[1])}return Array.from(i)}function r(s){for(var i=new Map,o=0,a=s.length;o<a;o++){var c=s[o];i.has(c[0])||i.set(c[0],new Set),i.has(c[1])||i.set(c[1],new Set),i.get(c[0]).add(c[1])}return i}function n(s){for(var i=new Map,o=0,a=s.length;o<a;o++)i.set(s[o],o);return i}return Ys.exports}var dk=uk();const fk=fi(dk),hk=Object.prototype.toString,pk=Error.prototype.toString,mk=RegExp.prototype.toString,gk=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",vk=/^Symbol\((.*)\)(.*)$/;function yk(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function Kl(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return yk(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return gk.call(t).replace(vk,"Symbol($1)");const n=hk.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+pk.call(t)+"]":n==="RegExp"?mk.call(t):null}function wr(t,e){let r=Kl(t,e);return r!==null?r:JSON.stringify(t,function(n,s){let i=Kl(this[n],e);return i!==null?i:s},2)}function mh(t){return t==null?[]:[].concat(t)}let gh,vh,yh,bk=/\$\{\s*(\w+)\s*\}/g;gh=Symbol.toStringTag;class Ql{constructor(e,r,n,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[gh]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=s,this.errors=[],this.inner=[],mh(e).forEach(i=>{if(Xe.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}vh=Symbol.hasInstance;yh=Symbol.toStringTag;class Xe extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(bk,(s,i)=>wr(r[i])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,s,i){const o=new Ql(e,r,n,s);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[yh]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Xe)}static[vh](e){return Ql[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let jt={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const s=n!=null&&n!==r?` (cast from the value \`${wr(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${wr(r,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${wr(r,!0)}\``+s}},tt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},wk={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},aa={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},_k={isValue:"${path} field must be ${value}"},Js={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Sk={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},xk={notType:t=>{const{path:e,value:r,spec:n}=t,s=n.types.length;if(Array.isArray(r)){if(r.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${r.length} for value: \`${wr(r,!0)}\``;if(r.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${r.length} for value: \`${wr(r,!0)}\``}return Xe.formatError(jt.notType,t)}};Object.assign(Object.create(null),{mixed:jt,string:tt,number:wk,date:aa,object:Js,array:Sk,boolean:_k,tuple:xk});const Ua=t=>t&&t.__isYupSchema__;class li{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:s,otherwise:i}=r,o=typeof n=="function"?n:(...a)=>a.every(c=>c===n);return new li(e,(a,c)=>{var l;let u=o(...a)?s:i;return(l=u==null?void 0:u(c))!=null?l:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(i=>i.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),s=this.fn(n,e,r);if(s===void 0||s===e)return e;if(!Ua(s))throw new TypeError("conditions must return a schema object");return s.resolve(r)}}const Vs={context:"$",value:"."};class rn{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Vs.context,this.isValue=this.key[0]===Vs.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Vs.context:this.isValue?Vs.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&zr.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let s=this.isContext?n:this.isValue?e:r;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}rn.prototype.__isYupRef=!0;const Wr=t=>t==null;function wn(t){function e({value:r,path:n="",options:s,originalValue:i,schema:o},a,c){const{name:l,test:u,params:d,message:f,skipAbsent:h}=t;let{parent:v,context:m,abortEarly:y=o.spec.abortEarly,disableStackTrace:w=o.spec.disableStackTrace}=s;const g={value:r,parent:v,context:m};function b(k={}){const R=bh(Object.assign({value:r,originalValue:i,label:o.spec.label,path:k.path||n,spec:o.spec,disableStackTrace:k.disableStackTrace||w},d,k.params),g),I=new Xe(Xe.formatError(k.message||f,R),r,R.path,k.type||l,R.disableStackTrace);return I.params=R,I}const E=y?a:c;let S={path:n,parent:v,type:l,from:s.from,createError:b,resolve(k){return wh(k,g)},options:s,originalValue:i,schema:o};const x=k=>{Xe.isError(k)?E(k):k?c(null):E(b())},O=k=>{Xe.isError(k)?E(k):a(k)};if(h&&Wr(r))return x(!0);let $;try{var N;if($=u.call(S,r,S),typeof((N=$)==null?void 0:N.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${S.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve($).then(x,O)}}catch(k){O(k);return}x($)}return e.OPTIONS=t,e}function bh(t,e){if(!t)return t;for(const r of Object.keys(t))t[r]=wh(t[r],e);return t}function wh(t,e){return rn.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function Ok(t,e,r,n=r){let s,i,o;return e?(zr.forEach(e,(a,c,l)=>{let u=c?a.slice(1,a.length-1):a;t=t.resolve({context:n,parent:s,value:r});let d=t.type==="tuple",f=l?parseInt(u,10):0;if(t.innerType||d){if(d&&!l)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(r&&f>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);s=r,r=r&&r[f],t=d?t.spec.types[f]:t.innerType}if(!l){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);s=r,r=r&&r[u],t=t.fields[u]}i=u,o=c?"["+a+"]":"."+a}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class ui extends Set{describe(){const e=[];for(const r of this.values())e.push(rn.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new ui(this.values())}merge(e,r){const n=this.clone();return e.forEach(s=>n.add(s)),r.forEach(s=>n.delete(s)),n}}function xn(t,e=new Map){if(Ua(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=xn(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,s]of t.entries())r.set(n,xn(s,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(xn(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,s]of Object.entries(t))r[n]=xn(s,e)}else throw Error(`Unable to clone ${t}`);return r}function Tk(t){if(!(t!=null&&t.length))return;const e=[];let r="",n=!1,s=!1;for(let i=0;i<t.length;i++){const o=t[i];if(o==="["&&!s){r&&(e.push(...r.split(".").filter(Boolean)),r=""),n=!0;continue}if(o==="]"&&!s){r&&(/^\d+$/.test(r)?e.push(r):e.push(r.replace(/^"|"$/g,"")),r=""),n=!1;continue}if(o==='"'){s=!s;continue}if(o==="."&&!n&&!s){r&&(e.push(r),r="");continue}r+=o}return r&&e.push(...r.split(".").filter(Boolean)),e}function Ek(t,e){const r=e?`${e}.${t.path}`:t.path;return t.errors.map(n=>({message:n,path:Tk(r)}))}function _h(t,e){var r;if(!((r=t.inner)!=null&&r.length)&&t.errors.length)return Ek(t,e);const n=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(s=>_h(s,n))}class Lt{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ui,this._blacklist=new ui,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(jt.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=xn(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const s=Object.assign({},r.spec,n.spec);return n.spec=s,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((s,i)=>i.resolve(s,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,s,i;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),s=r.assert==="ignore-optionality",i=n._cast(e,r);if(r.assert!==!1&&!n.isType(i)){if(s&&Wr(i))return i;let o=wr(e),a=wr(i);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,s){let{path:i,originalValue:o=e,strict:a=this.spec.strict}=r,c=e;a||(c=this._cast(c,Object.assign({assert:!1},r)));let l=[];for(let u of Object.values(this.internalTests))u&&l.push(u);this.runTests({path:i,value:c,originalValue:o,options:r,tests:l},n,u=>{if(u.length)return s(u,c);this.runTests({path:i,value:c,originalValue:o,options:r,tests:this.tests},n,s)})}runTests(e,r,n){let s=!1,{tests:i,value:o,originalValue:a,path:c,options:l}=e,u=m=>{s||(s=!0,r(m,o))},d=m=>{s||(s=!0,n(m,o))},f=i.length,h=[];if(!f)return d([]);let v={value:o,originalValue:a,path:c,options:l,schema:this};for(let m=0;m<i.length;m++){const y=i[m];y(v,u,function(g){g&&(Array.isArray(g)?h.push(...g):h.push(g)),--f<=0&&d(h)})}}asNestedTest({key:e,index:r,parent:n,parentPath:s,originalParent:i,options:o}){const a=e??r;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let l=n[a];const u=Object.assign({},o,{strict:!0,parent:n,value:l,originalValue:i[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${s||""}[${c?a:`"${a}"`}]`:(s?`${s}.`:"")+e});return(d,f,h)=>this.resolve(u)._validate(l,u,f,h)}validate(e,r){var n;let s=this.resolve(Object.assign({},r,{value:e})),i=(n=r==null?void 0:r.disableStackTrace)!=null?n:s.spec.disableStackTrace;return new Promise((o,a)=>s._validate(e,r,(c,l)=>{Xe.isError(c)&&(c.value=l),a(c)},(c,l)=>{c.length?a(new Xe(c,l,void 0,void 0,i)):o(l)}))}validateSync(e,r){var n;let s=this.resolve(Object.assign({},r,{value:e})),i,o=(n=r==null?void 0:r.disableStackTrace)!=null?n:s.spec.disableStackTrace;return s._validate(e,Object.assign({},r,{sync:!0}),(a,c)=>{throw Xe.isError(a)&&(a.value=c),a},(a,c)=>{if(a.length)throw new Xe(a,e,void 0,void 0,o);i=c}),i}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Xe.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Xe.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):xn(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=wn({message:r,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=wn({message:r,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=jt.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=jt.notNull){return this.nullability(!1,e)}required(e=jt.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=jt.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),s=wn(r),i=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(o=>!(o.OPTIONS.name===r.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),n.tests.push(s),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),s=mh(e).map(i=>new rn(i));return s.forEach(i=>{i.isSibling&&n.deps.push(i.key)}),n.conditions.push(typeof r=="function"?new li(s,r):li.fromOptions(s,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=wn({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=jt.oneOf){let n=this.clone();return e.forEach(s=>{n._whitelist.add(s),n._blacklist.delete(s)}),n.internalTests.whiteList=wn({message:r,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),n}notOneOf(e,r=jt.notOneOf){let n=this.clone();return e.forEach(s=>{n._blacklist.add(s),n._whitelist.delete(s)}),n.internalTests.blacklist=wn({message:r,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:s,optional:i,nullable:o}=r.spec;return{meta:s,label:n,optional:i,nullable:o,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.filter((c,l,u)=>u.findIndex(d=>d.OPTIONS.name===c.OPTIONS.name)===l).map(c=>{const l=c.OPTIONS.params&&e?bh(Object.assign({},c.OPTIONS.params),e):c.OPTIONS.params;return{name:c.OPTIONS.name,params:l}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(n){try{return{value:await e.validate(n,{abortEarly:!1})}}catch(s){if(s instanceof Xe)return{issues:_h(s)};throw s}}}}}Lt.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Lt.prototype[`${t}At`]=function(e,r,n={}){const{parent:s,parentPath:i,schema:o}=Ok(this,e,r,n.context);return o[t](s&&s[i],Object.assign({},n,{parent:s,path:e}))};for(const t of["equals","is"])Lt.prototype[t]=Lt.prototype.oneOf;for(const t of["not","nope"])Lt.prototype[t]=Lt.prototype.notOneOf;const Ck=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function kk(t){const e=ca(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function ca(t){var e,r;const n=Ck.exec(t);return n?{year:Ht(n[1]),month:Ht(n[2],1)-1,day:Ht(n[3],1),hour:Ht(n[4]),minute:Ht(n[5]),second:Ht(n[6]),millisecond:n[7]?Ht(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Ht(n[10]),minuteOffset:Ht(n[11])}:null}function Ht(t,e=0){return Number(t)||e}let Dk=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Pk=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Mk=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Rk="^\\d{4}-\\d{2}-\\d{2}",Ak="\\d{2}:\\d{2}:\\d{2}",jk="(([+-]\\d{2}(:?\\d{2})?)|Z)",Ik=new RegExp(`${Rk}T${Ak}(\\.\\d+)?${jk}$`),$k=t=>Wr(t)||t===t.trim(),Nk={}.toString();function fr(){return new Sh}class Sh extends Lt{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===Nk?e:s})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||jt.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=tt.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=tt.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=tt.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,s,i;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:s,name:i}=r:s=r),this.test({name:i||"matches",message:s||tt.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&n||o.search(e)!==-1})}email(e=tt.email){return this.matches(Dk,{name:"email",message:e,excludeEmptyString:!0})}url(e=tt.url){return this.matches(Pk,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=tt.uuid){return this.matches(Mk,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,s;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:s=void 0}=e:r=e),this.matches(Ik,{name:"datetime",message:r||tt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||tt.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:i=>{if(!i||n)return!0;const o=ca(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:r||tt.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const o=ca(i);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=tt.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:$k})}lowercase(e=tt.lowercase){return this.transform(r=>Wr(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>Wr(r)||r===r.toLowerCase()})}uppercase(e=tt.uppercase){return this.transform(r=>Wr(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>Wr(r)||r===r.toUpperCase()})}}fr.prototype=Sh.prototype;let Fk=new Date(""),Wk=t=>Object.prototype.toString.call(t)==="[object Date]";class Ba extends Lt{constructor(){super({type:"date",check(e){return Wk(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=kk(e),isNaN(e)?Ba.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(rn.isRef(e))n=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=s}return n}min(e,r=aa.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(n)}})}max(e,r=aa.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(n)}})}}Ba.INVALID_DATE=Fk;function Lk(t,e=[]){let r=[],n=new Set,s=new Set(e.map(([o,a])=>`${o}-${a}`));function i(o,a){let c=zr.split(o)[0];n.add(c),s.has(`${a}-${c}`)||r.push([a,c])}for(const o of Object.keys(t)){let a=t[o];n.add(o),rn.isRef(a)&&a.isSibling?i(a.path,o):Ua(a)&&"deps"in a&&a.deps.forEach(c=>i(c,o))}return fk.array(Array.from(n),r).reverse()}function Jl(t,e){let r=1/0;return t.some((n,s)=>{var i;if((i=e.path)!=null&&i.includes(n))return r=s,!0}),r}function xh(t){return(e,r)=>Jl(t,e)-Jl(t,r)}const Uk=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function Xs(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=Xs(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Xs(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Xs)}):"optional"in t?t.optional():t}const Bk=(t,e)=>{const r=[...zr.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),s=zr.getter(zr.join(r),!0)(t);return!!(s&&n in s)};let Xl=t=>Object.prototype.toString.call(t)==="[object Object]";function Zl(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const qk=xh([]);function qa(t){return new Oh(t)}class Oh extends Lt{constructor(e){super({type:"object",check(r){return Xl(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=qk,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let s=super._cast(e,r);if(s===void 0)return this.getDefault(r);if(!this._typeCheck(s))return s;let i=this.fields,o=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(d=>!this._nodes.includes(d))),c={},l=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),u=!1;for(const d of a){let f=i[d],h=d in s;if(f){let v,m=s[d];l.path=(r.path?`${r.path}.`:"")+d,f=f.resolve({value:m,context:r.context,parent:c});let y=f instanceof Lt?f.spec:void 0,w=y==null?void 0:y.strict;if(y!=null&&y.strip){u=u||d in s;continue}v=!r.__validating||!w?f.cast(s[d],l):s[d],v!==void 0&&(c[d]=v)}else h&&!o&&(c[d]=s[d]);(h!==d in c||c[d]!==s[d])&&(u=!0)}return u?c:s}_validate(e,r={},n,s){let{from:i=[],originalValue:o=e,recursive:a=this.spec.recursive}=r;r.from=[{schema:this,value:o},...i],r.__validating=!0,r.originalValue=o,super._validate(e,r,n,(c,l)=>{if(!a||!Xl(l)){s(c,l);return}o=o||l;let u=[];for(let d of this._nodes){let f=this.fields[d];!f||rn.isRef(f)||u.push(f.asNestedTest({options:r,key:d,parent:l,parentPath:r.path,originalParent:o}))}this.runTests({tests:u,value:l,originalValue:o,options:r},n,d=>{s(d.sort(this._sortErrors).concat(c),l)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[s,i]of Object.entries(this.fields)){const o=n[s];n[s]=o===void 0?i:o}return r.withMutation(s=>s.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var s;const i=this.fields[n];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),r[n]=i&&"getDefault"in i?i.getDefault(o):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=Lk(e,r),n._sortErrors=xh(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let s=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),s=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),s)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return Xs(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,s])=>e.includes(n)&&e.includes(s)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let s=zr.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return Bk(i,e)&&(o=Object.assign({},i),n||delete o[e],o[r]=s(i)),o})}json(){return this.transform(Uk)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Js.exact,test(r){if(r==null)return!0;const n=Zl(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=Js.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(s){if(s==null)return!0;const i=Zl(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=Js.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const s of Object.keys(r))n[e(s)]=r[s];return n})}camelCase(){return this.transformKeys(vo.camelCase)}snakeCase(){return this.transformKeys(vo.snakeCase)}constantCase(){return this.transformKeys(e=>vo.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[i,o]of Object.entries(r.fields)){var s;let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),n.fields[i]=o.describe(a)}return n}}qa.prototype=Oh.prototype;const Hk=qa({title:fr().required(ir.t("validation:isRequired",{field:ir.t("todo:form.title.label")})),description:fr(),status:fr().oneOf(Object.values(st)).required(ir.t("validation:isRequired",{field:ir.t("todo:form.status.label")})),priority:fr().oneOf(Object.values(Hr)).required(ir.t("validation:isRequired",{field:ir.t("todo:form.priority.label")})),deadline:fr().required(ir.t("validation:isRequired",{field:ir.t("todo:form.deadline.label")})),executor:fr().nullable()}),qe=[];for(let t=0;t<256;++t)qe.push((t+256).toString(16).slice(1));function zk(t,e=0){return(qe[t[e+0]]+qe[t[e+1]]+qe[t[e+2]]+qe[t[e+3]]+"-"+qe[t[e+4]]+qe[t[e+5]]+"-"+qe[t[e+6]]+qe[t[e+7]]+"-"+qe[t[e+8]]+qe[t[e+9]]+"-"+qe[t[e+10]]+qe[t[e+11]]+qe[t[e+12]]+qe[t[e+13]]+qe[t[e+14]]+qe[t[e+15]]).toLowerCase()}let yo;const Yk=new Uint8Array(16);function Vk(){if(!yo){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");yo=crypto.getRandomValues.bind(crypto)}return yo(Yk)}const Gk=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eu={randomUUID:Gk};function Kk(t,e,r){var s;if(eu.randomUUID&&!t)return eu.randomUUID();t=t||{};const n=t.random??((s=t.rng)==null?void 0:s.call(t))??Vk();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,zk(n)}const Ha=t=>{const e=p.useContext(Wh),[r,n]=p.useState(!1),{current:s}=p.useRef(Kk());return p.useMemo(()=>({show(i){e.show(s,t,i),n(!0)},hide(){e.hide(s),n(!1)},isOpen:r}),[s,r,e,t])},Qk=async()=>{try{const{data:t,error:e}=await vt.from("executors").select("id, name, email").order("name",{ascending:!0});if(e)throw e;return t||[]}catch(t){throw console.error("Error fetching executors:",t),t}},Jk=["executors"],Xk=()=>Su({queryKey:Jk,queryFn:Qk}),Zk=qa({executor:fr().nullable()}),eD=t=>{const{executor:e,onCloseModal:r,onSubmit:n,registerCloseModal:s}=t,{t:i}=_s(),{data:o,isLoading:a}=Xk(),c=p.useCallback(()=>{s(),r()},[r,s]),l=p.useCallback(h=>{const v=h.executor;let m="";if(v&&o){const y=o.find(w=>w.id===v);m=(y==null?void 0:y.name)||""}n({...h,executorName:m}),c()},[o,c,n]),u=_d({initialValues:{executor:e},validationSchema:Zk,onSubmit:l}),{isSubmitting:d,handleSubmit:f}=u;return _.jsx(Kf,{title:i("todo:addExecutor"),clickSubmit:f,onCloseModal:c,disabled:d||a,children:_.jsx(bd,{value:u,children:_.jsx("form",{className:"space-y-4",onSubmit:f,children:_.jsx(Go,{name:"executor",label:i("todo:form.executor.label"),placeholder:i("todo:form.executor.placeholder"),options:(o==null?void 0:o.map(h=>({value:h.id,label:h.name})))||[]})})})})},Th=t=>{var I;const{initialData:e,onCloseModal:r}=t,{t:n}=_s(),{mutate:s}=sk(),{mutate:i}=ik(),[o,a]=p.useState(((I=e==null?void 0:e.user)==null?void 0:I.name)||""),[c,l]=p.useState(null),[u,d]=p.useState((e==null?void 0:e.file)||null),f=Ha(eD),h=p.useCallback(()=>{f.isOpen||r()},[f.isOpen,r]);p.useEffect(()=>{e!=null&&e.file&&d(e.file)},[e==null?void 0:e.file]);const v=e?{title:e.title,description:e.description||"",status:e.status,priority:e.priority,deadline:e.deadline,executor:e.executor}:{title:"",description:"",status:st.TO_DO,priority:Hr.MEDIUM,deadline:new Date().toISOString(),executor:null},m=p.useCallback(D=>{var L;const M=(L=D.target.files)==null?void 0:L[0];if(M){l(M);const T=URL.createObjectURL(M);d(T)}},[l,d]),y=p.useCallback(async D=>{try{let M=(e==null?void 0:e.file)||null;c&&(M=await QC(c));const L={...D,file:M,deadline:new Date(D.deadline).toISOString()};e?i({...L,id:e.id,orderInColumn:e.orderInColumn,status:D.status}):s({todo:L,status:D.status}),h()}catch(M){console.error("Error submitting form:",M)}},[e,c,i,s,h]),w=_d({initialValues:v,validationSchema:Hk,onSubmit:y,validateOnChange:!0}),{isSubmitting:g,handleSubmit:b,setFieldValue:E,values:S,isValid:x,dirty:O}=w,P=p.useCallback(D=>{const M=D.executor;E("executor",M),a(D.executorName||"")},[E,a]),$=p.useCallback(()=>{f.show({executor:S.executor,onSubmit:P,registerCloseModal:f.hide})},[f,S.executor,P]),N=p.useMemo(()=>g||!x||!O,[g,x,O]),k=p.useMemo(()=>Object.values(st).map(D=>({value:D,label:n(`todo:status.${D.toLowerCase()}`)})),[n]),R=p.useMemo(()=>Object.values(Hr).map(D=>({value:D,label:n(`todo:priority.${D.toLowerCase()}`)})),[n]);return _.jsx(Kf,{title:n(e?"todo:editTodo":"todo:addTodo"),clickSubmit:b,onCloseModal:h,disabled:N,children:_.jsx(bd,{value:w,children:_.jsxs("form",{className:"space-y-4",onSubmit:b,children:[_.jsx(Ew,{name:"title",label:n("todo:form.title.label"),placeholder:n("todo:form.title.placeholder"),disabled:g}),_.jsx(Dw,{name:"description",label:n("todo:form.description.label"),placeholder:n("todo:form.description.placeholder"),disabled:g}),_.jsx(Go,{name:"status",label:n("todo:form.status.label"),placeholder:n("todo:form.status.placeholder"),disabled:g,options:k}),_.jsx(Go,{name:"priority",label:n("todo:form.priority.label"),placeholder:n("todo:form.select.placeholder"),disabled:g,options:R}),_.jsx(PT,{name:"deadline",label:n("todo:form.deadline.label"),placeholder:n("todo:form.deadline.placeholder"),disabled:g}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Bo,{disabled:!0,value:o,placeholder:n("todo:form.executor.placeholder")}),_.jsx(ls,{onClick:$,disabled:g,children:n("todo:addExecutor")})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:n("todo:form.file")}),_.jsx(Bo,{type:"file",disabled:g,accept:"image/*",onChange:m,className:"cursor-pointer"}),u&&_.jsxs("div",{className:"mt-2",children:[_.jsx("p",{className:"text-sm mb-1",children:n("todo:form.preview")}),_.jsx("img",{src:u,alt:"Preview",className:"max-w-full h-auto max-h-40 rounded-md border border-gray-200"})]})]})]})})})},tD={[Hr.LOW]:_.jsx(gi,{className:"text-green-500 inline"}),[Hr.MEDIUM]:_.jsx(da,{className:"text-orange-500 inline"}),[Hr.HIGH]:_.jsx(pp,{className:"text-red-500 inline"})},rD=t=>{const{title:e,id:r,priority:n,deadline:s,file:i}=t,{attributes:o,listeners:a,setNodeRef:c,transform:l,transition:u,isDragging:d}=eg({id:r}),f=Ha(Th),h=p.useCallback(()=>{f.show({initialData:t})},[f,t]),v={transform:ds.Transform.toString(l),transition:u,opacity:d?.5:1};return _.jsxs("div",{onClick:h,ref:c,style:v,...o,...a,className:"p-3 mb-2 bg-card rounded shadow cursor-grab border border-card hover:border-card-foreground",children:[_.jsx("div",{className:"font-medium",children:e}),_.jsxs("div",{className:"flex justify-between mt-2 text-sm text-muted-foreground",children:[_.jsxs("div",{children:["Priority: ",tD[n]]}),_.jsxs("div",{className:"flex items-center gap-2",children:[i&&_.jsx(gp,{size:16,className:"text-blue-500"}),s&&_.jsxs("div",{children:["Due: ",new Date(s).toLocaleDateString()]})]})]})]})},nD=p.memo(rD),sD=t=>{const{items:e,header:r}=t,n=e.length>0?e[0].status:st.TO_DO,{setNodeRef:s,isOver:i}=Wu({id:n});return _.jsxs("div",{className:"flex flex-col h-full",children:[_.jsx("div",{className:"text-lg font-semibold mb-3 px-2",children:r}),_.jsx("div",{ref:s,className:`flex-1 p-2 rounded-md min-h-[400px] transition-all ${i?"bg-muted-foreground":"bg-muted"}`,children:e.map(o=>_.jsx(nD,{...o},o.id))})]})},iD=p.memo(sD),Eh=j.createContext({}),oD=({children:t,todos:e})=>{const[r,n]=p.useState(null),[s,i]=p.useState(null),[o,a]=p.useState(null),{mutate:c}=ok(),{mutate:l}=ak(),u=p.useRef(null),d=p.useCallback(g=>{for(const b of Object.values(st))if(e[b].some(E=>E.id===g))return b;return null},[e]),f=$p(Ip(ba,{activationConstraint:{distance:5}})),h=p.useCallback(g=>{u.current=null;const b=g.active.id,E=d(b);n(b),i(E),a(E)},[d]),v=p.useCallback(g=>{const{active:b,over:E}=g;if(!E)return;const S=b.id,x=E.id,O=d(S);if(!O)return;let P=null;Object.values(st).forEach($=>{if($===x){P=$;return}e[$].some(N=>N.id===x)&&(P=$)}),!(!P||O===P)&&(a(P),u.current={todoId:S,sourceStatus:O,destinationStatus:P})},[d,e]),m=p.useCallback(g=>{const{active:b,over:E}=g;if(n(null),i(null),a(null),u.current){c(u.current),u.current=null;return}if(!E)return;const S=b.id,x=E.id,O=d(S);if(!O||d(x)!==O)return;const $=e[O].findIndex(k=>k.id===S),N=e[O].findIndex(k=>k.id===x);$!==N&&l({todoId:S,status:O,newOrder:N})},[d,c,l,e]),y=p.useCallback(()=>!r||!s?null:e[s].find(g=>g.id===r)||null,[r,s,e]),w=p.useMemo(()=>({activeId:r,activeStatus:s,overStatus:o,getActiveTodo:y}),[r,s,o,y]);return _.jsx(Eh.Provider,{value:w,children:_.jsx(Nm,{sensors:f,onDragStart:h,onDragOver:v,onDragEnd:m,children:t})})},aD=j.memo(oD),cD=()=>{const t=p.useContext(Eh);if(!t)throw new Error("useDnd must be used within a DndProvider");return t};function lD({todos:t}){const{t:e}=_s(),{activeId:r,activeStatus:n,overStatus:s,getActiveTodo:i}=cD();return _.jsx("div",{className:"flex gap-4",children:Object.values(st).map(o=>{let a=[...t[o]];const c=i();return r&&n!==s&&c&&(o===n&&(a=a.filter(l=>l.id!==r)),o===s&&(a=[...a,{...c,status:o}])),_.jsx("div",{className:"flex-1",children:_.jsx(Vm,{items:a.map(l=>l.id),children:_.jsx(iD,{header:e(`todo:status.${o.toLowerCase()}`),items:a})})},o)})})}const bD=function(){const{t:e}=_s(),r=Ha(Th),{data:n={[st.TO_DO]:[],[st.IN_PROGRESS]:[],[st.DONE]:[]},isLoading:s}=nk(),i=p.useCallback(()=>{r.show()},[r]);return _.jsx(cg,{header:{title:e("todo:title"),actions:_.jsx(ls,{onClick:i,children:e("todo:addTodo")})},isLoading:s,children:_.jsx(aD,{todos:n,children:_.jsx(lD,{todos:n})})})};export{bD as component};
